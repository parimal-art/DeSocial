(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wp={exports:{}},Kl={},xp={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=Symbol.for("react.element"),iw=Symbol.for("react.portal"),sw=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),aw=Symbol.for("react.profiler"),lw=Symbol.for("react.provider"),cw=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),fw=Symbol.for("react.suspense"),dw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),o0=Symbol.iterator;function pw(e){return e===null||typeof e!="object"?null:(e=o0&&e[o0]||e["@@iterator"],typeof e=="function"?e:null)}var vp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_p=Object.assign,bp={};function ks(e,t,r){this.props=e,this.context=t,this.refs=bp,this.updater=r||vp}ks.prototype.isReactComponent={};ks.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ks.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ep(){}Ep.prototype=ks.prototype;function Wf(e,t,r){this.props=e,this.context=t,this.refs=bp,this.updater=r||vp}var Yf=Wf.prototype=new Ep;Yf.constructor=Wf;_p(Yf,ks.prototype);Yf.isPureReactComponent=!0;var a0=Array.isArray,Sp=Object.prototype.hasOwnProperty,Df={current:null},Np={key:!0,ref:!0,__self:!0,__source:!0};function Tp(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Sp.call(t,n)&&!Np.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Mo,type:e,key:s,ref:o,props:i,_owner:Df.current}}function mw(e,t){return{$$typeof:Mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mo}function gw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var l0=/\/+/g;function jc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gw(""+e.key):t.toString(36)}function Ta(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Mo:case iw:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+jc(o,0):n,a0(i)?(r="",e!=null&&(r=e.replace(l0,"$&/")+"/"),Ta(i,t,r,"",function(d){return d})):i!=null&&(Zf(i)&&(i=mw(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",a0(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+jc(s,a);o+=Ta(s,t,r,l,i)}else if(l=pw(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+jc(s,a++),o+=Ta(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xo(e,t,r){if(e==null)return e;var n=[],i=0;return Ta(e,n,"","",function(s){return t.call(r,s,i++)}),n}function yw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},ka={transition:null},ww={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ka,ReactCurrentOwner:Df};function kp(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Xo,forEach:function(e,t,r){Xo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xo(e,function(){t++}),t},toArray:function(e){return Xo(e,function(t){return t})||[]},only:function(e){if(!Zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=ks;Ae.Fragment=sw;Ae.Profiler=aw;Ae.PureComponent=Wf;Ae.StrictMode=ow;Ae.Suspense=fw;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ww;Ae.act=kp;Ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_p({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Df.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Sp.call(t,l)&&!Np.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:Mo,type:e.type,key:i,ref:s,props:n,_owner:o}};Ae.createContext=function(e){return e={$$typeof:cw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lw,_context:e},e.Consumer=e};Ae.createElement=Tp;Ae.createFactory=function(e){var t=Tp.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:uw,render:e}};Ae.isValidElement=Zf;Ae.lazy=function(e){return{$$typeof:hw,_payload:{_status:-1,_result:e},_init:yw}};Ae.memo=function(e,t){return{$$typeof:dw,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=ka.transition;ka.transition={};try{e()}finally{ka.transition=t}};Ae.unstable_act=kp;Ae.useCallback=function(e,t){return $t.current.useCallback(e,t)};Ae.useContext=function(e){return $t.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return $t.current.useEffect(e,t)};Ae.useId=function(){return $t.current.useId()};Ae.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};Ae.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return $t.current.useMemo(e,t)};Ae.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};Ae.useRef=function(e){return $t.current.useRef(e)};Ae.useState=function(e){return $t.current.useState(e)};Ae.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};Ae.useTransition=function(){return $t.current.useTransition()};Ae.version="18.3.1";xp.exports=Ae;var ae=xp.exports;const xw=yp(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=ae,_w=Symbol.for("react.element"),bw=Symbol.for("react.fragment"),Ew=Object.prototype.hasOwnProperty,Sw=vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nw={key:!0,ref:!0,__self:!0,__source:!0};function Ap(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ew.call(t,n)&&!Nw.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:_w,type:e,key:s,ref:o,props:i,_owner:Sw.current}}Kl.Fragment=bw;Kl.jsx=Ap;Kl.jsxs=Ap;wp.exports=Kl;var h=wp.exports,Au={},Bp={exports:{}},er={},jp={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,ne){var le=Z.length;Z.push(ne);e:for(;0<le;){var oe=le-1>>>1,he=Z[oe];if(0<i(he,ne))Z[oe]=ne,Z[le]=he,le=oe;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var ne=Z[0],le=Z.pop();if(le!==ne){Z[0]=le;e:for(var oe=0,he=Z.length,Oe=he>>>1;oe<Oe;){var R=2*(oe+1)-1,Ne=Z[R],ke=R+1,de=Z[ke];if(0>i(Ne,le))ke<he&&0>i(de,Ne)?(Z[oe]=de,Z[ke]=le,oe=ke):(Z[oe]=Ne,Z[R]=le,oe=R);else if(ke<he&&0>i(de,le))Z[oe]=de,Z[ke]=le,oe=ke;else break e}}return ne}function i(Z,ne){var le=Z.sortIndex-ne.sortIndex;return le!==0?le:Z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],g=1,w=null,x=3,b=!1,m=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Z){for(var ne=r(d);ne!==null;){if(ne.callback===null)n(d);else if(ne.startTime<=Z)n(d),ne.sortIndex=ne.expirationTime,t(l,ne);else break;ne=r(d)}}function V(Z){if(O=!1,N(Z),!m)if(r(l)!==null)m=!0,Q(k);else{var ne=r(d);ne!==null&&te(V,ne.startTime-Z)}}function k(Z,ne){m=!1,O&&(O=!1,S(L),L=-1),b=!0;var le=x;try{for(N(ne),w=r(l);w!==null&&(!(w.expirationTime>ne)||Z&&!ie());){var oe=w.callback;if(typeof oe=="function"){w.callback=null,x=w.priorityLevel;var he=oe(w.expirationTime<=ne);ne=e.unstable_now(),typeof he=="function"?w.callback=he:w===r(l)&&n(l),N(ne)}else n(l);w=r(l)}if(w!==null)var Oe=!0;else{var R=r(d);R!==null&&te(V,R.startTime-ne),Oe=!1}return Oe}finally{w=null,x=le,b=!1}}var I=!1,U=null,L=-1,G=5,z=-1;function ie(){return!(e.unstable_now()-z<G)}function se(){if(U!==null){var Z=e.unstable_now();z=Z;var ne=!0;try{ne=U(!0,Z)}finally{ne?j():(I=!1,U=null)}}else I=!1}var j;if(typeof E=="function")j=function(){E(se)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=se,j=function(){H.postMessage(null)}}else j=function(){P(se,0)};function Q(Z){U=Z,I||(I=!0,j())}function te(Z,ne){L=P(function(){Z(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){m||b||(m=!0,Q(k))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var le=x;x=ne;try{return Z()}finally{x=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,ne){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var le=x;x=Z;try{return ne()}finally{x=le}},e.unstable_scheduleCallback=function(Z,ne,le){var oe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?oe+le:oe):le=oe,Z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=le+he,Z={id:g++,callback:ne,priorityLevel:Z,startTime:le,expirationTime:he,sortIndex:-1},le>oe?(Z.sortIndex=le,t(d,Z),r(l)===null&&Z===r(d)&&(O?(S(L),L=-1):O=!0,te(V,le-oe))):(Z.sortIndex=he,t(l,Z),m||b||(m=!0,Q(k))),Z},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(Z){var ne=x;return function(){var le=x;x=ne;try{return Z.apply(this,arguments)}finally{x=le}}}})(Rp);jp.exports=Rp;var Tw=jp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw=ae,Jt=Tw;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Op=new Set,ho={};function Ei(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(ho[e]=t,e=0;e<t.length;e++)Op.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bu=Object.prototype.hasOwnProperty,Aw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c0={},u0={};function Bw(e){return Bu.call(u0,e)?!0:Bu.call(c0,e)?!1:Aw.test(e)?u0[e]=!0:(c0[e]=!0,!1)}function jw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rw(e,t,r,n){if(t===null||typeof t>"u"||jw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qf=/[\-:]([a-z])/g;function Xf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qf,Xf);_t[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qf,Xf);_t[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qf,Xf);_t[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jf(e,t,r,n){var i=_t.hasOwnProperty(t)?_t[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rw(t,r,i,n)&&(r=null),n||i===null?Bw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var un=kw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jo=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),qi=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),Fp=Symbol.for("react.provider"),Pp=Symbol.for("react.context"),td=Symbol.for("react.forward_ref"),Ru=Symbol.for("react.suspense"),Ou=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),Cp=Symbol.for("react.offscreen"),f0=Symbol.iterator;function Fs(e){return e===null||typeof e!="object"?null:(e=f0&&e[f0]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Object.assign,Rc;function Hs(e){if(Rc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rc=t&&t[1]||""}return`
`+Rc+e}var Oc=!1;function Fc(e,t){if(!e||Oc)return"";Oc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Oc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hs(e):""}function Ow(e){switch(e.tag){case 5:return Hs(e.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return e=Fc(e.type,!1),e;case 11:return e=Fc(e.type.render,!1),e;case 1:return e=Fc(e.type,!0),e;default:return""}}function Fu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qi:return"Fragment";case Hi:return"Portal";case ju:return"Profiler";case ed:return"StrictMode";case Ru:return"Suspense";case Ou:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pp:return(e.displayName||"Context")+".Consumer";case Fp:return(e._context.displayName||"Context")+".Provider";case td:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rd:return t=e.displayName||null,t!==null?t:Fu(e.type)||"Memo";case _n:t=e._payload,e=e._init;try{return Fu(e(t))}catch{}}return null}function Fw(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fu(t);case 8:return t===ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pw(e){var t=Ip(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ea(e){e._valueTracker||(e._valueTracker=Pw(e))}function Up(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ip(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pu(e,t){var r=t.checked;return Ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function d0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mp(e,t){t=t.checked,t!=null&&Jf(e,"checked",t,!1)}function Cu(e,t){Mp(e,t);var r=qn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Iu(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function h0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Iu(e,t,r){(t!=="number"||ol(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qs=Array.isArray;function ss(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Uu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function p0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(qs(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qn(r)}}function $p(e,t){var r=qn(t.value),n=qn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function m0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ta,Vp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function po(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cw=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){Cw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function Hp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function qp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Hp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Iw=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $u(e,t){if(t){if(Iw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function zu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=null;function nd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hu=null,os=null,as=null;function g0(e){if(e=Vo(e)){if(typeof Hu!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Zl(t),Hu(e.stateNode,e.type,t))}}function Gp(e){os?as?as.push(e):as=[e]:os=e}function Kp(){if(os){var e=os,t=as;if(as=os=null,g0(e),t)for(e=0;e<t.length;e++)g0(t[e])}}function Lp(e,t){return e(t)}function Wp(){}var Pc=!1;function Yp(e,t,r){if(Pc)return e(t,r);Pc=!0;try{return Lp(e,t,r)}finally{Pc=!1,(os!==null||as!==null)&&(Wp(),Kp())}}function mo(e,t){var r=e.stateNode;if(r===null)return null;var n=Zl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var qu=!1;if(sn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{qu=!1}function Uw(e,t,r,n,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(g){this.onError(g)}}var eo=!1,al=null,ll=!1,Gu=null,Mw={onError:function(e){eo=!0,al=e}};function $w(e,t,r,n,i,s,o,a,l){eo=!1,al=null,Uw.apply(Mw,arguments)}function zw(e,t,r,n,i,s,o,a,l){if($w.apply(this,arguments),eo){if(eo){var d=al;eo=!1,al=null}else throw Error(fe(198));ll||(ll=!0,Gu=d)}}function Si(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y0(e){if(Si(e)!==e)throw Error(fe(188))}function Vw(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return y0(i),e;if(s===n)return y0(i),t;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function Zp(e){return e=Vw(e),e!==null?Qp(e):null}function Qp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qp(e);if(t!==null)return t;e=e.sibling}return null}var Xp=Jt.unstable_scheduleCallback,w0=Jt.unstable_cancelCallback,Hw=Jt.unstable_shouldYield,qw=Jt.unstable_requestPaint,et=Jt.unstable_now,Gw=Jt.unstable_getCurrentPriorityLevel,id=Jt.unstable_ImmediatePriority,Jp=Jt.unstable_UserBlockingPriority,cl=Jt.unstable_NormalPriority,Kw=Jt.unstable_LowPriority,em=Jt.unstable_IdlePriority,Ll=null,$r=null;function Lw(e){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Ll,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:Dw,Ww=Math.log,Yw=Math.LN2;function Dw(e){return e>>>=0,e===0?32:31-(Ww(e)/Yw|0)|0}var ra=64,na=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ul(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Gs(a):(s&=o,s!==0&&(n=Gs(s)))}else o=r&~i,o!==0?n=Gs(o):s!==0&&(n=Gs(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_r(t),i=1<<r,n|=e[r],t&=~i;return n}function Zw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qw(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-_r(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=Zw(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Ku(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tm(){var e=ra;return ra<<=1,!(ra&4194240)&&(ra=64),e}function Cc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $o(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=r}function Xw(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-_r(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function sd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_r(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Me=0;function rm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nm,od,im,sm,om,Lu=!1,ia=[],Fn=null,Pn=null,Cn=null,go=new Map,yo=new Map,kn=[],Jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x0(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":go.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Cs(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Vo(t),t!==null&&od(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ex(e,t,r,n,i){switch(t){case"focusin":return Fn=Cs(Fn,e,t,r,n,i),!0;case"dragenter":return Pn=Cs(Pn,e,t,r,n,i),!0;case"mouseover":return Cn=Cs(Cn,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return go.set(s,Cs(go.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,yo.set(s,Cs(yo.get(s)||null,e,t,r,n,i)),!0}return!1}function am(e){var t=ni(e.target);if(t!==null){var r=Si(t);if(r!==null){if(t=r.tag,t===13){if(t=Dp(r),t!==null){e.blockedOn=t,om(e.priority,function(){im(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vu=n,r.target.dispatchEvent(n),Vu=null}else return t=Vo(r),t!==null&&od(t),e.blockedOn=r,!1;t.shift()}return!0}function v0(e,t,r){Aa(e)&&r.delete(t)}function tx(){Lu=!1,Fn!==null&&Aa(Fn)&&(Fn=null),Pn!==null&&Aa(Pn)&&(Pn=null),Cn!==null&&Aa(Cn)&&(Cn=null),go.forEach(v0),yo.forEach(v0)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,Lu||(Lu=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,tx)))}function wo(e){function t(i){return Is(i,e)}if(0<ia.length){Is(ia[0],e);for(var r=1;r<ia.length;r++){var n=ia[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Fn!==null&&Is(Fn,e),Pn!==null&&Is(Pn,e),Cn!==null&&Is(Cn,e),go.forEach(t),yo.forEach(t),r=0;r<kn.length;r++)n=kn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<kn.length&&(r=kn[0],r.blockedOn===null);)am(r),r.blockedOn===null&&kn.shift()}var ls=un.ReactCurrentBatchConfig,fl=!0;function rx(e,t,r,n){var i=Me,s=ls.transition;ls.transition=null;try{Me=1,ad(e,t,r,n)}finally{Me=i,ls.transition=s}}function nx(e,t,r,n){var i=Me,s=ls.transition;ls.transition=null;try{Me=4,ad(e,t,r,n)}finally{Me=i,ls.transition=s}}function ad(e,t,r,n){if(fl){var i=Wu(e,t,r,n);if(i===null)Kc(e,t,n,dl,r),x0(e,n);else if(ex(i,e,t,r,n))n.stopPropagation();else if(x0(e,n),t&4&&-1<Jw.indexOf(e)){for(;i!==null;){var s=Vo(i);if(s!==null&&nm(s),s=Wu(e,t,r,n),s===null&&Kc(e,t,n,dl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Kc(e,t,n,null,r)}}var dl=null;function Wu(e,t,r,n){if(dl=null,e=nd(n),e=ni(e),e!==null)if(t=Si(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Dp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dl=e,null}function lm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gw()){case id:return 1;case Jp:return 4;case cl:case Kw:return 16;case em:return 536870912;default:return 16}default:return 16}}var jn=null,ld=null,Ba=null;function cm(){if(Ba)return Ba;var e,t=ld,r=t.length,n,i="value"in jn?jn.value:jn.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Ba=i.slice(e,1<n?1-n:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function _0(){return!1}function tr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sa:_0,this.isPropagationStopped=_0,this}return Ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cd=tr(As),zo=Ze({},As,{view:0,detail:0}),ix=tr(zo),Ic,Uc,Us,Wl=Ze({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(Ic=e.screenX-Us.screenX,Uc=e.screenY-Us.screenY):Uc=Ic=0,Us=e),Ic)},movementY:function(e){return"movementY"in e?e.movementY:Uc}}),b0=tr(Wl),sx=Ze({},Wl,{dataTransfer:0}),ox=tr(sx),ax=Ze({},zo,{relatedTarget:0}),Mc=tr(ax),lx=Ze({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),cx=tr(lx),ux=Ze({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fx=tr(ux),dx=Ze({},As,{data:0}),E0=tr(dx),hx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},px={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mx[e])?!!t[e]:!1}function ud(){return gx}var yx=Ze({},zo,{key:function(e){if(e.key){var t=hx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?px[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ud,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wx=tr(yx),xx=Ze({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S0=tr(xx),vx=Ze({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ud}),_x=tr(vx),bx=Ze({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=tr(bx),Sx=Ze({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nx=tr(Sx),Tx=[9,13,27,32],fd=sn&&"CompositionEvent"in window,to=null;sn&&"documentMode"in document&&(to=document.documentMode);var kx=sn&&"TextEvent"in window&&!to,um=sn&&(!fd||to&&8<to&&11>=to),N0=String.fromCharCode(32),T0=!1;function fm(e,t){switch(e){case"keyup":return Tx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function Ax(e,t){switch(e){case"compositionend":return dm(t);case"keypress":return t.which!==32?null:(T0=!0,N0);case"textInput":return e=t.data,e===N0&&T0?null:e;default:return null}}function Bx(e,t){if(Gi)return e==="compositionend"||!fd&&fm(e,t)?(e=cm(),Ba=ld=jn=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return um&&t.locale!=="ko"?null:t.data;default:return null}}var jx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jx[e.type]:t==="textarea"}function hm(e,t,r,n){Gp(n),t=hl(t,"onChange"),0<t.length&&(r=new cd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ro=null,xo=null;function Rx(e){Sm(e,0)}function Yl(e){var t=Wi(e);if(Up(t))return e}function Ox(e,t){if(e==="change")return t}var pm=!1;if(sn){var $c;if(sn){var zc="oninput"in document;if(!zc){var A0=document.createElement("div");A0.setAttribute("oninput","return;"),zc=typeof A0.oninput=="function"}$c=zc}else $c=!1;pm=$c&&(!document.documentMode||9<document.documentMode)}function B0(){ro&&(ro.detachEvent("onpropertychange",mm),xo=ro=null)}function mm(e){if(e.propertyName==="value"&&Yl(xo)){var t=[];hm(t,xo,e,nd(e)),Yp(Rx,t)}}function Fx(e,t,r){e==="focusin"?(B0(),ro=t,xo=r,ro.attachEvent("onpropertychange",mm)):e==="focusout"&&B0()}function Px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(xo)}function Cx(e,t){if(e==="click")return Yl(t)}function Ix(e,t){if(e==="input"||e==="change")return Yl(t)}function Ux(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sr=typeof Object.is=="function"?Object.is:Ux;function vo(e,t){if(Sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Bu.call(t,i)||!Sr(e[i],t[i]))return!1}return!0}function j0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function R0(e,t){var r=j0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=j0(r)}}function gm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ym(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ol(e.document)}return t}function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mx(e){var t=ym(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gm(r.ownerDocument.documentElement,r)){if(n!==null&&dd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=R0(r,s);var o=R0(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $x=sn&&"documentMode"in document&&11>=document.documentMode,Ki=null,Yu=null,no=null,Du=!1;function O0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Du||Ki==null||Ki!==ol(n)||(n=Ki,"selectionStart"in n&&dd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),no&&vo(no,n)||(no=n,n=hl(Yu,"onSelect"),0<n.length&&(t=new cd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ki)))}function oa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Li={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionend:oa("Transition","TransitionEnd")},Vc={},wm={};sn&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Dl(e){if(Vc[e])return Vc[e];if(!Li[e])return e;var t=Li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wm)return Vc[e]=t[r];return e}var xm=Dl("animationend"),vm=Dl("animationiteration"),_m=Dl("animationstart"),bm=Dl("transitionend"),Em=new Map,F0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){Em.set(e,t),Ei(t,[e])}for(var Hc=0;Hc<F0.length;Hc++){var qc=F0[Hc],zx=qc.toLowerCase(),Vx=qc[0].toUpperCase()+qc.slice(1);Kn(zx,"on"+Vx)}Kn(xm,"onAnimationEnd");Kn(vm,"onAnimationIteration");Kn(_m,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(bm,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function P0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zw(n,t,void 0,e),e.currentTarget=null}function Sm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;P0(i,a,d),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;P0(i,a,d),s=l}}}if(ll)throw e=Gu,ll=!1,Gu=null,e}function Ge(e,t){var r=t[ef];r===void 0&&(r=t[ef]=new Set);var n=e+"__bubble";r.has(n)||(Nm(t,e,2,!1),r.add(n))}function Gc(e,t,r){var n=0;t&&(n|=4),Nm(r,e,n,t)}var aa="_reactListening"+Math.random().toString(36).slice(2);function _o(e){if(!e[aa]){e[aa]=!0,Op.forEach(function(r){r!=="selectionchange"&&(Hx.has(r)||Gc(r,!1,e),Gc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[aa]||(t[aa]=!0,Gc("selectionchange",!1,t))}}function Nm(e,t,r,n){switch(lm(t)){case 1:var i=rx;break;case 4:i=nx;break;default:i=ad}r=i.bind(null,t,r,e),i=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Kc(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ni(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Yp(function(){var d=s,g=nd(r),w=[];e:{var x=Em.get(e);if(x!==void 0){var b=cd,m=e;switch(e){case"keypress":if(ja(r)===0)break e;case"keydown":case"keyup":b=wx;break;case"focusin":m="focus",b=Mc;break;case"focusout":m="blur",b=Mc;break;case"beforeblur":case"afterblur":b=Mc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=b0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=ox;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=_x;break;case xm:case vm:case _m:b=cx;break;case bm:b=Ex;break;case"scroll":b=ix;break;case"wheel":b=Nx;break;case"copy":case"cut":case"paste":b=fx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=S0}var O=(t&4)!==0,P=!O&&e==="scroll",S=O?x!==null?x+"Capture":null:x;O=[];for(var E=d,N;E!==null;){N=E;var V=N.stateNode;if(N.tag===5&&V!==null&&(N=V,S!==null&&(V=mo(E,S),V!=null&&O.push(bo(E,V,N)))),P)break;E=E.return}0<O.length&&(x=new b(x,m,null,r,g),w.push({event:x,listeners:O}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",x&&r!==Vu&&(m=r.relatedTarget||r.fromElement)&&(ni(m)||m[on]))break e;if((b||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,b?(m=r.relatedTarget||r.toElement,b=d,m=m?ni(m):null,m!==null&&(P=Si(m),m!==P||m.tag!==5&&m.tag!==6)&&(m=null)):(b=null,m=d),b!==m)){if(O=b0,V="onMouseLeave",S="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(O=S0,V="onPointerLeave",S="onPointerEnter",E="pointer"),P=b==null?x:Wi(b),N=m==null?x:Wi(m),x=new O(V,E+"leave",b,r,g),x.target=P,x.relatedTarget=N,V=null,ni(g)===d&&(O=new O(S,E+"enter",m,r,g),O.target=N,O.relatedTarget=P,V=O),P=V,b&&m)t:{for(O=b,S=m,E=0,N=O;N;N=Ti(N))E++;for(N=0,V=S;V;V=Ti(V))N++;for(;0<E-N;)O=Ti(O),E--;for(;0<N-E;)S=Ti(S),N--;for(;E--;){if(O===S||S!==null&&O===S.alternate)break t;O=Ti(O),S=Ti(S)}O=null}else O=null;b!==null&&C0(w,x,b,O,!1),m!==null&&P!==null&&C0(w,P,m,O,!0)}}e:{if(x=d?Wi(d):window,b=x.nodeName&&x.nodeName.toLowerCase(),b==="select"||b==="input"&&x.type==="file")var k=Ox;else if(k0(x))if(pm)k=Ix;else{k=Px;var I=Fx}else(b=x.nodeName)&&b.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(k=Cx);if(k&&(k=k(e,d))){hm(w,k,r,g);break e}I&&I(e,x,d),e==="focusout"&&(I=x._wrapperState)&&I.controlled&&x.type==="number"&&Iu(x,"number",x.value)}switch(I=d?Wi(d):window,e){case"focusin":(k0(I)||I.contentEditable==="true")&&(Ki=I,Yu=d,no=null);break;case"focusout":no=Yu=Ki=null;break;case"mousedown":Du=!0;break;case"contextmenu":case"mouseup":case"dragend":Du=!1,O0(w,r,g);break;case"selectionchange":if($x)break;case"keydown":case"keyup":O0(w,r,g)}var U;if(fd)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Gi?fm(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(um&&r.locale!=="ko"&&(Gi||L!=="onCompositionStart"?L==="onCompositionEnd"&&Gi&&(U=cm()):(jn=g,ld="value"in jn?jn.value:jn.textContent,Gi=!0)),I=hl(d,L),0<I.length&&(L=new E0(L,e,null,r,g),w.push({event:L,listeners:I}),U?L.data=U:(U=dm(r),U!==null&&(L.data=U)))),(U=kx?Ax(e,r):Bx(e,r))&&(d=hl(d,"onBeforeInput"),0<d.length&&(g=new E0("onBeforeInput","beforeinput",null,r,g),w.push({event:g,listeners:d}),g.data=U))}Sm(w,t)})}function bo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hl(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mo(e,r),s!=null&&n.unshift(bo(e,s,i)),s=mo(e,t),s!=null&&n.push(bo(e,s,i))),e=e.return}return n}function Ti(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function C0(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,d=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&d!==null&&(a=d,i?(l=mo(r,s),l!=null&&o.unshift(bo(r,l,a))):i||(l=mo(r,s),l!=null&&o.push(bo(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var qx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function I0(e){return(typeof e=="string"?e:""+e).replace(qx,`
`).replace(Gx,"")}function la(e,t,r){if(t=I0(t),I0(e)!==t&&r)throw Error(fe(425))}function pl(){}var Zu=null,Qu=null;function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(e){return U0.resolve(null).then(e).catch(Wx)}:Ju;function Wx(e){setTimeout(function(){throw e})}function Lc(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),wo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wo(t)}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function M0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bs=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Bs,Eo="__reactProps$"+Bs,on="__reactContainer$"+Bs,ef="__reactEvents$"+Bs,Yx="__reactListeners$"+Bs,Dx="__reactHandles$"+Bs;function ni(e){var t=e[Ir];if(t)return t;for(var r=e.parentNode;r;){if(t=r[on]||r[Ir]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=M0(e);e!==null;){if(r=e[Ir])return r;e=M0(e)}return t}e=r,r=e.parentNode}return null}function Vo(e){return e=e[Ir]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Zl(e){return e[Eo]||null}var tf=[],Yi=-1;function Ln(e){return{current:e}}function Ke(e){0>Yi||(e.current=tf[Yi],tf[Yi]=null,Yi--)}function qe(e,t){Yi++,tf[Yi]=e.current,e.current=t}var Gn={},Rt=Ln(Gn),Lt=Ln(!1),di=Gn;function ms(e,t){var r=e.type.contextTypes;if(!r)return Gn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(e){return e=e.childContextTypes,e!=null}function ml(){Ke(Lt),Ke(Rt)}function $0(e,t,r){if(Rt.current!==Gn)throw Error(fe(168));qe(Rt,t),qe(Lt,r)}function Tm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(fe(108,Fw(e)||"Unknown",i));return Ze({},r,n)}function gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,di=Rt.current,qe(Rt,e),qe(Lt,Lt.current),!0}function z0(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=Tm(e,t,di),n.__reactInternalMemoizedMergedChildContext=e,Ke(Lt),Ke(Rt),qe(Rt,e)):Ke(Lt),qe(Lt,r)}var Yr=null,Ql=!1,Wc=!1;function km(e){Yr===null?Yr=[e]:Yr.push(e)}function Zx(e){Ql=!0,km(e)}function Wn(){if(!Wc&&Yr!==null){Wc=!0;var e=0,t=Me;try{var r=Yr;for(Me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Yr=null,Ql=!1}catch(i){throw Yr!==null&&(Yr=Yr.slice(e+1)),Xp(id,Wn),i}finally{Me=t,Wc=!1}}return null}var Di=[],Zi=0,yl=null,wl=0,ir=[],sr=0,hi=null,Qr=1,Xr="";function Dn(e,t){Di[Zi++]=wl,Di[Zi++]=yl,yl=e,wl=t}function Am(e,t,r){ir[sr++]=Qr,ir[sr++]=Xr,ir[sr++]=hi,hi=e;var n=Qr;e=Xr;var i=32-_r(n)-1;n&=~(1<<i),r+=1;var s=32-_r(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Qr=1<<32-_r(t)+i|r<<i|n,Xr=s+e}else Qr=1<<s|r<<i|n,Xr=e}function hd(e){e.return!==null&&(Dn(e,1),Am(e,1,0))}function pd(e){for(;e===yl;)yl=Di[--Zi],Di[Zi]=null,wl=Di[--Zi],Di[Zi]=null;for(;e===hi;)hi=ir[--sr],ir[sr]=null,Xr=ir[--sr],ir[sr]=null,Qr=ir[--sr],ir[sr]=null}var Xt=null,Qt=null,We=!1,xr=null;function Bm(e,t){var r=ar(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function V0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=In(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hi!==null?{id:Qr,overflow:Xr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ar(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xt=e,Qt=null,!0):!1;default:return!1}}function rf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nf(e){if(We){var t=Qt;if(t){var r=t;if(!V0(e,t)){if(rf(e))throw Error(fe(418));t=In(r.nextSibling);var n=Xt;t&&V0(e,t)?Bm(n,r):(e.flags=e.flags&-4097|2,We=!1,Xt=e)}}else{if(rf(e))throw Error(fe(418));e.flags=e.flags&-4097|2,We=!1,Xt=e}}}function H0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function ca(e){if(e!==Xt)return!1;if(!We)return H0(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xu(e.type,e.memoizedProps)),t&&(t=Qt)){if(rf(e))throw jm(),Error(fe(418));for(;t;)Bm(e,t),t=In(t.nextSibling)}if(H0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qt=In(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Xt?In(e.stateNode.nextSibling):null;return!0}function jm(){for(var e=Qt;e;)e=In(e.nextSibling)}function gs(){Qt=Xt=null,We=!1}function md(e){xr===null?xr=[e]:xr.push(e)}var Qx=un.ReactCurrentBatchConfig;function Ms(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function ua(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q0(e){var t=e._init;return t(e._payload)}function Rm(e){function t(S,E){if(e){var N=S.deletions;N===null?(S.deletions=[E],S.flags|=16):N.push(E)}}function r(S,E){if(!e)return null;for(;E!==null;)t(S,E),E=E.sibling;return null}function n(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=zn(S,E),S.index=0,S.sibling=null,S}function s(S,E,N){return S.index=N,e?(N=S.alternate,N!==null?(N=N.index,N<E?(S.flags|=2,E):N):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return e&&S.alternate===null&&(S.flags|=2),S}function a(S,E,N,V){return E===null||E.tag!==6?(E=eu(N,S.mode,V),E.return=S,E):(E=i(E,N),E.return=S,E)}function l(S,E,N,V){var k=N.type;return k===qi?g(S,E,N.props.children,V,N.key):E!==null&&(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_n&&q0(k)===E.type)?(V=i(E,N.props),V.ref=Ms(S,E,N),V.return=S,V):(V=Ua(N.type,N.key,N.props,null,S.mode,V),V.ref=Ms(S,E,N),V.return=S,V)}function d(S,E,N,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=tu(N,S.mode,V),E.return=S,E):(E=i(E,N.children||[]),E.return=S,E)}function g(S,E,N,V,k){return E===null||E.tag!==7?(E=ci(N,S.mode,V,k),E.return=S,E):(E=i(E,N),E.return=S,E)}function w(S,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return E=eu(""+E,S.mode,N),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Jo:return N=Ua(E.type,E.key,E.props,null,S.mode,N),N.ref=Ms(S,null,E),N.return=S,N;case Hi:return E=tu(E,S.mode,N),E.return=S,E;case _n:var V=E._init;return w(S,V(E._payload),N)}if(qs(E)||Fs(E))return E=ci(E,S.mode,N,null),E.return=S,E;ua(S,E)}return null}function x(S,E,N,V){var k=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return k!==null?null:a(S,E,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Jo:return N.key===k?l(S,E,N,V):null;case Hi:return N.key===k?d(S,E,N,V):null;case _n:return k=N._init,x(S,E,k(N._payload),V)}if(qs(N)||Fs(N))return k!==null?null:g(S,E,N,V,null);ua(S,N)}return null}function b(S,E,N,V,k){if(typeof V=="string"&&V!==""||typeof V=="number")return S=S.get(N)||null,a(E,S,""+V,k);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Jo:return S=S.get(V.key===null?N:V.key)||null,l(E,S,V,k);case Hi:return S=S.get(V.key===null?N:V.key)||null,d(E,S,V,k);case _n:var I=V._init;return b(S,E,N,I(V._payload),k)}if(qs(V)||Fs(V))return S=S.get(N)||null,g(E,S,V,k,null);ua(E,V)}return null}function m(S,E,N,V){for(var k=null,I=null,U=E,L=E=0,G=null;U!==null&&L<N.length;L++){U.index>L?(G=U,U=null):G=U.sibling;var z=x(S,U,N[L],V);if(z===null){U===null&&(U=G);break}e&&U&&z.alternate===null&&t(S,U),E=s(z,E,L),I===null?k=z:I.sibling=z,I=z,U=G}if(L===N.length)return r(S,U),We&&Dn(S,L),k;if(U===null){for(;L<N.length;L++)U=w(S,N[L],V),U!==null&&(E=s(U,E,L),I===null?k=U:I.sibling=U,I=U);return We&&Dn(S,L),k}for(U=n(S,U);L<N.length;L++)G=b(U,S,L,N[L],V),G!==null&&(e&&G.alternate!==null&&U.delete(G.key===null?L:G.key),E=s(G,E,L),I===null?k=G:I.sibling=G,I=G);return e&&U.forEach(function(ie){return t(S,ie)}),We&&Dn(S,L),k}function O(S,E,N,V){var k=Fs(N);if(typeof k!="function")throw Error(fe(150));if(N=k.call(N),N==null)throw Error(fe(151));for(var I=k=null,U=E,L=E=0,G=null,z=N.next();U!==null&&!z.done;L++,z=N.next()){U.index>L?(G=U,U=null):G=U.sibling;var ie=x(S,U,z.value,V);if(ie===null){U===null&&(U=G);break}e&&U&&ie.alternate===null&&t(S,U),E=s(ie,E,L),I===null?k=ie:I.sibling=ie,I=ie,U=G}if(z.done)return r(S,U),We&&Dn(S,L),k;if(U===null){for(;!z.done;L++,z=N.next())z=w(S,z.value,V),z!==null&&(E=s(z,E,L),I===null?k=z:I.sibling=z,I=z);return We&&Dn(S,L),k}for(U=n(S,U);!z.done;L++,z=N.next())z=b(U,S,L,z.value,V),z!==null&&(e&&z.alternate!==null&&U.delete(z.key===null?L:z.key),E=s(z,E,L),I===null?k=z:I.sibling=z,I=z);return e&&U.forEach(function(se){return t(S,se)}),We&&Dn(S,L),k}function P(S,E,N,V){if(typeof N=="object"&&N!==null&&N.type===qi&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Jo:e:{for(var k=N.key,I=E;I!==null;){if(I.key===k){if(k=N.type,k===qi){if(I.tag===7){r(S,I.sibling),E=i(I,N.props.children),E.return=S,S=E;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_n&&q0(k)===I.type){r(S,I.sibling),E=i(I,N.props),E.ref=Ms(S,I,N),E.return=S,S=E;break e}r(S,I);break}else t(S,I);I=I.sibling}N.type===qi?(E=ci(N.props.children,S.mode,V,N.key),E.return=S,S=E):(V=Ua(N.type,N.key,N.props,null,S.mode,V),V.ref=Ms(S,E,N),V.return=S,S=V)}return o(S);case Hi:e:{for(I=N.key;E!==null;){if(E.key===I)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){r(S,E.sibling),E=i(E,N.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else t(S,E);E=E.sibling}E=tu(N,S.mode,V),E.return=S,S=E}return o(S);case _n:return I=N._init,P(S,E,I(N._payload),V)}if(qs(N))return m(S,E,N,V);if(Fs(N))return O(S,E,N,V);ua(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,E!==null&&E.tag===6?(r(S,E.sibling),E=i(E,N),E.return=S,S=E):(r(S,E),E=eu(N,S.mode,V),E.return=S,S=E),o(S)):r(S,E)}return P}var ys=Rm(!0),Om=Rm(!1),xl=Ln(null),vl=null,Qi=null,gd=null;function yd(){gd=Qi=vl=null}function wd(e){var t=xl.current;Ke(xl),e._currentValue=t}function sf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cs(e,t){vl=e,gd=Qi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function cr(e){var t=e._currentValue;if(gd!==e)if(e={context:e,memoizedValue:t,next:null},Qi===null){if(vl===null)throw Error(fe(308));Qi=e,vl.dependencies={lanes:0,firstContext:e}}else Qi=Qi.next=e;return t}var ii=null;function xd(e){ii===null?ii=[e]:ii.push(e)}function Fm(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,xd(t)):(r.next=i.next,i.next=r),t.interleaved=r,an(e,n)}function an(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bn=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,an(e,r)}return i=n.interleaved,i===null?(t.next=t,xd(n)):(t.next=i.next,i.next=t),n.interleaved=t,an(e,r)}function Ra(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sd(e,r)}}function G0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function _l(e,t,r,n){var i=e.updateQueue;bn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var g=e.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==o&&(a===null?g.firstBaseUpdate=d:a.next=d,g.lastBaseUpdate=l))}if(s!==null){var w=i.baseState;o=0,g=d=l=null,a=s;do{var x=a.lane,b=a.eventTime;if((n&x)===x){g!==null&&(g=g.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,O=a;switch(x=t,b=r,O.tag){case 1:if(m=O.payload,typeof m=="function"){w=m.call(b,w,x);break e}w=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=O.payload,x=typeof m=="function"?m.call(b,w,x):m,x==null)break e;w=Ze({},w,x);break e;case 2:bn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[a]:x.push(a))}else b={eventTime:b,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(d=g=b,l=w):g=g.next=b,o|=x;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;x=a,a=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(1);if(g===null&&(l=w),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=g,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);mi|=o,e.lanes=o,e.memoizedState=w}}function K0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(fe(191,i));i.call(n)}}}var Ho={},zr=Ln(Ho),So=Ln(Ho),No=Ln(Ho);function si(e){if(e===Ho)throw Error(fe(174));return e}function _d(e,t){switch(qe(No,t),qe(So,e),qe(zr,Ho),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mu(t,e)}Ke(zr),qe(zr,t)}function ws(){Ke(zr),Ke(So),Ke(No)}function Cm(e){si(No.current);var t=si(zr.current),r=Mu(t,e.type);t!==r&&(qe(So,e),qe(zr,r))}function bd(e){So.current===e&&(Ke(zr),Ke(So))}var Ye=Ln(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yc=[];function Ed(){for(var e=0;e<Yc.length;e++)Yc[e]._workInProgressVersionPrimary=null;Yc.length=0}var Oa=un.ReactCurrentDispatcher,Dc=un.ReactCurrentBatchConfig,pi=0,De=null,ot=null,ht=null,El=!1,io=!1,To=0,Xx=0;function Et(){throw Error(fe(321))}function Sd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sr(e[r],t[r]))return!1;return!0}function Nd(e,t,r,n,i,s){if(pi=s,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oa.current=e===null||e.memoizedState===null?r2:n2,e=r(n,i),io){s=0;do{if(io=!1,To=0,25<=s)throw Error(fe(301));s+=1,ht=ot=null,t.updateQueue=null,Oa.current=i2,e=r(n,i)}while(io)}if(Oa.current=Sl,t=ot!==null&&ot.next!==null,pi=0,ht=ot=De=null,El=!1,t)throw Error(fe(300));return e}function Td(){var e=To!==0;return To=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?De.memoizedState=ht=e:ht=ht.next=e,ht}function ur(){if(ot===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=ht===null?De.memoizedState:ht.next;if(t!==null)ht=t,ot=e;else{if(e===null)throw Error(fe(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ht===null?De.memoizedState=ht=e:ht=ht.next=e}return ht}function ko(e,t){return typeof t=="function"?t(e):t}function Zc(e){var t=ur(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=ot,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,d=s;do{var g=d.lane;if((pi&g)===g)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var w={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=w,o=n):l=l.next=w,De.lanes|=g,mi|=g}d=d.next}while(d!==null&&d!==s);l===null?o=n:l.next=a,Sr(n,t.memoizedState)||(Gt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,De.lanes|=s,mi|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qc(e){var t=ur(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Sr(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Im(){}function Um(e,t){var r=De,n=ur(),i=t(),s=!Sr(n.memoizedState,i);if(s&&(n.memoizedState=i,Gt=!0),n=n.queue,kd(zm.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ht!==null&&ht.memoizedState.tag&1){if(r.flags|=2048,Ao(9,$m.bind(null,r,n,i,t),void 0,null),mt===null)throw Error(fe(349));pi&30||Mm(r,t,i)}return i}function Mm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $m(e,t,r,n){t.value=r,t.getSnapshot=n,Vm(t)&&Hm(e)}function zm(e,t,r){return r(function(){Vm(t)&&Hm(e)})}function Vm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sr(e,r)}catch{return!0}}function Hm(e){var t=an(e,1);t!==null&&br(t,e,1,-1)}function L0(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=t2.bind(null,De,e),[t.memoizedState,e]}function Ao(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qm(){return ur().memoizedState}function Fa(e,t,r,n){var i=Fr();De.flags|=e,i.memoizedState=Ao(1|t,r,void 0,n===void 0?null:n)}function Xl(e,t,r,n){var i=ur();n=n===void 0?null:n;var s=void 0;if(ot!==null){var o=ot.memoizedState;if(s=o.destroy,n!==null&&Sd(n,o.deps)){i.memoizedState=Ao(t,r,s,n);return}}De.flags|=e,i.memoizedState=Ao(1|t,r,s,n)}function W0(e,t){return Fa(8390656,8,e,t)}function kd(e,t){return Xl(2048,8,e,t)}function Gm(e,t){return Xl(4,2,e,t)}function Km(e,t){return Xl(4,4,e,t)}function Lm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wm(e,t,r){return r=r!=null?r.concat([e]):null,Xl(4,4,Lm.bind(null,t,e),r)}function Ad(){}function Ym(e,t){var r=ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Dm(e,t){var r=ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Zm(e,t,r){return pi&21?(Sr(r,t)||(r=tm(),De.lanes|=r,mi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=r)}function Jx(e,t){var r=Me;Me=r!==0&&4>r?r:4,e(!0);var n=Dc.transition;Dc.transition={};try{e(!1),t()}finally{Me=r,Dc.transition=n}}function Qm(){return ur().memoizedState}function e2(e,t,r){var n=$n(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xm(e))Jm(t,r);else if(r=Fm(e,t,r,n),r!==null){var i=Mt();br(r,e,n,i),eg(r,t,n)}}function t2(e,t,r){var n=$n(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xm(e))Jm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Sr(a,o)){var l=t.interleaved;l===null?(i.next=i,xd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Fm(e,t,i,n),r!==null&&(i=Mt(),br(r,e,n,i),eg(r,t,n))}}function Xm(e){var t=e.alternate;return e===De||t!==null&&t===De}function Jm(e,t){io=El=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sd(e,r)}}var Sl={readContext:cr,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},r2={readContext:cr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:cr,useEffect:W0,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fa(4194308,4,Lm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fa(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=e2.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:L0,useDebugValue:Ad,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=L0(!1),t=e[0];return e=Jx.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,i=Fr();if(We){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),mt===null)throw Error(fe(349));pi&30||Mm(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,W0(zm.bind(null,n,s,e),[e]),n.flags|=2048,Ao(9,$m.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Fr(),t=mt.identifierPrefix;if(We){var r=Xr,n=Qr;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=To++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Xx++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n2={readContext:cr,useCallback:Ym,useContext:cr,useEffect:kd,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Km,useMemo:Dm,useReducer:Zc,useRef:qm,useState:function(){return Zc(ko)},useDebugValue:Ad,useDeferredValue:function(e){var t=ur();return Zm(t,ot.memoizedState,e)},useTransition:function(){var e=Zc(ko)[0],t=ur().memoizedState;return[e,t]},useMutableSource:Im,useSyncExternalStore:Um,useId:Qm,unstable_isNewReconciler:!1},i2={readContext:cr,useCallback:Ym,useContext:cr,useEffect:kd,useImperativeHandle:Wm,useInsertionEffect:Gm,useLayoutEffect:Km,useMemo:Dm,useReducer:Qc,useRef:qm,useState:function(){return Qc(ko)},useDebugValue:Ad,useDeferredValue:function(e){var t=ur();return ot===null?t.memoizedState=e:Zm(t,ot.memoizedState,e)},useTransition:function(){var e=Qc(ko)[0],t=ur().memoizedState;return[e,t]},useMutableSource:Im,useSyncExternalStore:Um,useId:Qm,unstable_isNewReconciler:!1};function gr(e,t){if(e&&e.defaultProps){t=Ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function of(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jl={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=$n(e),s=rn(n,i);s.payload=t,r!=null&&(s.callback=r),t=Un(e,s,i),t!==null&&(br(t,e,i,n),Ra(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=$n(e),s=rn(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Un(e,s,i),t!==null&&(br(t,e,i,n),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=$n(e),i=rn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Un(e,i,n),t!==null&&(br(t,e,n,r),Ra(t,e,n))}};function Y0(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!vo(r,n)||!vo(i,s):!0}function tg(e,t,r){var n=!1,i=Gn,s=t.contextType;return typeof s=="object"&&s!==null?s=cr(s):(i=Wt(t)?di:Rt.current,n=t.contextTypes,s=(n=n!=null)?ms(e,i):Gn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function D0(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jl.enqueueReplaceState(t,t.state,null)}function af(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},vd(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=cr(s):(s=Wt(t)?di:Rt.current,i.context=ms(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(of(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Jl.enqueueReplaceState(i,i.state,null),_l(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xs(e,t){try{var r="",n=t;do r+=Ow(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Xc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lf(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function rg(e,t,r){r=rn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Tl||(Tl=!0,wf=n),lf(e,t)},r}function ng(e,t,r){r=rn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){lf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){lf(e,t),typeof n!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Z0(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new s2;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=x2.bind(null,e,t,r),t.then(e,e))}function Q0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function X0(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rn(-1,1),t.tag=2,Un(r,t,1))),r.lanes|=1),e)}var o2=un.ReactCurrentOwner,Gt=!1;function It(e,t,r,n){t.child=e===null?Om(t,null,r,n):ys(t,e.child,r,n)}function J0(e,t,r,n,i){r=r.render;var s=t.ref;return cs(t,i),n=Nd(e,t,r,n,s,i),r=Td(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ln(e,t,i)):(We&&r&&hd(t),t.flags|=1,It(e,t,n,i),t.child)}function eh(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Id(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ig(e,t,s,n,i)):(e=Ua(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:vo,r(o,n)&&e.ref===t.ref)return ln(e,t,i)}return t.flags|=1,e=zn(s,n),e.ref=t.ref,e.return=t,t.child=e}function ig(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(vo(s,n)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,ln(e,t,i)}return cf(e,t,r,n,i)}function sg(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ji,Dt),Dt|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(Ji,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,qe(Ji,Dt),Dt|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,qe(Ji,Dt),Dt|=n;return It(e,t,i,r),t.child}function og(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cf(e,t,r,n,i){var s=Wt(r)?di:Rt.current;return s=ms(t,s),cs(t,i),r=Nd(e,t,r,n,s,i),n=Td(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ln(e,t,i)):(We&&n&&hd(t),t.flags|=1,It(e,t,r,i),t.child)}function th(e,t,r,n,i){if(Wt(r)){var s=!0;gl(t)}else s=!1;if(cs(t,i),t.stateNode===null)Pa(e,t),tg(t,r,n),af(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=cr(d):(d=Wt(r)?di:Rt.current,d=ms(t,d));var g=r.getDerivedStateFromProps,w=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";w||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==d)&&D0(t,o,n,d),bn=!1;var x=t.memoizedState;o.state=x,_l(t,n,o,i),l=t.memoizedState,a!==n||x!==l||Lt.current||bn?(typeof g=="function"&&(of(t,r,g,n),l=t.memoizedState),(a=bn||Y0(t,r,a,n,x,l,d))?(w||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Pm(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:gr(t.type,a),o.props=d,w=t.pendingProps,x=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Wt(r)?di:Rt.current,l=ms(t,l));var b=r.getDerivedStateFromProps;(g=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==w||x!==l)&&D0(t,o,n,l),bn=!1,x=t.memoizedState,o.state=x,_l(t,n,o,i);var m=t.memoizedState;a!==w||x!==m||Lt.current||bn?(typeof b=="function"&&(of(t,r,b,n),m=t.memoizedState),(d=bn||Y0(t,r,d,n,x,m,l)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return uf(e,t,r,n,s,i)}function uf(e,t,r,n,i,s){og(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&z0(t,r,!1),ln(e,t,s);n=t.stateNode,o2.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,a,s)):It(e,t,a,s),t.memoizedState=n.state,i&&z0(t,r,!0),t.child}function ag(e){var t=e.stateNode;t.pendingContext?$0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$0(e,t.context,!1),_d(e,t.containerInfo)}function rh(e,t,r,n,i){return gs(),md(i),t.flags|=256,It(e,t,r,n),t.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function df(e){return{baseLanes:e,cachePool:null,transitions:null}}function lg(e,t,r){var n=t.pendingProps,i=Ye.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qe(Ye,i&1),e===null)return nf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rc(o,n,0,null),e=ci(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=df(r),t.memoizedState=ff,e):Bd(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return a2(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=zn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zn(a,s):(s=ci(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?df(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=ff,n}return s=e.child,e=s.sibling,n=zn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bd(e,t){return t=rc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fa(e,t,r,n){return n!==null&&md(n),ys(t,e.child,null,r),e=Bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a2(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Xc(Error(fe(422))),fa(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=rc({mode:"visible",children:n.children},i,0,null),s=ci(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ys(t,e.child,null,o),t.child.memoizedState=df(o),t.memoizedState=ff,s);if(!(t.mode&1))return fa(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(fe(419)),n=Xc(s,n,void 0),fa(e,t,o,n)}if(a=(o&e.childLanes)!==0,Gt||a){if(n=mt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,an(e,i),br(n,e,i,-1))}return Cd(),n=Xc(Error(fe(421))),fa(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=v2.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Qt=In(i.nextSibling),Xt=t,We=!0,xr=null,e!==null&&(ir[sr++]=Qr,ir[sr++]=Xr,ir[sr++]=hi,Qr=e.id,Xr=e.overflow,hi=t),t=Bd(t,n.children),t.flags|=4096,t)}function nh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sf(e.return,t,r)}function Jc(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function cg(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(It(e,t,n.children,r),n=Ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nh(e,r,t);else if(e.tag===19)nh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(Ye,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&bl(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Jc(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bl(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Jc(t,!0,r,null,s);break;case"together":Jc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ln(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=zn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=zn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function l2(e,t,r){switch(t.tag){case 3:ag(t),gs();break;case 5:Cm(t);break;case 1:Wt(t.type)&&gl(t);break;case 4:_d(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;qe(xl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(Ye,Ye.current&1),t.flags|=128,null):r&t.child.childLanes?lg(e,t,r):(qe(Ye,Ye.current&1),e=ln(e,t,r),e!==null?e.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cg(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(Ye,Ye.current),n)break;return null;case 22:case 23:return t.lanes=0,sg(e,t,r)}return ln(e,t,r)}var ug,hf,fg,dg;ug=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hf=function(){};fg=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,si(zr.current);var s=null;switch(r){case"input":i=Pu(e,i),n=Pu(e,n),s=[];break;case"select":i=Ze({},i,{value:void 0}),n=Ze({},n,{value:void 0}),s=[];break;case"textarea":i=Uu(e,i),n=Uu(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pl)}$u(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ho.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var l=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(d,r)),r=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ho.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ge("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};dg=function(e,t,r,n){r!==n&&(t.flags|=4)};function $s(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function c2(e,t,r){var n=t.pendingProps;switch(pd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Wt(t.type)&&ml(),St(t),null;case 3:return n=t.stateNode,ws(),Ke(Lt),Ke(Rt),Ed(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ca(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xr!==null&&(_f(xr),xr=null))),hf(e,t),St(t),null;case 5:bd(t);var i=si(No.current);if(r=t.type,e!==null&&t.stateNode!=null)fg(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return St(t),null}if(e=si(zr.current),ca(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ir]=t,n[Eo]=s,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ge(Ks[i],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":d0(n,s),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",n);break;case"textarea":p0(n,s),Ge("invalid",n)}$u(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&la(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&la(n.textContent,a,e),i=["children",""+a]):ho.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",n)}switch(r){case"input":ea(n),h0(n,s,!0);break;case"textarea":ea(n),m0(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=pl)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ir]=t,e[Eo]=n,ug(e,t,!1,!1),t.stateNode=e;e:{switch(o=zu(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),i=n;break;case"iframe":case"object":case"embed":Ge("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ge(Ks[i],e);i=n;break;case"source":Ge("error",e),i=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=n;break;case"details":Ge("toggle",e),i=n;break;case"input":d0(e,n),i=Pu(e,n),Ge("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ze({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":p0(e,n),i=Uu(e,n),Ge("invalid",e);break;default:i=n}$u(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qp(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vp(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&po(e,l):typeof l=="number"&&po(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ho.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ge("scroll",e):l!=null&&Jf(e,s,l,o))}switch(r){case"input":ea(e),h0(e,n,!1);break;case"textarea":ea(e),m0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ss(e,!!n.multiple,s,!1):n.defaultValue!=null&&ss(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)dg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=si(No.current),si(zr.current),ca(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ir]=t,(s=n.nodeValue!==r)&&(e=Xt,e!==null))switch(e.tag){case 3:la(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&la(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ir]=t,t.stateNode=n}return St(t),null;case 13:if(Ke(Ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Qt!==null&&t.mode&1&&!(t.flags&128))jm(),gs(),t.flags|=98560,s=!1;else if(s=ca(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Ir]=t}else gs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),s=!1}else xr!==null&&(_f(xr),xr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ye.current&1?lt===0&&(lt=3):Cd())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return ws(),hf(e,t),e===null&&_o(t.stateNode.containerInfo),St(t),null;case 10:return wd(t.type._context),St(t),null;case 17:return Wt(t.type)&&ml(),St(t),null;case 19:if(Ke(Ye),s=t.memoizedState,s===null)return St(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)$s(s,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bl(e),o!==null){for(t.flags|=128,$s(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(Ye,Ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&et()>vs&&(t.flags|=128,n=!0,$s(s,!1),t.lanes=4194304)}else{if(!n)if(e=bl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$s(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return St(t),null}else 2*et()-s.renderingStartTime>vs&&r!==1073741824&&(t.flags|=128,n=!0,$s(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=et(),t.sibling=null,r=Ye.current,qe(Ye,n?r&1|2:r&1),t):(St(t),null);case 22:case 23:return Pd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Dt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function u2(e,t){switch(pd(t),t.tag){case 1:return Wt(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ws(),Ke(Lt),Ke(Rt),Ed(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bd(t),null;case 13:if(Ke(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));gs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(Ye),null;case 4:return ws(),null;case 10:return wd(t.type._context),null;case 22:case 23:return Pd(),null;case 24:return null;default:return null}}var da=!1,Bt=!1,f2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Xi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function pf(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var ih=!1;function d2(e,t){if(Zu=fl,e=ym(),dd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,d=0,g=0,w=e,x=null;t:for(;;){for(var b;w!==r||i!==0&&w.nodeType!==3||(a=o+i),w!==s||n!==0&&w.nodeType!==3||(l=o+n),w.nodeType===3&&(o+=w.nodeValue.length),(b=w.firstChild)!==null;)x=w,w=b;for(;;){if(w===e)break t;if(x===r&&++d===i&&(a=o),x===s&&++g===n&&(l=o),(b=w.nextSibling)!==null)break;w=x,x=w.parentNode}w=b}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qu={focusedElem:e,selectionRange:r},fl=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var O=m.memoizedProps,P=m.memoizedState,S=t.stateNode,E=S.getSnapshotBeforeUpdate(t.elementType===t.type?O:gr(t.type,O),P);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(V){Qe(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return m=ih,ih=!1,m}function so(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&pf(t,r,s)}i=i.next}while(i!==n)}}function ec(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function hg(e){var t=e.alternate;t!==null&&(e.alternate=null,hg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ir],delete t[Eo],delete t[ef],delete t[Yx],delete t[Dx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pg(e){return e.tag===5||e.tag===3||e.tag===4}function sh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pl));else if(n!==4&&(e=e.child,e!==null))for(gf(e,t,r),e=e.sibling;e!==null;)gf(e,t,r),e=e.sibling}function yf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yf(e,t,r),e=e.sibling;e!==null;)yf(e,t,r),e=e.sibling}var yt=null,wr=!1;function hn(e,t,r){for(r=r.child;r!==null;)mg(e,t,r),r=r.sibling}function mg(e,t,r){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Ll,r)}catch{}switch(r.tag){case 5:Bt||Xi(r,t);case 6:var n=yt,i=wr;yt=null,hn(e,t,r),yt=n,wr=i,yt!==null&&(wr?(e=yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yt.removeChild(r.stateNode));break;case 18:yt!==null&&(wr?(e=yt,r=r.stateNode,e.nodeType===8?Lc(e.parentNode,r):e.nodeType===1&&Lc(e,r),wo(e)):Lc(yt,r.stateNode));break;case 4:n=yt,i=wr,yt=r.stateNode.containerInfo,wr=!0,hn(e,t,r),yt=n,wr=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pf(r,t,o),i=i.next}while(i!==n)}hn(e,t,r);break;case 1:if(!Bt&&(Xi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Qe(r,t,a)}hn(e,t,r);break;case 21:hn(e,t,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,hn(e,t,r),Bt=n):hn(e,t,r);break;default:hn(e,t,r)}}function oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new f2),t.forEach(function(n){var i=_2.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function dr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,wr=!1;break e;case 3:yt=a.stateNode.containerInfo,wr=!0;break e;case 4:yt=a.stateNode.containerInfo,wr=!0;break e}a=a.return}if(yt===null)throw Error(fe(160));mg(s,o,i),yt=null,wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){Qe(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gg(t,e),t=t.sibling}function gg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dr(t,e),Tr(e),n&4){try{so(3,e,e.return),ec(3,e)}catch(O){Qe(e,e.return,O)}try{so(5,e,e.return)}catch(O){Qe(e,e.return,O)}}break;case 1:dr(t,e),Tr(e),n&512&&r!==null&&Xi(r,r.return);break;case 5:if(dr(t,e),Tr(e),n&512&&r!==null&&Xi(r,r.return),e.flags&32){var i=e.stateNode;try{po(i,"")}catch(O){Qe(e,e.return,O)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Mp(i,s),zu(a,o);var d=zu(a,s);for(o=0;o<l.length;o+=2){var g=l[o],w=l[o+1];g==="style"?qp(i,w):g==="dangerouslySetInnerHTML"?Vp(i,w):g==="children"?po(i,w):Jf(i,g,w,d)}switch(a){case"input":Cu(i,s);break;case"textarea":$p(i,s);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?ss(i,!!s.multiple,b,!1):x!==!!s.multiple&&(s.defaultValue!=null?ss(i,!!s.multiple,s.defaultValue,!0):ss(i,!!s.multiple,s.multiple?[]:"",!1))}i[Eo]=s}catch(O){Qe(e,e.return,O)}}break;case 6:if(dr(t,e),Tr(e),n&4){if(e.stateNode===null)throw Error(fe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(O){Qe(e,e.return,O)}}break;case 3:if(dr(t,e),Tr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(O){Qe(e,e.return,O)}break;case 4:dr(t,e),Tr(e);break;case 13:dr(t,e),Tr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Od=et())),n&4&&oh(e);break;case 22:if(g=r!==null&&r.memoizedState!==null,e.mode&1?(Bt=(d=Bt)||g,dr(t,e),Bt=d):dr(t,e),Tr(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(ge=e,g=e.child;g!==null;){for(w=ge=g;ge!==null;){switch(x=ge,b=x.child,x.tag){case 0:case 11:case 14:case 15:so(4,x,x.return);break;case 1:Xi(x,x.return);var m=x.stateNode;if(typeof m.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(O){Qe(n,r,O)}}break;case 5:Xi(x,x.return);break;case 22:if(x.memoizedState!==null){lh(w);continue}}b!==null?(b.return=x,ge=b):lh(w)}g=g.sibling}e:for(g=null,w=e;;){if(w.tag===5){if(g===null){g=w;try{i=w.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=w.stateNode,l=w.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hp("display",o))}catch(O){Qe(e,e.return,O)}}}else if(w.tag===6){if(g===null)try{w.stateNode.nodeValue=d?"":w.memoizedProps}catch(O){Qe(e,e.return,O)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;g===w&&(g=null),w=w.return}g===w&&(g=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:dr(t,e),Tr(e),n&4&&oh(e);break;case 21:break;default:dr(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(pg(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(po(i,""),n.flags&=-33);var s=sh(e);yf(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=sh(e);gf(e,a,o);break;default:throw Error(fe(161))}}catch(l){Qe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h2(e,t,r){ge=e,yg(e)}function yg(e,t,r){for(var n=(e.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||da;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bt;a=da;var d=Bt;if(da=o,(Bt=l)&&!d)for(ge=i;ge!==null;)o=ge,l=o.child,o.tag===22&&o.memoizedState!==null?ch(i):l!==null?(l.return=o,ge=l):ch(i);for(;s!==null;)ge=s,yg(s),s=s.sibling;ge=i,da=a,Bt=d}ah(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):ah(e)}}function ah(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bt||ec(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:gr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&K0(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}K0(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var w=g.dehydrated;w!==null&&wo(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}Bt||t.flags&512&&mf(t)}catch(x){Qe(t,t.return,x)}}if(t===e){ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,ge=r;break}ge=t.return}}function lh(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ge=r;break}ge=t.return}}function ch(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ec(4,t)}catch(l){Qe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Qe(t,i,l)}}var s=t.return;try{mf(t)}catch(l){Qe(t,s,l)}break;case 5:var o=t.return;try{mf(t)}catch(l){Qe(t,o,l)}}}catch(l){Qe(t,t.return,l)}if(t===e){ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ge=a;break}ge=t.return}}var p2=Math.ceil,Nl=un.ReactCurrentDispatcher,jd=un.ReactCurrentOwner,lr=un.ReactCurrentBatchConfig,Pe=0,mt=null,st=null,xt=0,Dt=0,Ji=Ln(0),lt=0,Bo=null,mi=0,tc=0,Rd=0,oo=null,Ht=null,Od=0,vs=1/0,Kr=null,Tl=!1,wf=null,Mn=null,ha=!1,Rn=null,kl=0,ao=0,xf=null,Ca=-1,Ia=0;function Mt(){return Pe&6?et():Ca!==-1?Ca:Ca=et()}function $n(e){return e.mode&1?Pe&2&&xt!==0?xt&-xt:Qx.transition!==null?(Ia===0&&(Ia=tm()),Ia):(e=Me,e!==0||(e=window.event,e=e===void 0?16:lm(e.type)),e):1}function br(e,t,r,n){if(50<ao)throw ao=0,xf=null,Error(fe(185));$o(e,r,n),(!(Pe&2)||e!==mt)&&(e===mt&&(!(Pe&2)&&(tc|=r),lt===4&&An(e,xt)),Yt(e,n),r===1&&Pe===0&&!(t.mode&1)&&(vs=et()+500,Ql&&Wn()))}function Yt(e,t){var r=e.callbackNode;Qw(e,t);var n=ul(e,e===mt?xt:0);if(n===0)r!==null&&w0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&w0(r),t===1)e.tag===0?Zx(uh.bind(null,e)):km(uh.bind(null,e)),Lx(function(){!(Pe&6)&&Wn()}),r=null;else{switch(rm(n)){case 1:r=id;break;case 4:r=Jp;break;case 16:r=cl;break;case 536870912:r=em;break;default:r=cl}r=Ng(r,wg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wg(e,t){if(Ca=-1,Ia=0,Pe&6)throw Error(fe(327));var r=e.callbackNode;if(us()&&e.callbackNode!==r)return null;var n=ul(e,e===mt?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Al(e,n);else{t=n;var i=Pe;Pe|=2;var s=vg();(mt!==e||xt!==t)&&(Kr=null,vs=et()+500,li(e,t));do try{y2();break}catch(a){xg(e,a)}while(1);yd(),Nl.current=s,Pe=i,st!==null?t=0:(mt=null,xt=0,t=lt)}if(t!==0){if(t===2&&(i=Ku(e),i!==0&&(n=i,t=vf(e,i))),t===1)throw r=Bo,li(e,0),An(e,n),Yt(e,et()),r;if(t===6)An(e,n);else{if(i=e.current.alternate,!(n&30)&&!m2(i)&&(t=Al(e,n),t===2&&(s=Ku(e),s!==0&&(n=s,t=vf(e,s))),t===1))throw r=Bo,li(e,0),An(e,n),Yt(e,et()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Zn(e,Ht,Kr);break;case 3:if(An(e,n),(n&130023424)===n&&(t=Od+500-et(),10<t)){if(ul(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ju(Zn.bind(null,e,Ht,Kr),t);break}Zn(e,Ht,Kr);break;case 4:if(An(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-_r(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*p2(n/1960))-n,10<n){e.timeoutHandle=Ju(Zn.bind(null,e,Ht,Kr),n);break}Zn(e,Ht,Kr);break;case 5:Zn(e,Ht,Kr);break;default:throw Error(fe(329))}}}return Yt(e,et()),e.callbackNode===r?wg.bind(null,e):null}function vf(e,t){var r=oo;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=Al(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&_f(t)),e}function _f(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function m2(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Sr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~Rd,t&=~tc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_r(t),n=1<<r;e[r]=-1,t&=~n}}function uh(e){if(Pe&6)throw Error(fe(327));us();var t=ul(e,0);if(!(t&1))return Yt(e,et()),null;var r=Al(e,t);if(e.tag!==0&&r===2){var n=Ku(e);n!==0&&(t=n,r=vf(e,n))}if(r===1)throw r=Bo,li(e,0),An(e,t),Yt(e,et()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,Ht,Kr),Yt(e,et()),null}function Fd(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(vs=et()+500,Ql&&Wn())}}function gi(e){Rn!==null&&Rn.tag===0&&!(Pe&6)&&us();var t=Pe;Pe|=1;var r=lr.transition,n=Me;try{if(lr.transition=null,Me=1,e)return e()}finally{Me=n,lr.transition=r,Pe=t,!(Pe&6)&&Wn()}}function Pd(){Dt=Ji.current,Ke(Ji)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Kx(r)),st!==null)for(r=st.return;r!==null;){var n=r;switch(pd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ml();break;case 3:ws(),Ke(Lt),Ke(Rt),Ed();break;case 5:bd(n);break;case 4:ws();break;case 13:Ke(Ye);break;case 19:Ke(Ye);break;case 10:wd(n.type._context);break;case 22:case 23:Pd()}r=r.return}if(mt=e,st=e=zn(e.current,null),xt=Dt=t,lt=0,Bo=null,Rd=tc=mi=0,Ht=oo=null,ii!==null){for(t=0;t<ii.length;t++)if(r=ii[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ii=null}return e}function xg(e,t){do{var r=st;try{if(yd(),Oa.current=Sl,El){for(var n=De.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}El=!1}if(pi=0,ht=ot=De=null,io=!1,To=0,jd.current=null,r===null||r.return===null){lt=1,Bo=t,st=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,g=a,w=g.tag;if(!(g.mode&1)&&(w===0||w===11||w===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Q0(o);if(b!==null){b.flags&=-257,X0(b,o,a,s,t),b.mode&1&&Z0(s,d,t),t=b,l=d;var m=t.updateQueue;if(m===null){var O=new Set;O.add(l),t.updateQueue=O}else m.add(l);break e}else{if(!(t&1)){Z0(s,d,t),Cd();break e}l=Error(fe(426))}}else if(We&&a.mode&1){var P=Q0(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),X0(P,o,a,s,t),md(xs(l,a));break e}}s=l=xs(l,a),lt!==4&&(lt=2),oo===null?oo=[s]:oo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var S=rg(s,l,t);G0(s,S);break e;case 1:a=l;var E=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Mn===null||!Mn.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var V=ng(s,a,t);G0(s,V);break e}}s=s.return}while(s!==null)}bg(r)}catch(k){t=k,st===r&&r!==null&&(st=r=r.return);continue}break}while(1)}function vg(){var e=Nl.current;return Nl.current=Sl,e===null?Sl:e}function Cd(){(lt===0||lt===3||lt===2)&&(lt=4),mt===null||!(mi&268435455)&&!(tc&268435455)||An(mt,xt)}function Al(e,t){var r=Pe;Pe|=2;var n=vg();(mt!==e||xt!==t)&&(Kr=null,li(e,t));do try{g2();break}catch(i){xg(e,i)}while(1);if(yd(),Pe=r,Nl.current=n,st!==null)throw Error(fe(261));return mt=null,xt=0,lt}function g2(){for(;st!==null;)_g(st)}function y2(){for(;st!==null&&!Hw();)_g(st)}function _g(e){var t=Sg(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?bg(e):st=t,jd.current=null}function bg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=u2(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}else if(r=c2(r,t,Dt),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);lt===0&&(lt=5)}function Zn(e,t,r){var n=Me,i=lr.transition;try{lr.transition=null,Me=1,w2(e,t,r,n)}finally{lr.transition=i,Me=n}return null}function w2(e,t,r,n){do us();while(Rn!==null);if(Pe&6)throw Error(fe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Xw(e,s),e===mt&&(st=mt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ha||(ha=!0,Ng(cl,function(){return us(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=lr.transition,lr.transition=null;var o=Me;Me=1;var a=Pe;Pe|=4,jd.current=null,d2(e,r),gg(r,e),Mx(Qu),fl=!!Zu,Qu=Zu=null,e.current=r,h2(r),qw(),Pe=a,Me=o,lr.transition=s}else e.current=r;if(ha&&(ha=!1,Rn=e,kl=i),s=e.pendingLanes,s===0&&(Mn=null),Lw(r.stateNode),Yt(e,et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Tl)throw Tl=!1,e=wf,wf=null,e;return kl&1&&e.tag!==0&&us(),s=e.pendingLanes,s&1?e===xf?ao++:(ao=0,xf=e):ao=0,Wn(),null}function us(){if(Rn!==null){var e=rm(kl),t=lr.transition,r=Me;try{if(lr.transition=null,Me=16>e?16:e,Rn===null)var n=!1;else{if(e=Rn,Rn=null,kl=0,Pe&6)throw Error(fe(331));var i=Pe;for(Pe|=4,ge=e.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(ge=d;ge!==null;){var g=ge;switch(g.tag){case 0:case 11:case 15:so(8,g,s)}var w=g.child;if(w!==null)w.return=g,ge=w;else for(;ge!==null;){g=ge;var x=g.sibling,b=g.return;if(hg(g),g===d){ge=null;break}if(x!==null){x.return=b,ge=x;break}ge=b}}}var m=s.alternate;if(m!==null){var O=m.child;if(O!==null){m.child=null;do{var P=O.sibling;O.sibling=null,O=P}while(O!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:so(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ge=S;break e}ge=s.return}}var E=e.current;for(ge=E;ge!==null;){o=ge;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,ge=N;else e:for(o=E;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ec(9,a)}}catch(k){Qe(a,a.return,k)}if(a===o){ge=null;break e}var V=a.sibling;if(V!==null){V.return=a.return,ge=V;break e}ge=a.return}}if(Pe=i,Wn(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Ll,e)}catch{}n=!0}return n}finally{Me=r,lr.transition=t}}return!1}function fh(e,t,r){t=xs(r,t),t=rg(e,t,1),e=Un(e,t,1),t=Mt(),e!==null&&($o(e,1,t),Yt(e,t))}function Qe(e,t,r){if(e.tag===3)fh(e,e,r);else for(;t!==null;){if(t.tag===3){fh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mn===null||!Mn.has(n))){e=xs(r,e),e=ng(t,e,1),t=Un(t,e,1),e=Mt(),t!==null&&($o(t,1,e),Yt(t,e));break}}t=t.return}}function x2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(xt&r)===r&&(lt===4||lt===3&&(xt&130023424)===xt&&500>et()-Od?li(e,0):Rd|=r),Yt(e,t)}function Eg(e,t){t===0&&(e.mode&1?(t=na,na<<=1,!(na&130023424)&&(na=4194304)):t=1);var r=Mt();e=an(e,t),e!==null&&($o(e,t,r),Yt(e,r))}function v2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Eg(e,r)}function _2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),Eg(e,r)}var Sg;Sg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)Gt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gt=!1,l2(e,t,r);Gt=!!(e.flags&131072)}else Gt=!1,We&&t.flags&1048576&&Am(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pa(e,t),e=t.pendingProps;var i=ms(t,Rt.current);cs(t,r),i=Nd(null,t,n,e,i,r);var s=Td();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(n)?(s=!0,gl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vd(t),i.updater=Jl,t.stateNode=i,i._reactInternals=t,af(t,n,e,r),t=uf(null,t,n,!0,s,r)):(t.tag=0,We&&s&&hd(t),It(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pa(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=E2(n),e=gr(n,e),i){case 0:t=cf(null,t,n,e,r);break e;case 1:t=th(null,t,n,e,r);break e;case 11:t=J0(null,t,n,e,r);break e;case 14:t=eh(null,t,n,gr(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gr(n,i),cf(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gr(n,i),th(e,t,n,i,r);case 3:e:{if(ag(t),e===null)throw Error(fe(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Pm(e,t),_l(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=xs(Error(fe(423)),t),t=rh(e,t,n,r,i);break e}else if(n!==i){i=xs(Error(fe(424)),t),t=rh(e,t,n,r,i);break e}else for(Qt=In(t.stateNode.containerInfo.firstChild),Xt=t,We=!0,xr=null,r=Om(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gs(),n===i){t=ln(e,t,r);break e}It(e,t,n,r)}t=t.child}return t;case 5:return Cm(t),e===null&&nf(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Xu(n,i)?o=null:s!==null&&Xu(n,s)&&(t.flags|=32),og(e,t),It(e,t,o,r),t.child;case 6:return e===null&&nf(t),null;case 13:return lg(e,t,r);case 4:return _d(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):It(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gr(n,i),J0(e,t,n,i,r);case 7:return It(e,t,t.pendingProps,r),t.child;case 8:return It(e,t,t.pendingProps.children,r),t.child;case 12:return It(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,qe(xl,n._currentValue),n._currentValue=o,s!==null)if(Sr(s.value,o)){if(s.children===i.children&&!Lt.current){t=ln(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=rn(-1,r&-r),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?l.next=l:(l.next=g.next,g.next=l),d.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),sf(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),sf(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,cs(t,r),i=cr(i),n=n(i),t.flags|=1,It(e,t,n,r),t.child;case 14:return n=t.type,i=gr(n,t.pendingProps),i=gr(n.type,i),eh(e,t,n,i,r);case 15:return ig(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:gr(n,i),Pa(e,t),t.tag=1,Wt(n)?(e=!0,gl(t)):e=!1,cs(t,r),tg(t,n,i),af(t,n,i,r),uf(null,t,n,!0,e,r);case 19:return cg(e,t,r);case 22:return sg(e,t,r)}throw Error(fe(156,t.tag))};function Ng(e,t){return Xp(e,t)}function b2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new b2(e,t,r,n)}function Id(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E2(e){if(typeof e=="function")return Id(e)?1:0;if(e!=null){if(e=e.$$typeof,e===td)return 11;if(e===rd)return 14}return 2}function zn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ua(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Id(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case qi:return ci(r.children,i,s,t);case ed:o=8,i|=8;break;case ju:return e=ar(12,r,t,i|2),e.elementType=ju,e.lanes=s,e;case Ru:return e=ar(13,r,t,i),e.elementType=Ru,e.lanes=s,e;case Ou:return e=ar(19,r,t,i),e.elementType=Ou,e.lanes=s,e;case Cp:return rc(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fp:o=10;break e;case Pp:o=9;break e;case td:o=11;break e;case rd:o=14;break e;case _n:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=ar(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ci(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function rc(e,t,r,n){return e=ar(22,e,n,t),e.elementType=Cp,e.lanes=r,e.stateNode={isHidden:!1},e}function eu(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function tu(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S2(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cc(0),this.expirationTimes=Cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ud(e,t,r,n,i,s,o,a,l){return e=new S2(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ar(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vd(s),e}function N2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Tg(e){if(!e)return Gn;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(Wt(r))return Tm(e,r,t)}return t}function kg(e,t,r,n,i,s,o,a,l){return e=Ud(r,n,!0,e,i,s,o,a,l),e.context=Tg(null),r=e.current,n=Mt(),i=$n(r),s=rn(n,i),s.callback=t??null,Un(r,s,i),e.current.lanes=i,$o(e,i,n),Yt(e,n),e}function nc(e,t,r,n){var i=t.current,s=Mt(),o=$n(i);return r=Tg(r),t.context===null?t.context=r:t.pendingContext=r,t=rn(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Un(i,t,o),e!==null&&(br(e,i,o,s),Ra(e,i,o)),o}function Bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Md(e,t){dh(e,t),(e=e.alternate)&&dh(e,t)}function T2(){return null}var Ag=typeof reportError=="function"?reportError:function(e){console.error(e)};function $d(e){this._internalRoot=e}ic.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));nc(e,t,null,null)};ic.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){nc(null,e,null,null)}),t[on]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var t=sm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kn.length&&t!==0&&t<kn[r].priority;r++);kn.splice(r,0,e),r===0&&am(e)}};function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function hh(){}function k2(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Bl(o);s.call(d)}}var o=kg(t,n,e,0,null,!1,!1,"",hh);return e._reactRootContainer=o,e[on]=o.current,_o(e.nodeType===8?e.parentNode:e),gi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var d=Bl(l);a.call(d)}}var l=Ud(e,0,!1,null,null,!1,!1,"",hh);return e._reactRootContainer=l,e[on]=l.current,_o(e.nodeType===8?e.parentNode:e),gi(function(){nc(t,l,r,n)}),l}function oc(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Bl(o);a.call(l)}}nc(t,o,e,i)}else o=k2(r,t,e,i,n);return Bl(o)}nm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gs(t.pendingLanes);r!==0&&(sd(t,r|1),Yt(t,et()),!(Pe&6)&&(vs=et()+500,Wn()))}break;case 13:gi(function(){var n=an(e,1);if(n!==null){var i=Mt();br(n,e,1,i)}}),Md(e,1)}};od=function(e){if(e.tag===13){var t=an(e,134217728);if(t!==null){var r=Mt();br(t,e,134217728,r)}Md(e,134217728)}};im=function(e){if(e.tag===13){var t=$n(e),r=an(e,t);if(r!==null){var n=Mt();br(r,e,t,n)}Md(e,t)}};sm=function(){return Me};om=function(e,t){var r=Me;try{return Me=e,t()}finally{Me=r}};Hu=function(e,t,r){switch(t){case"input":if(Cu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Zl(n);if(!i)throw Error(fe(90));Up(n),Cu(n,i)}}}break;case"textarea":$p(e,r);break;case"select":t=r.value,t!=null&&ss(e,!!r.multiple,t,!1)}};Lp=Fd;Wp=gi;var A2={usingClientEntryPoint:!1,Events:[Vo,Wi,Zl,Gp,Kp,Fd]},zs={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B2={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zp(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||T2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pa.isDisabled&&pa.supportsFiber)try{Ll=pa.inject(B2),$r=pa}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A2;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(t))throw Error(fe(200));return N2(e,t,null,r)};er.createRoot=function(e,t){if(!zd(e))throw Error(fe(299));var r=!1,n="",i=Ag;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ud(e,1,!1,null,null,r,!1,n,i),e[on]=t.current,_o(e.nodeType===8?e.parentNode:e),new $d(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=Zp(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return gi(e)};er.hydrate=function(e,t,r){if(!sc(t))throw Error(fe(200));return oc(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!zd(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Ag;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=kg(t,null,e,1,r??null,i,!1,s,o),e[on]=t.current,_o(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ic(t)};er.render=function(e,t,r){if(!sc(t))throw Error(fe(200));return oc(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!sc(e))throw Error(fe(40));return e._reactRootContainer?(gi(function(){oc(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1};er.unstable_batchedUpdates=Fd;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sc(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return oc(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function Bg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bg)}catch(e){console.error(e)}}Bg(),Bp.exports=er;var j2=Bp.exports,ph=j2;Au.createRoot=ph.createRoot,Au.hydrateRoot=ph.hydrateRoot;var jg={},qo={};qo.byteLength=F2;qo.toByteArray=C2;qo.fromByteArray=M2;var Ur=[],rr=[],R2=typeof Uint8Array<"u"?Uint8Array:Array,ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ki=0,O2=ru.length;ki<O2;++ki)Ur[ki]=ru[ki],rr[ru.charCodeAt(ki)]=ki;rr["-".charCodeAt(0)]=62;rr["_".charCodeAt(0)]=63;function Rg(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function F2(e){var t=Rg(e),r=t[0],n=t[1];return(r+n)*3/4-n}function P2(e,t,r){return(t+r)*3/4-r}function C2(e){var t,r=Rg(e),n=r[0],i=r[1],s=new R2(P2(e,n,i)),o=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)t=rr[e.charCodeAt(l)]<<18|rr[e.charCodeAt(l+1)]<<12|rr[e.charCodeAt(l+2)]<<6|rr[e.charCodeAt(l+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=rr[e.charCodeAt(l)]<<2|rr[e.charCodeAt(l+1)]>>4,s[o++]=t&255),i===1&&(t=rr[e.charCodeAt(l)]<<10|rr[e.charCodeAt(l+1)]<<4|rr[e.charCodeAt(l+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function I2(e){return Ur[e>>18&63]+Ur[e>>12&63]+Ur[e>>6&63]+Ur[e&63]}function U2(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(I2(n));return i.join("")}function M2(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(U2(e,o,o+s>a?a:o+s));return n===1?(t=e[r-1],i.push(Ur[t>>2]+Ur[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ur[t>>10]+Ur[t>>4&63]+Ur[t<<2&63]+"=")),i.join("")}var Go={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Go.read=function(e,t,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,d=l>>1,g=-7,w=r?i-1:0,x=r?-1:1,b=e[t+w];for(w+=x,s=b&(1<<-g)-1,b>>=-g,g+=a;g>0;s=s*256+e[t+w],w+=x,g-=8);for(o=s&(1<<-g)-1,s>>=-g,g+=n;g>0;o=o*256+e[t+w],w+=x,g-=8);if(s===0)s=1-d;else{if(s===l)return o?NaN:(b?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-d}return(b?-1:1)*o*Math.pow(2,s-n)};Go.write=function(e,t,r,n,i,s){var o,a,l,d=s*8-i-1,g=(1<<d)-1,w=g>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:s-1,m=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=g):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+w>=1?t+=x/l:t+=x*Math.pow(2,1-w),t*l>=2&&(o++,l/=2),o+w>=g?(a=0,o=g):o+w>=1?(a=(t*l-1)*Math.pow(2,i),o=o+w):(a=t*Math.pow(2,w-1)*Math.pow(2,i),o=0));i>=8;e[r+b]=a&255,b+=m,a/=256,i-=8);for(o=o<<i|a,d+=i;d>0;e[r+b]=o&255,b+=m,o/=256,d-=8);e[r+b-m]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=qo,r=Go,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const v=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(v,f),v.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(v){if(v>i)throw new RangeError('The value "'+v+'" is invalid for option "size"');const f=new Uint8Array(v);return Object.setPrototypeOf(f,a.prototype),f}function a(v,f,p){if(typeof v=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(v)}return l(v,f,p)}a.poolSize=8192;function l(v,f,p){if(typeof v=="string")return x(v,f);if(ArrayBuffer.isView(v))return m(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(X(v,ArrayBuffer)||v&&X(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(v,SharedArrayBuffer)||v&&X(v.buffer,SharedArrayBuffer)))return O(v,f,p);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const F=v.valueOf&&v.valueOf();if(F!=null&&F!==v)return a.from(F,f,p);const D=P(v);if(D)return D;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return a.from(v[Symbol.toPrimitive]("string"),f,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}a.from=function(v,f,p){return l(v,f,p)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function g(v,f,p){return d(v),v<=0?o(v):f!==void 0?typeof p=="string"?o(v).fill(f,p):o(v).fill(f):o(v)}a.alloc=function(v,f,p){return g(v,f,p)};function w(v){return d(v),o(v<0?0:S(v)|0)}a.allocUnsafe=function(v){return w(v)},a.allocUnsafeSlow=function(v){return w(v)};function x(v,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const p=N(v,f)|0;let F=o(p);const D=F.write(v,f);return D!==p&&(F=F.slice(0,D)),F}function b(v){const f=v.length<0?0:S(v.length)|0,p=o(f);for(let F=0;F<f;F+=1)p[F]=v[F]&255;return p}function m(v){if(X(v,Uint8Array)){const f=new Uint8Array(v);return O(f.buffer,f.byteOffset,f.byteLength)}return b(v)}function O(v,f,p){if(f<0||v.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<f+(p||0))throw new RangeError('"length" is outside of buffer bounds');let F;return f===void 0&&p===void 0?F=new Uint8Array(v):p===void 0?F=new Uint8Array(v,f):F=new Uint8Array(v,f,p),Object.setPrototypeOf(F,a.prototype),F}function P(v){if(a.isBuffer(v)){const f=S(v.length)|0,p=o(f);return p.length===0||v.copy(p,0,0,f),p}if(v.length!==void 0)return typeof v.length!="number"||ue(v.length)?o(0):b(v);if(v.type==="Buffer"&&Array.isArray(v.data))return b(v.data)}function S(v){if(v>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return v|0}function E(v){return+v!=v&&(v=0),a.alloc(+v)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,p){if(X(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),X(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(f)||!a.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===p)return 0;let F=f.length,D=p.length;for(let ee=0,J=Math.min(F,D);ee<J;++ee)if(f[ee]!==p[ee]){F=f[ee],D=p[ee];break}return F<D?-1:D<F?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,p){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let F;if(p===void 0)for(p=0,F=0;F<f.length;++F)p+=f[F].length;const D=a.allocUnsafe(p);let ee=0;for(F=0;F<f.length;++F){let J=f[F];if(X(J,Uint8Array))ee+J.length>D.length?(a.isBuffer(J)||(J=a.from(J)),J.copy(D,ee)):Uint8Array.prototype.set.call(D,J,ee);else if(a.isBuffer(J))J.copy(D,ee);else throw new TypeError('"list" argument must be an Array of Buffers');ee+=J.length}return D};function N(v,f){if(a.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||X(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);const p=v.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&p===0)return 0;let D=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return c(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return A(v).length;default:if(D)return F?-1:c(v).length;f=(""+f).toLowerCase(),D=!0}}a.byteLength=N;function V(v,f,p){let F=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,f>>>=0,p<=f))return"";for(v||(v="utf8");;)switch(v){case"hex":return ne(this,f,p);case"utf8":case"utf-8":return $(this,f,p);case"ascii":return te(this,f,p);case"latin1":case"binary":return Z(this,f,p);case"base64":return j(this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,f,p);default:if(F)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),F=!0}}a.prototype._isBuffer=!0;function k(v,f,p){const F=v[f];v[f]=v[p],v[p]=F}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<f;p+=2)k(this,p,p+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<f;p+=4)k(this,p,p+3),k(this,p+1,p+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<f;p+=8)k(this,p,p+7),k(this,p+1,p+6),k(this,p+2,p+5),k(this,p+3,p+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?$(this,0,f):V.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const p=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(f+=" ... "),"<Buffer "+f+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(f,p,F,D,ee){if(X(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(p===void 0&&(p=0),F===void 0&&(F=f?f.length:0),D===void 0&&(D=0),ee===void 0&&(ee=this.length),p<0||F>f.length||D<0||ee>this.length)throw new RangeError("out of range index");if(D>=ee&&p>=F)return 0;if(D>=ee)return-1;if(p>=F)return 1;if(p>>>=0,F>>>=0,D>>>=0,ee>>>=0,this===f)return 0;let J=ee-D,_e=F-p;const Te=Math.min(J,_e),Ee=this.slice(D,ee),ve=f.slice(p,F);for(let Ce=0;Ce<Te;++Ce)if(Ee[Ce]!==ve[Ce]){J=Ee[Ce],_e=ve[Ce];break}return J<_e?-1:_e<J?1:0};function I(v,f,p,F,D){if(v.length===0)return-1;if(typeof p=="string"?(F=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,ue(p)&&(p=D?0:v.length-1),p<0&&(p=v.length+p),p>=v.length){if(D)return-1;p=v.length-1}else if(p<0)if(D)p=0;else return-1;if(typeof f=="string"&&(f=a.from(f,F)),a.isBuffer(f))return f.length===0?-1:U(v,f,p,F,D);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?D?Uint8Array.prototype.indexOf.call(v,f,p):Uint8Array.prototype.lastIndexOf.call(v,f,p):U(v,[f],p,F,D);throw new TypeError("val must be string, number or Buffer")}function U(v,f,p,F,D){let ee=1,J=v.length,_e=f.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(v.length<2||f.length<2)return-1;ee=2,J/=2,_e/=2,p/=2}function Te(ve,Ce){return ee===1?ve[Ce]:ve.readUInt16BE(Ce*ee)}let Ee;if(D){let ve=-1;for(Ee=p;Ee<J;Ee++)if(Te(v,Ee)===Te(f,ve===-1?0:Ee-ve)){if(ve===-1&&(ve=Ee),Ee-ve+1===_e)return ve*ee}else ve!==-1&&(Ee-=Ee-ve),ve=-1}else for(p+_e>J&&(p=J-_e),Ee=p;Ee>=0;Ee--){let ve=!0;for(let Ce=0;Ce<_e;Ce++)if(Te(v,Ee+Ce)!==Te(f,Ce)){ve=!1;break}if(ve)return Ee}return-1}a.prototype.includes=function(f,p,F){return this.indexOf(f,p,F)!==-1},a.prototype.indexOf=function(f,p,F){return I(this,f,p,F,!0)},a.prototype.lastIndexOf=function(f,p,F){return I(this,f,p,F,!1)};function L(v,f,p,F){p=Number(p)||0;const D=v.length-p;F?(F=Number(F),F>D&&(F=D)):F=D;const ee=f.length;F>ee/2&&(F=ee/2);let J;for(J=0;J<F;++J){const _e=parseInt(f.substr(J*2,2),16);if(ue(_e))return J;v[p+J]=_e}return J}function G(v,f,p,F){return M(c(f,v.length-p),v,p,F)}function z(v,f,p,F){return M(u(f),v,p,F)}function ie(v,f,p,F){return M(A(f),v,p,F)}function se(v,f,p,F){return M(_(f,v.length-p),v,p,F)}a.prototype.write=function(f,p,F,D){if(p===void 0)D="utf8",F=this.length,p=0;else if(F===void 0&&typeof p=="string")D=p,F=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(F)?(F=F>>>0,D===void 0&&(D="utf8")):(D=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ee=this.length-p;if((F===void 0||F>ee)&&(F=ee),f.length>0&&(F<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let J=!1;for(;;)switch(D){case"hex":return L(this,f,p,F);case"utf8":case"utf-8":return G(this,f,p,F);case"ascii":case"latin1":case"binary":return z(this,f,p,F);case"base64":return ie(this,f,p,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,f,p,F);default:if(J)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(v,f,p){return f===0&&p===v.length?t.fromByteArray(v):t.fromByteArray(v.slice(f,p))}function $(v,f,p){p=Math.min(v.length,p);const F=[];let D=f;for(;D<p;){const ee=v[D];let J=null,_e=ee>239?4:ee>223?3:ee>191?2:1;if(D+_e<=p){let Te,Ee,ve,Ce;switch(_e){case 1:ee<128&&(J=ee);break;case 2:Te=v[D+1],(Te&192)===128&&(Ce=(ee&31)<<6|Te&63,Ce>127&&(J=Ce));break;case 3:Te=v[D+1],Ee=v[D+2],(Te&192)===128&&(Ee&192)===128&&(Ce=(ee&15)<<12|(Te&63)<<6|Ee&63,Ce>2047&&(Ce<55296||Ce>57343)&&(J=Ce));break;case 4:Te=v[D+1],Ee=v[D+2],ve=v[D+3],(Te&192)===128&&(Ee&192)===128&&(ve&192)===128&&(Ce=(ee&15)<<18|(Te&63)<<12|(Ee&63)<<6|ve&63,Ce>65535&&Ce<1114112&&(J=Ce))}}J===null?(J=65533,_e=1):J>65535&&(J-=65536,F.push(J>>>10&1023|55296),J=56320|J&1023),F.push(J),D+=_e}return Q(F)}const H=4096;function Q(v){const f=v.length;if(f<=H)return String.fromCharCode.apply(String,v);let p="",F=0;for(;F<f;)p+=String.fromCharCode.apply(String,v.slice(F,F+=H));return p}function te(v,f,p){let F="";p=Math.min(v.length,p);for(let D=f;D<p;++D)F+=String.fromCharCode(v[D]&127);return F}function Z(v,f,p){let F="";p=Math.min(v.length,p);for(let D=f;D<p;++D)F+=String.fromCharCode(v[D]);return F}function ne(v,f,p){const F=v.length;(!f||f<0)&&(f=0),(!p||p<0||p>F)&&(p=F);let D="";for(let ee=f;ee<p;++ee)D+=me[v[ee]];return D}function le(v,f,p){const F=v.slice(f,p);let D="";for(let ee=0;ee<F.length-1;ee+=2)D+=String.fromCharCode(F[ee]+F[ee+1]*256);return D}a.prototype.slice=function(f,p){const F=this.length;f=~~f,p=p===void 0?F:~~p,f<0?(f+=F,f<0&&(f=0)):f>F&&(f=F),p<0?(p+=F,p<0&&(p=0)):p>F&&(p=F),p<f&&(p=f);const D=this.subarray(f,p);return Object.setPrototypeOf(D,a.prototype),D};function oe(v,f,p){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+f>p)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,p,F){f=f>>>0,p=p>>>0,F||oe(f,p,this.length);let D=this[f],ee=1,J=0;for(;++J<p&&(ee*=256);)D+=this[f+J]*ee;return D},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,p,F){f=f>>>0,p=p>>>0,F||oe(f,p,this.length);let D=this[f+--p],ee=1;for(;p>0&&(ee*=256);)D+=this[f+--p]*ee;return D},a.prototype.readUint8=a.prototype.readUInt8=function(f,p){return f=f>>>0,p||oe(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,p){return f=f>>>0,p||oe(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,p){return f=f>>>0,p||oe(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,p){return f=f>>>0,p||oe(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,p){return f=f>>>0,p||oe(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=ye(function(f){f=f>>>0,K(f,"offset");const p=this[f],F=this[f+7];(p===void 0||F===void 0)&&q(f,this.length-8);const D=p+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,ee=this[++f]+this[++f]*2**8+this[++f]*2**16+F*2**24;return BigInt(D)+(BigInt(ee)<<BigInt(32))}),a.prototype.readBigUInt64BE=ye(function(f){f=f>>>0,K(f,"offset");const p=this[f],F=this[f+7];(p===void 0||F===void 0)&&q(f,this.length-8);const D=p*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],ee=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+F;return(BigInt(D)<<BigInt(32))+BigInt(ee)}),a.prototype.readIntLE=function(f,p,F){f=f>>>0,p=p>>>0,F||oe(f,p,this.length);let D=this[f],ee=1,J=0;for(;++J<p&&(ee*=256);)D+=this[f+J]*ee;return ee*=128,D>=ee&&(D-=Math.pow(2,8*p)),D},a.prototype.readIntBE=function(f,p,F){f=f>>>0,p=p>>>0,F||oe(f,p,this.length);let D=p,ee=1,J=this[f+--D];for(;D>0&&(ee*=256);)J+=this[f+--D]*ee;return ee*=128,J>=ee&&(J-=Math.pow(2,8*p)),J},a.prototype.readInt8=function(f,p){return f=f>>>0,p||oe(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,p){f=f>>>0,p||oe(f,2,this.length);const F=this[f]|this[f+1]<<8;return F&32768?F|4294901760:F},a.prototype.readInt16BE=function(f,p){f=f>>>0,p||oe(f,2,this.length);const F=this[f+1]|this[f]<<8;return F&32768?F|4294901760:F},a.prototype.readInt32LE=function(f,p){return f=f>>>0,p||oe(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,p){return f=f>>>0,p||oe(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=ye(function(f){f=f>>>0,K(f,"offset");const p=this[f],F=this[f+7];(p===void 0||F===void 0)&&q(f,this.length-8);const D=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(F<<24);return(BigInt(D)<<BigInt(32))+BigInt(p+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=ye(function(f){f=f>>>0,K(f,"offset");const p=this[f],F=this[f+7];(p===void 0||F===void 0)&&q(f,this.length-8);const D=(p<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(D)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+F)}),a.prototype.readFloatLE=function(f,p){return f=f>>>0,p||oe(f,4,this.length),r.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,p){return f=f>>>0,p||oe(f,4,this.length),r.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,p){return f=f>>>0,p||oe(f,8,this.length),r.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,p){return f=f>>>0,p||oe(f,8,this.length),r.read(this,f,!1,52,8)};function he(v,f,p,F,D,ee){if(!a.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>D||f<ee)throw new RangeError('"value" argument is out of bounds');if(p+F>v.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,p,F,D){if(f=+f,p=p>>>0,F=F>>>0,!D){const _e=Math.pow(2,8*F)-1;he(this,f,p,F,_e,0)}let ee=1,J=0;for(this[p]=f&255;++J<F&&(ee*=256);)this[p+J]=f/ee&255;return p+F},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,p,F,D){if(f=+f,p=p>>>0,F=F>>>0,!D){const _e=Math.pow(2,8*F)-1;he(this,f,p,F,_e,0)}let ee=F-1,J=1;for(this[p+ee]=f&255;--ee>=0&&(J*=256);)this[p+ee]=f/J&255;return p+F},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,1,255,0),this[p]=f&255,p+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,2,65535,0),this[p]=f&255,this[p+1]=f>>>8,p+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,2,65535,0),this[p]=f>>>8,this[p+1]=f&255,p+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,4,4294967295,0),this[p+3]=f>>>24,this[p+2]=f>>>16,this[p+1]=f>>>8,this[p]=f&255,p+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,4,4294967295,0),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4};function Oe(v,f,p,F,D){C(f,F,D,v,p,7);let ee=Number(f&BigInt(4294967295));v[p++]=ee,ee=ee>>8,v[p++]=ee,ee=ee>>8,v[p++]=ee,ee=ee>>8,v[p++]=ee;let J=Number(f>>BigInt(32)&BigInt(4294967295));return v[p++]=J,J=J>>8,v[p++]=J,J=J>>8,v[p++]=J,J=J>>8,v[p++]=J,p}function R(v,f,p,F,D){C(f,F,D,v,p,7);let ee=Number(f&BigInt(4294967295));v[p+7]=ee,ee=ee>>8,v[p+6]=ee,ee=ee>>8,v[p+5]=ee,ee=ee>>8,v[p+4]=ee;let J=Number(f>>BigInt(32)&BigInt(4294967295));return v[p+3]=J,J=J>>8,v[p+2]=J,J=J>>8,v[p+1]=J,J=J>>8,v[p]=J,p+8}a.prototype.writeBigUInt64LE=ye(function(f,p=0){return Oe(this,f,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ye(function(f,p=0){return R(this,f,p,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,p,F,D){if(f=+f,p=p>>>0,!D){const Te=Math.pow(2,8*F-1);he(this,f,p,F,Te-1,-Te)}let ee=0,J=1,_e=0;for(this[p]=f&255;++ee<F&&(J*=256);)f<0&&_e===0&&this[p+ee-1]!==0&&(_e=1),this[p+ee]=(f/J>>0)-_e&255;return p+F},a.prototype.writeIntBE=function(f,p,F,D){if(f=+f,p=p>>>0,!D){const Te=Math.pow(2,8*F-1);he(this,f,p,F,Te-1,-Te)}let ee=F-1,J=1,_e=0;for(this[p+ee]=f&255;--ee>=0&&(J*=256);)f<0&&_e===0&&this[p+ee+1]!==0&&(_e=1),this[p+ee]=(f/J>>0)-_e&255;return p+F},a.prototype.writeInt8=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,1,127,-128),f<0&&(f=255+f+1),this[p]=f&255,p+1},a.prototype.writeInt16LE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,2,32767,-32768),this[p]=f&255,this[p+1]=f>>>8,p+2},a.prototype.writeInt16BE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,2,32767,-32768),this[p]=f>>>8,this[p+1]=f&255,p+2},a.prototype.writeInt32LE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,4,2147483647,-2147483648),this[p]=f&255,this[p+1]=f>>>8,this[p+2]=f>>>16,this[p+3]=f>>>24,p+4},a.prototype.writeInt32BE=function(f,p,F){return f=+f,p=p>>>0,F||he(this,f,p,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[p]=f>>>24,this[p+1]=f>>>16,this[p+2]=f>>>8,this[p+3]=f&255,p+4},a.prototype.writeBigInt64LE=ye(function(f,p=0){return Oe(this,f,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ye(function(f,p=0){return R(this,f,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ne(v,f,p,F,D,ee){if(p+F>v.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function ke(v,f,p,F,D){return f=+f,p=p>>>0,D||Ne(v,f,p,4),r.write(v,f,p,F,23,4),p+4}a.prototype.writeFloatLE=function(f,p,F){return ke(this,f,p,!0,F)},a.prototype.writeFloatBE=function(f,p,F){return ke(this,f,p,!1,F)};function de(v,f,p,F,D){return f=+f,p=p>>>0,D||Ne(v,f,p,8),r.write(v,f,p,F,52,8),p+8}a.prototype.writeDoubleLE=function(f,p,F){return de(this,f,p,!0,F)},a.prototype.writeDoubleBE=function(f,p,F){return de(this,f,p,!1,F)},a.prototype.copy=function(f,p,F,D){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(F||(F=0),!D&&D!==0&&(D=this.length),p>=f.length&&(p=f.length),p||(p=0),D>0&&D<F&&(D=F),D===F||f.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),f.length-p<D-F&&(D=f.length-p+F);const ee=D-F;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,F,D):Uint8Array.prototype.set.call(f,this.subarray(F,D),p),ee},a.prototype.fill=function(f,p,F,D){if(typeof f=="string"){if(typeof p=="string"?(D=p,p=0,F=this.length):typeof F=="string"&&(D=F,F=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!a.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(f.length===1){const J=f.charCodeAt(0);(D==="utf8"&&J<128||D==="latin1")&&(f=J)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(p<0||this.length<p||this.length<F)throw new RangeError("Out of range index");if(F<=p)return this;p=p>>>0,F=F===void 0?this.length:F>>>0,f||(f=0);let ee;if(typeof f=="number")for(ee=p;ee<F;++ee)this[ee]=f;else{const J=a.isBuffer(f)?f:a.from(f,D),_e=J.length;if(_e===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(ee=0;ee<F-p;++ee)this[ee+p]=J[ee%_e]}return this};const re={};function ce(v,f,p){re[v]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(v,f){return`The "${v}" argument must be of type number. Received type ${typeof f}`},TypeError),ce("ERR_OUT_OF_RANGE",function(v,f,p){let F=`The value of "${v}" is out of range.`,D=p;return Number.isInteger(p)&&Math.abs(p)>2**32?D=T(String(p)):typeof p=="bigint"&&(D=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(D=T(D)),D+="n"),F+=` It must be ${f}. Received ${D}`,F},RangeError);function T(v){let f="",p=v.length;const F=v[0]==="-"?1:0;for(;p>=F+4;p-=3)f=`_${v.slice(p-3,p)}${f}`;return`${v.slice(0,p)}${f}`}function B(v,f,p){K(f,"offset"),(v[f]===void 0||v[f+p]===void 0)&&q(f,v.length-(p+1))}function C(v,f,p,F,D,ee){if(v>p||v<f){const J=typeof f=="bigint"?"n":"";let _e;throw ee>3?f===0||f===BigInt(0)?_e=`>= 0${J} and < 2${J} ** ${(ee+1)*8}${J}`:_e=`>= -(2${J} ** ${(ee+1)*8-1}${J}) and < 2 ** ${(ee+1)*8-1}${J}`:_e=`>= ${f}${J} and <= ${p}${J}`,new re.ERR_OUT_OF_RANGE("value",_e,v)}B(F,D,ee)}function K(v,f){if(typeof v!="number")throw new re.ERR_INVALID_ARG_TYPE(f,"number",v)}function q(v,f,p){throw Math.floor(v)!==v?(K(v,p),new re.ERR_OUT_OF_RANGE(p||"offset","an integer",v)):f<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${f}`,v)}const Y=/[^+/0-9A-Za-z-_]/g;function y(v){if(v=v.split("=")[0],v=v.trim().replace(Y,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function c(v,f){f=f||1/0;let p;const F=v.length;let D=null;const ee=[];for(let J=0;J<F;++J){if(p=v.charCodeAt(J),p>55295&&p<57344){if(!D){if(p>56319){(f-=3)>-1&&ee.push(239,191,189);continue}else if(J+1===F){(f-=3)>-1&&ee.push(239,191,189);continue}D=p;continue}if(p<56320){(f-=3)>-1&&ee.push(239,191,189),D=p;continue}p=(D-55296<<10|p-56320)+65536}else D&&(f-=3)>-1&&ee.push(239,191,189);if(D=null,p<128){if((f-=1)<0)break;ee.push(p)}else if(p<2048){if((f-=2)<0)break;ee.push(p>>6|192,p&63|128)}else if(p<65536){if((f-=3)<0)break;ee.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((f-=4)<0)break;ee.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return ee}function u(v){const f=[];for(let p=0;p<v.length;++p)f.push(v.charCodeAt(p)&255);return f}function _(v,f){let p,F,D;const ee=[];for(let J=0;J<v.length&&!((f-=2)<0);++J)p=v.charCodeAt(J),F=p>>8,D=p%256,ee.push(D),ee.push(F);return ee}function A(v){return t.toByteArray(y(v))}function M(v,f,p,F){let D;for(D=0;D<F&&!(D+p>=f.length||D>=v.length);++D)f[D+p]=v[D];return D}function X(v,f){return v instanceof f||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===f.name}function ue(v){return v!==v}const me=function(){const v="0123456789abcdef",f=new Array(256);for(let p=0;p<16;++p){const F=p*16;for(let D=0;D<16;++D)f[F+D]=v[p]+v[D]}return f}();function ye(v){return typeof BigInt>"u"?Se:v}function Se(){throw new Error("BigInt not supported")}})(jg);var bf;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(bf||(bf={}));const $2="modulepreload",z2=function(e){return"/"+e},mh={},V2=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=z2(s),s in mh)return;mh[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let g=i.length-1;g>=0;g--){const w=i[g];if(w.href===s&&(!o||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":$2,o||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),o)return new Promise((g,w)=>{d.addEventListener("load",g),d.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},jl="abcdefghijklmnopqrstuvwxyz234567",_s=Object.create(null);for(let e=0;e<jl.length;e++)_s[jl[e]]=e;_s[0]=_s.o;_s[1]=_s.i;function H2(e){let t=0,r=0,n="";function i(s){return t<0?r|=s>>-t:r=s<<t&248,t>3?(t-=8,1):(t<4&&(n+=jl[r>>3],t+=5),0)}for(let s=0;s<e.length;)s+=i(e[s]);return n+(t<0?jl[r>>3]:"")}function q2(e){let t=0,r=0;const n=new Uint8Array(e.length*4/3|0);let i=0;function s(o){let a=_s[o.toLowerCase()];if(a===void 0)throw new Error(`Invalid character: ${JSON.stringify(o)}`);a<<=3,r|=a>>>t,t+=5,t>=8&&(n[i++]=r,t-=8,t>0?r=a<<5-t&255:r=0)}for(const o of e)s(o);return n.slice(0,i)}const G2=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function K2(e){const t=new Uint8Array(e);let r=-1;for(let n=0;n<t.length;n++){const s=(t[n]^r)&255;r=G2[s]^r>>>8}return(r^-1)>>>0}const Ai=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vd(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function L2(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function bt(e,...t){if(!Vd(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function gh(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function W2(e,t){bt(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function jo(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function nu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kr(e,t){return e<<32-t|e>>>t}const Og=(()=>typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function")(),Y2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bs(e){if(bt(e),Og)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Y2[e[r]];return t}const Hr={_0:48,_9:57,A:65,F:70,a:97,f:102};function yh(e){if(e>=Hr._0&&e<=Hr._9)return e-Hr._0;if(e>=Hr.A&&e<=Hr.F)return e-(Hr.A-10);if(e>=Hr.a&&e<=Hr.f)return e-(Hr.a-10)}function Fg(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Og)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=yh(e.charCodeAt(s)),a=yh(e.charCodeAt(s+1));if(o===void 0||a===void 0){const l=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function ac(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Pg(e){return typeof e=="string"&&(e=ac(e)),bt(e),e}function tt(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];bt(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const s=e[n];r.set(s,i),i+=s.length}return r}class D2{}function Hd(e){const t=n=>e().update(Pg(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Cg(e=32){if(Ai&&typeof Ai.getRandomValues=="function")return Ai.getRandomValues(new Uint8Array(e));if(Ai&&typeof Ai.randomBytes=="function")return Uint8Array.from(Ai.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Z2(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,d=n?0:4;e.setUint32(t+l,o,n),e.setUint32(t+d,a,n)}function Q2(e,t,r){return e&t^~e&r}function X2(e,t,r){return e&t^e&r^t&r}class Ig extends D2{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=nu(this.buffer)}update(t){gh(this),t=Pg(t),bt(t);const{view:r,buffer:n,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=nu(t);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){gh(this),W2(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,jo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let w=o;w<i;w++)r[w]=0;Z2(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=nu(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,g=this.get();if(d>g.length)throw new Error("_sha2: outputLen bigger than state");for(let w=0;w<d;w++)a.setUint32(4*w,g[w],s)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const pn=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mn=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),Nt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ma=BigInt(2**32-1),wh=BigInt(32);function J2(e,t=!1){return t?{h:Number(e&ma),l:Number(e>>wh&ma)}:{h:Number(e>>wh&ma)|0,l:Number(e&ma)|0}}function ev(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=J2(e[s],t);[n[s],i[s]]=[o,a]}return[n,i]}const xh=(e,t,r)=>e>>>r,vh=(e,t,r)=>e<<32-r|t>>>r,Bi=(e,t,r)=>e>>>r|t<<32-r,ji=(e,t,r)=>e<<32-r|t>>>r,ga=(e,t,r)=>e<<64-r|t>>>r-32,ya=(e,t,r)=>e>>>r-32|t<<64-r;function qr(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const tv=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),rv=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,nv=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),iv=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,sv=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),ov=(e,t,r,n,i,s)=>t+r+n+i+s+(e/2**32|0)|0,av=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gn=new Uint32Array(64);class Ug extends Ig{constructor(t=32){super(64,t,8,!1),this.A=pn[0]|0,this.B=pn[1]|0,this.C=pn[2]|0,this.D=pn[3]|0,this.E=pn[4]|0,this.F=pn[5]|0,this.G=pn[6]|0,this.H=pn[7]|0}get(){const{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[t,r,n,i,s,o,a,l]}set(t,r,n,i,s,o,a,l){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(t,r){for(let w=0;w<16;w++,r+=4)gn[w]=t.getUint32(r,!1);for(let w=16;w<64;w++){const x=gn[w-15],b=gn[w-2],m=kr(x,7)^kr(x,18)^x>>>3,O=kr(b,17)^kr(b,19)^b>>>10;gn[w]=O+gn[w-7]+m+gn[w-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:d,H:g}=this;for(let w=0;w<64;w++){const x=kr(a,6)^kr(a,11)^kr(a,25),b=g+x+Q2(a,l,d)+av[w]+gn[w]|0,O=(kr(n,2)^kr(n,13)^kr(n,22))+X2(n,i,s)|0;g=d,d=l,l=a,a=o+b|0,o=s,s=i,i=n,n=b+O|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,d=d+this.G|0,g=g+this.H|0,this.set(n,i,s,o,a,l,d,g)}roundClean(){jo(gn)}destroy(){this.set(0,0,0,0,0,0,0,0),jo(this.buffer)}}class lv extends Ug{constructor(){super(28),this.A=mn[0]|0,this.B=mn[1]|0,this.C=mn[2]|0,this.D=mn[3]|0,this.E=mn[4]|0,this.F=mn[5]|0,this.G=mn[6]|0,this.H=mn[7]|0}}const Mg=(()=>ev(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),cv=(()=>Mg[0])(),uv=(()=>Mg[1])(),yn=new Uint32Array(80),wn=new Uint32Array(80);class fv extends Ig{constructor(t=64){super(128,t,16,!1),this.Ah=Nt[0]|0,this.Al=Nt[1]|0,this.Bh=Nt[2]|0,this.Bl=Nt[3]|0,this.Ch=Nt[4]|0,this.Cl=Nt[5]|0,this.Dh=Nt[6]|0,this.Dl=Nt[7]|0,this.Eh=Nt[8]|0,this.El=Nt[9]|0,this.Fh=Nt[10]|0,this.Fl=Nt[11]|0,this.Gh=Nt[12]|0,this.Gl=Nt[13]|0,this.Hh=Nt[14]|0,this.Hl=Nt[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:d,El:g,Fh:w,Fl:x,Gh:b,Gl:m,Hh:O,Hl:P}=this;return[t,r,n,i,s,o,a,l,d,g,w,x,b,m,O,P]}set(t,r,n,i,s,o,a,l,d,g,w,x,b,m,O,P){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=d|0,this.El=g|0,this.Fh=w|0,this.Fl=x|0,this.Gh=b|0,this.Gl=m|0,this.Hh=O|0,this.Hl=P|0}process(t,r){for(let N=0;N<16;N++,r+=4)yn[N]=t.getUint32(r),wn[N]=t.getUint32(r+=4);for(let N=16;N<80;N++){const V=yn[N-15]|0,k=wn[N-15]|0,I=Bi(V,k,1)^Bi(V,k,8)^xh(V,k,7),U=ji(V,k,1)^ji(V,k,8)^vh(V,k,7),L=yn[N-2]|0,G=wn[N-2]|0,z=Bi(L,G,19)^ga(L,G,61)^xh(L,G,6),ie=ji(L,G,19)^ya(L,G,61)^vh(L,G,6),se=nv(U,ie,wn[N-7],wn[N-16]),j=iv(se,I,z,yn[N-7],yn[N-16]);yn[N]=j|0,wn[N]=se|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:d,Dl:g,Eh:w,El:x,Fh:b,Fl:m,Gh:O,Gl:P,Hh:S,Hl:E}=this;for(let N=0;N<80;N++){const V=Bi(w,x,14)^Bi(w,x,18)^ga(w,x,41),k=ji(w,x,14)^ji(w,x,18)^ya(w,x,41),I=w&b^~w&O,U=x&m^~x&P,L=sv(E,k,U,uv[N],wn[N]),G=ov(L,S,V,I,cv[N],yn[N]),z=L|0,ie=Bi(n,i,28)^ga(n,i,34)^ga(n,i,39),se=ji(n,i,28)^ya(n,i,34)^ya(n,i,39),j=n&s^n&a^s&a,$=i&o^i&l^o&l;S=O|0,E=P|0,O=b|0,P=m|0,b=w|0,m=x|0,{h:w,l:x}=qr(d|0,g|0,G|0,z|0),d=a|0,g=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const H=tv(z,se,$);n=rv(H,G,ie,j),i=H|0}({h:n,l:i}=qr(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=qr(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=qr(this.Ch|0,this.Cl|0,a|0,l|0),{h:d,l:g}=qr(this.Dh|0,this.Dl|0,d|0,g|0),{h:w,l:x}=qr(this.Eh|0,this.El|0,w|0,x|0),{h:b,l:m}=qr(this.Fh|0,this.Fl|0,b|0,m|0),{h:O,l:P}=qr(this.Gh|0,this.Gl|0,O|0,P|0),{h:S,l:E}=qr(this.Hh|0,this.Hl|0,S|0,E|0),this.set(n,i,s,o,a,l,d,g,w,x,b,m,O,P,S,E)}roundClean(){jo(yn,wn)}destroy(){jo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qd=Hd(()=>new Ug),dv=Hd(()=>new lv),hv=Hd(()=>new fv),pv=qd,mv=dv;function gv(e){return mv.create().update(new Uint8Array(e)).digest()}const wa="__principal__",yv=2,_h=4,wv="aaaaa-aa",xv=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},vv=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let be=class Ma{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([_h]))}static managementCanister(){return this.fromText(wv)}static selfAuthenticating(t){const r=gv(t);return new this(new Uint8Array([...r,yv]))}static from(t){if(typeof t=="string")return Ma.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new Ma(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new Ma(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(xv(t))}static fromText(t){let r=t;if(t.includes(wa)){const o=JSON.parse(t);wa in o&&(r=o[wa])}const n=r.toLowerCase().replace(/-/g,"");let i=q2(n);i=i.slice(4,i.length);const s=new this(i);if(s.toText()!==r)throw new Error(`Principal "${s.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return s}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===_h}toUint8Array(){return this._arr}toHex(){return vv(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,K2(this._arr));const n=new Uint8Array(t),i=Uint8Array.from(this._arr),s=new Uint8Array([...n,...i]),a=H2(s).match(/.{1,5}/g);if(!a)throw new Error;return a.join("-")}toString(){return this.toText()}toJSON(){return{[wa]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function Er(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function Le(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const _v=new RegExp(/^[0-9a-fA-F]+$/);function nn(e){if(!_v.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,n,i)=>(r[i/2|0]=(r[i/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function $g(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function Ko(e,t){return $g(e,t)===0}function lo(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Jr(e){return e instanceof Uint8Array?lo(e):e instanceof ArrayBuffer?e:Array.isArray(e)?lo(new Uint8Array(e)):"buffer"in e?Jr(e.buffer):lo(new Uint8Array(e))}class Xe extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=Xe.prototype,Object.setPrototypeOf(this,Xe.prototype)}}function Ue(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class js{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=yi(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return yi(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,n)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),n=new Uint8Array(r,0,this._view.byteLength+t);n.set(this._view),this._buffer=r,this._view=n}}function iu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function yi(e){return e instanceof Uint8Array?iu(e):e instanceof ArrayBuffer?e:Array.isArray(e)?iu(new Uint8Array(e)):"buffer"in e?yi(e.buffer):iu(new Uint8Array(e))}function bv(e){const r=new TextEncoder().encode(e);let n=0;for(const i of r)n=(n*223+i)%2**32;return n}function Mr(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return bv(e)}function zg(){throw new Error("unexpected end of buffer")}function wi(e,t){return e.byteLength<t&&zg(),e.read(t)}function xi(e){const t=e.readUint8();return t===void 0&&zg(),t}function Je(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new js(new ArrayBuffer(t),0);for(;;){const n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function dt(e){let t=BigInt(1),r=BigInt(0),n;do n=xi(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function ct(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new js(new ArrayBuffer(r),0);for(;;){const s=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&s&64||!t&&e===BigInt(0)&&!(s&64)){n.write(new Uint8Array([s]));break}else n.write(new Uint8Array([s|128]))}function i(s){const o=s%BigInt(128);return Number(t?BigInt(128)-o-BigInt(1):o)}return n.buffer}function vn(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return dt(e);break}const n=new Uint8Array(wi(e,r+1));let i=BigInt(0);for(let s=n.byteLength-1;s>=0;s--)i=i*BigInt(128)+BigInt(128-(n[s]&127)-1);return-i-BigInt(1)}function Ev(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return Vg(e,t)}function Vg(e,t){e=BigInt(e);const r=new js(new ArrayBuffer(Math.min(1,t)),0);let n=0,i=BigInt(256),s=BigInt(0),o=Number(e%i);for(r.write(new Uint8Array([o]));++n<t;)e<0&&s===BigInt(0)&&o!==0&&(s=BigInt(1)),o=Number((e/i-s)%BigInt(256)),r.write(new Uint8Array([o])),i*=BigInt(256);return r.buffer}function Hg(e,t){let r=BigInt(xi(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);const s=BigInt(xi(e));r=r+n*s}return r}function Sv(e,t){let r=Hg(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function Ef(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const $a="DIDL",bh=400;function Ro(e,t,r){return e.map((n,i)=>r(n,t[i]))}class Nv{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){const n=this._idx.get(t.name),i=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[i],this._typs.splice(i,1),this._idx.delete(r)}encode(){const t=Je(this._typs.length),r=Ue(...this._typs);return Ue(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return ct(this._idx.get(t)||0)}}class Tv{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,n){return this.visitConstruct(t,n)}visitOpt(t,r,n){return this.visitConstruct(t,n)}visitRecord(t,r,n){return this.visitConstruct(t,n)}visitTuple(t,r,n){const i=r.map((s,o)=>[`_${o}_`,s]);return this.visitRecord(t,i,n)}visitVariant(t,r,n){return this.visitConstruct(t,n)}visitRec(t,r,n){return this.visitConstruct(r,n)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}let lc=class{display(){return this.name}valueToString(t){return rt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}};class fr extends lc{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class Yn extends lc{checkType(t){if(t instanceof fn){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class qg extends fr{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return ct(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class Gg extends lc{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let n=r.decodeValue(t,r);Object(n)!==n&&(n=Object(n));let i;return r instanceof fn?i=()=>r.getType():i=()=>r,Object.defineProperty(n,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class Kg extends fr{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return ct(-2)}decodeValue(t,r){switch(this.checkType(r),xi(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class Rl extends fr{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return ct(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class Es extends fr{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return ct(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class Lg extends fr{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),n=Je(r.byteLength);return Ue(n,r)}encodeType(){return ct(-15)}decodeValue(t,r){this.checkType(r);const n=dt(t),i=wi(t,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class Wg extends fr{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return ct(t)}encodeType(){return ct(-4)}decodeValue(t,r){return this.checkType(r),vn(t)}get name(){return"int"}valueToString(t){return t.toString()}}class Yg extends fr{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return Je(t)}encodeType(){return ct(-3)}decodeValue(t,r){return this.checkType(r),dt(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class Gd extends fr{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return ct(t)}decodeValue(t,r){this.checkType(r);const n=wi(t,this._bits/8),i=new DataView(n);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class vi extends fr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=Ef(this._bits-1)*BigInt(-1),n=Ef(this._bits-1)-BigInt(1);let i=!1;if(typeof t=="bigint")i=t>=r&&t<=n;else if(Number.isInteger(t)){const s=BigInt(t);i=s>=r&&s<=n}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return Vg(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return ct(-9-t)}decodeValue(t,r){this.checkType(r);const n=Sv(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class Vn extends fr{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=Ef(this._bits);let n=!1;if(typeof t=="bigint"&&t>=BigInt(0)?n=t<r:Number.isInteger(t)&&t>=0?n=BigInt(t)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return Ev(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return ct(-5-t)}decodeValue(t,r){this.checkType(r);const n=Hg(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class cc extends Yn{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof Vn&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof Vn?this._type._bits:this._type instanceof vi?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,i)=>{try{return this._type.covariant(n)}catch(s){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${s.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=Je(t.length);if(this._blobOptimization)return Ue(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return Ue(r,new Uint8Array(t.buffer));const n=new js(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(const i of t){const s=this._type.encodeValue(i);n.write(new Uint8Array(s))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=ct(-19),n=this._type.encodeType(t);t.add(this,Ue(r,n))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof cc))throw new Error("Not a vector type");const i=Number(dt(t));if(this._type instanceof Vn){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof vi){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}const s=[];for(let o=0;o<i;o++)s.push(this._type.decodeValue(t,n._type));return s}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(n=>this._type.valueToString(n)).join("; ")+"}"}}class _i extends Yn{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${rt(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):Ue(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=ct(-18),n=this._type.encodeType(t);t.add(this,Ue(r,n))}decodeValue(t,r){if(r instanceof Rl)return[];if(r instanceof Es)return[];let n=r;if(r instanceof fn){const i=r.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");n=i}if(n instanceof _i)switch(xi(t)){case 0:return[];case 1:{const i=t.save();try{return[this._type.decodeValue(t,n._type)]}catch{return t.restore(i),n._type.decodeValue(t,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof Rl||this._type instanceof _i||this._type instanceof Es)return n.decodeValue(t,n),[];{const i=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(i),n.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class Lo extends Yn{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Mr(r[0])-Mr(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(n!==`_${r}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=this._fields.map(([i])=>t[i]),n=Ro(this._fields,r,([,i],s)=>i.encodeValue(s));return Ue(...n)}_buildTypeTableImpl(t){this._fields.forEach(([s,o])=>o.buildTypeTable(t));const r=ct(-20),n=Je(this._fields.length),i=this._fields.map(([s,o])=>Ue(Je(Mr(s)),o.encodeType(t)));t.add(this,Ue(r,n,Ue(...i)))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Lo))throw new Error("Not a record type");const i={};let s=0,o=0;for(;o<n._fields.length;){const[a,l]=n._fields[o];if(s>=this._fields.length){l.decodeValue(t,l),o++;continue}const[d,g]=this._fields[s],w=Mr(this._fields[s][0]),x=Mr(a);if(w===x)i[d]=g.decodeValue(t,l),s++,o++;else if(x>w)if(g instanceof _i||g instanceof Es)i[d]=[],s++;else throw new Error("Cannot find required field "+d);else l.decodeValue(t,l),o++}for(const[a,l]of this._fields.slice(s))if(l instanceof _i||l instanceof Es)i[a]=[];else throw new Error("Cannot find required field "+a);return i}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([i])=>t[i]);return`record {${Ro(this._fields,r,([i,s],o)=>i+"="+s.valueToString(o)).join("; ")}}`}}class uc extends Lo{constructor(t){const r={};t.forEach((n,i)=>r["_"+i+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=Ro(this._components,t,(n,i)=>n.encodeValue(i));return Ue(...r)}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof uc))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[s,o]of n._components.entries())s>=this._components.length?o.decodeValue(t,o):i.push(this._components[s].decodeValue(t,o));return i}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${Ro(this._components,t,(n,i)=>n.valueToString(i)).join("; ")}}`}}class fc extends Yn{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>Mr(r[0])-Mr(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(t.hasOwnProperty(n)){const s=Je(r),o=i.encodeValue(t[n]);return Ue(s,o)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,s])=>{s.buildTypeTable(t)});const r=ct(-21),n=Je(this._fields.length),i=this._fields.map(([s,o])=>Ue(Je(Mr(s)),o.encodeType(t)));t.add(this,Ue(r,n,...i))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof fc))throw new Error("Not a variant type");const i=Number(dt(t));if(i>=n._fields.length)throw Error("Invalid variant index: "+i);const[s,o]=n._fields[i];for(const[a,l]of this._fields)if(Mr(s)===Mr(a)){const d=l.decodeValue(t,o);return{[a]:d}}throw new Error("Cannot find field hash "+s)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(t){for(const[r,n]of this._fields)if(t.hasOwnProperty(r)){const i=n.valueToString(t[r]);return i==="null"?`variant {${r}}`:`variant {${r}=${i}}`}throw new Error("Variant has no data: "+t)}}class fn extends Yn{constructor(){super(...arguments),this._id=fn._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}fn._counter=0;function Kd(e){if(xi(e)!==1)throw new Error("Cannot decode principal");const r=Number(dt(e));return be.fromUint8Array(new Uint8Array(wi(e,r)))}class Dg extends fr{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=Je(r.byteLength);return Ue(new Uint8Array([1]),n,r)}encodeType(){return ct(-24)}decodeValue(t,r){return this.checkType(r),Kd(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class Ld extends Yn{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,i)=>n.valueToString(r[i])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue([t,r]){const n=t.toUint8Array(),i=Je(n.byteLength),s=Ue(new Uint8Array([1]),i,n),o=new TextEncoder().encode(r),a=Je(o.byteLength);return Ue(new Uint8Array([1]),s,a,o)}_buildTypeTableImpl(t){this.argTypes.forEach(d=>d.buildTypeTable(t)),this.retTypes.forEach(d=>d.buildTypeTable(t));const r=ct(-22),n=Je(this.argTypes.length),i=Ue(...this.argTypes.map(d=>d.encodeType(t))),s=Je(this.retTypes.length),o=Ue(...this.retTypes.map(d=>d.encodeType(t))),a=Je(this.annotations.length),l=Ue(...this.annotations.map(d=>this.encodeAnnotation(d)));t.add(this,Ue(r,n,i,s,o,a,l))}decodeValue(t){if(xi(t)!==1)throw new Error("Cannot decode function reference");const n=Kd(t),i=Number(dt(t)),s=wi(t,i),a=new TextDecoder("utf8",{fatal:!0}).decode(s);return[n,a]}get name(){const t=this.argTypes.map(i=>i.name).join(", "),r=this.retTypes.map(i=>i.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(i=>i.display()).join(", "),r=this.retTypes.map(i=>i.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t})  (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class Zg extends Yn{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${rt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=Je(r.length);return Ue(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([s,o])=>o.buildTypeTable(t));const r=ct(-23),n=Je(this._fields.length),i=this._fields.map(([s,o])=>{const a=new TextEncoder().encode(s),l=Je(a.length);return Ue(l,a,o.encodeType(t))});t.add(this,Ue(r,n,...i))}decodeValue(t){return Kd(t)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function rt(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>bh?t.substring(0,bh-3)+"...":t}function Sf(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new Nv;e.forEach(l=>l.buildTypeTable(r));const n=new TextEncoder().encode($a),i=r.encode(),s=Je(t.length),o=Ue(...e.map(l=>l.encodeType(r))),a=Ue(...Ro(e,t,(l,d)=>{try{l.covariant(d)}catch(g){throw new Error(g.message+`

`)}return l.encodeValue(d)}));return Ue(n,i,s,o,a)}function Qg(e,t){const r=new js(t);if(t.byteLength<$a.length)throw new Error("Message length smaller than magic number");const n=wi(r,$a.length),i=new TextDecoder().decode(n);if(i!==$a)throw new Error("Wrong magic number: "+JSON.stringify(i));function s(b){const m=[],O=Number(dt(b));for(let E=0;E<O;E++){const N=Number(vn(b));switch(N){case-18:case-19:{const V=Number(vn(b));m.push([N,V]);break}case-20:case-21:{const V=[];let k=Number(dt(b)),I;for(;k--;){const U=Number(dt(b));if(U>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof I=="number"&&I>=U)throw new Error("field id collision or not sorted");I=U;const L=Number(vn(b));V.push([U,L])}m.push([N,V]);break}case-22:{const V=[];let k=Number(dt(b));for(;k--;)V.push(Number(vn(b)));const I=[];let U=Number(dt(b));for(;U--;)I.push(Number(vn(b)));const L=[];let G=Number(dt(b));for(;G--;)switch(Number(dt(b))){case 1:{L.push("query");break}case 2:{L.push("oneway");break}case 3:{L.push("composite_query");break}default:throw new Error("unknown annotation")}m.push([N,[V,I,L]]);break}case-23:{let V=Number(dt(b));const k=[];for(;V--;){const I=Number(dt(b)),U=new TextDecoder().decode(wi(b,I)),L=vn(b);k.push([U,L])}m.push([N,k]);break}default:throw new Error("Illegal op_code: "+N)}}const P=[],S=Number(dt(b));for(let E=0;E<S;E++)P.push(Number(vn(b)));return[m,P]}const[o,a]=s(r);if(a.length<e.length)throw new Error("Wrong number of return values");const l=o.map(b=>_y());function d(b){if(b<-24)throw new Error("future value not supported");if(b<0)switch(b){case-1:return ty;case-2:return ey;case-3:return iy;case-4:return ny;case-5:return fy;case-6:return dy;case-7:return hy;case-8:return py;case-9:return ay;case-10:return ly;case-11:return cy;case-12:return uy;case-13:return sy;case-14:return oy;case-15:return ry;case-16:return Jg;case-17:return Xg;case-24:return my;default:throw new Error("Illegal op_code: "+b)}if(b>=o.length)throw new Error("type index out of range");return l[b]}function g(b){switch(b[0]){case-19:{const m=d(b[1]);return yy(m)}case-18:{const m=d(b[1]);return wy(m)}case-20:{const m={};for(const[S,E]of b[1]){const N=`_${S}_`;m[N]=d(E)}const O=xy(m),P=O.tryAsTuple();return Array.isArray(P)?gy(...P):O}case-21:{const m={};for(const[O,P]of b[1]){const S=`_${O}_`;m[S]=d(P)}return vy(m)}case-22:{const[m,O,P]=b[1];return by(m.map(S=>d(S)),O.map(S=>d(S)),P)}case-23:{const m={},O=b[1];for(const[P,S]of O){let E=d(S);if(E instanceof fn&&(E=E.getType()),!(E instanceof Ld))throw new Error("Illegal service definition: services can only contain functions");m[P]=E}return Ey(m)}default:throw new Error("Illegal op_code: "+b[0])}}o.forEach((b,m)=>{if(b[0]===-22){const O=g(b);l[m].fill(O)}}),o.forEach((b,m)=>{if(b[0]!==-22){const O=g(b);l[m].fill(O)}});const w=a.map(b=>d(b)),x=e.map((b,m)=>b.decodeValue(r,w[m]));for(let b=e.length;b<w.length;b++)w[b].decodeValue(r,w[b]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return x}const Xg=new qg,Jg=new Es,kv=new Gg,ey=new Kg,ty=new Rl,ry=new Lg,ny=new Wg,iy=new Yg,sy=new Gd(32),oy=new Gd(64),ay=new vi(8),ly=new vi(16),cy=new vi(32),uy=new vi(64),fy=new Vn(8),dy=new Vn(16),hy=new Vn(32),py=new Vn(64),my=new Dg;function gy(...e){return new uc(e)}function yy(e){return new cc(e)}function wy(e){return new _i(e)}function xy(e){return new Lo(e)}function vy(e){return new fc(e)}function _y(){return new fn}function by(e,t,r=[]){return new Ld(e,t,r)}function Ey(e){return new Zg(e)}const Av=Object.freeze(Object.defineProperty({__proto__:null,Bool:ey,BoolClass:Kg,ConstructType:Yn,Empty:Xg,EmptyClass:qg,FixedIntClass:vi,FixedNatClass:Vn,Float32:sy,Float64:oy,FloatClass:Gd,Func:by,FuncClass:Ld,Int:ny,Int16:ly,Int32:cy,Int64:uy,Int8:ay,IntClass:Wg,Nat:iy,Nat16:dy,Nat32:hy,Nat64:py,Nat8:fy,NatClass:Yg,Null:ty,NullClass:Rl,Opt:wy,OptClass:_i,PrimitiveType:fr,Principal:my,PrincipalClass:Dg,Rec:_y,RecClass:fn,Record:xy,RecordClass:Lo,Reserved:Jg,ReservedClass:Es,Service:Ey,ServiceClass:Zg,Text:ry,TextClass:Lg,Tuple:gy,TupleClass:uc,Type:lc,Unknown:kv,UnknownClass:Gg,Variant:vy,VariantClass:fc,Vec:yy,VecClass:cc,Visitor:Tv,decode:Qg,encode:Sf},Symbol.toStringTag,{value:"Module"}));var Sy={},Wo={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=qo,r=Go,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var y=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(y,c),y.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(y){if(y>i)throw new RangeError('The value "'+y+'" is invalid for option "size"');var c=new Uint8Array(y);return Object.setPrototypeOf(c,a.prototype),c}function a(y,c,u){if(typeof y=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(y)}return l(y,c,u)}a.poolSize=8192;function l(y,c,u){if(typeof y=="string")return x(y,c);if(ArrayBuffer.isView(y))return m(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(K(y,ArrayBuffer)||y&&K(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(y,SharedArrayBuffer)||y&&K(y.buffer,SharedArrayBuffer)))return O(y,c,u);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _=y.valueOf&&y.valueOf();if(_!=null&&_!==y)return a.from(_,c,u);var A=P(y);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return a.from(y[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}a.from=function(y,c,u){return l(y,c,u)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function g(y,c,u){return d(y),y<=0?o(y):c!==void 0?typeof u=="string"?o(y).fill(c,u):o(y).fill(c):o(y)}a.alloc=function(y,c,u){return g(y,c,u)};function w(y){return d(y),o(y<0?0:S(y)|0)}a.allocUnsafe=function(y){return w(y)},a.allocUnsafeSlow=function(y){return w(y)};function x(y,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);var u=N(y,c)|0,_=o(u),A=_.write(y,c);return A!==u&&(_=_.slice(0,A)),_}function b(y){for(var c=y.length<0?0:S(y.length)|0,u=o(c),_=0;_<c;_+=1)u[_]=y[_]&255;return u}function m(y){if(K(y,Uint8Array)){var c=new Uint8Array(y);return O(c.buffer,c.byteOffset,c.byteLength)}return b(y)}function O(y,c,u){if(c<0||y.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');var _;return c===void 0&&u===void 0?_=new Uint8Array(y):u===void 0?_=new Uint8Array(y,c):_=new Uint8Array(y,c,u),Object.setPrototypeOf(_,a.prototype),_}function P(y){if(a.isBuffer(y)){var c=S(y.length)|0,u=o(c);return u.length===0||y.copy(u,0,0,c),u}if(y.length!==void 0)return typeof y.length!="number"||q(y.length)?o(0):b(y);if(y.type==="Buffer"&&Array.isArray(y.data))return b(y.data)}function S(y){if(y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return y|0}function E(y){return+y!=y&&(y=0),a.alloc(+y)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,u){if(K(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),K(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(c)||!a.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;for(var _=c.length,A=u.length,M=0,X=Math.min(_,A);M<X;++M)if(c[M]!==u[M]){_=c[M],A=u[M];break}return _<A?-1:A<_?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);var _;if(u===void 0)for(u=0,_=0;_<c.length;++_)u+=c[_].length;var A=a.allocUnsafe(u),M=0;for(_=0;_<c.length;++_){var X=c[_];if(K(X,Uint8Array))M+X.length>A.length?a.from(X).copy(A,M):Uint8Array.prototype.set.call(A,X,M);else if(a.isBuffer(X))X.copy(A,M);else throw new TypeError('"list" argument must be an Array of Buffers');M+=X.length}return A};function N(y,c){if(a.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||K(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);var u=y.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&u===0)return 0;for(var A=!1;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return re(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return B(y).length;default:if(A)return _?-1:re(y).length;c=(""+c).toLowerCase(),A=!0}}a.byteLength=N;function V(y,c,u){var _=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(y||(y="utf8");;)switch(y){case"hex":return ne(this,c,u);case"utf8":case"utf-8":return $(this,c,u);case"ascii":return te(this,c,u);case"latin1":case"binary":return Z(this,c,u);case"base64":return j(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,c,u);default:if(_)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),_=!0}}a.prototype._isBuffer=!0;function k(y,c,u){var _=y[c];y[c]=y[u],y[u]=_}a.prototype.swap16=function(){var c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<c;u+=2)k(this,u,u+1);return this},a.prototype.swap32=function(){var c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<c;u+=4)k(this,u,u+3),k(this,u+1,u+2);return this},a.prototype.swap64=function(){var c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<c;u+=8)k(this,u,u+7),k(this,u+1,u+6),k(this,u+2,u+5),k(this,u+3,u+4);return this},a.prototype.toString=function(){var c=this.length;return c===0?"":arguments.length===0?$(this,0,c):V.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){var c="",u=e.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(c,u,_,A,M){if(K(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),_===void 0&&(_=c?c.length:0),A===void 0&&(A=0),M===void 0&&(M=this.length),u<0||_>c.length||A<0||M>this.length)throw new RangeError("out of range index");if(A>=M&&u>=_)return 0;if(A>=M)return-1;if(u>=_)return 1;if(u>>>=0,_>>>=0,A>>>=0,M>>>=0,this===c)return 0;for(var X=M-A,ue=_-u,me=Math.min(X,ue),ye=this.slice(A,M),Se=c.slice(u,_),v=0;v<me;++v)if(ye[v]!==Se[v]){X=ye[v],ue=Se[v];break}return X<ue?-1:ue<X?1:0};function I(y,c,u,_,A){if(y.length===0)return-1;if(typeof u=="string"?(_=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,q(u)&&(u=A?0:y.length-1),u<0&&(u=y.length+u),u>=y.length){if(A)return-1;u=y.length-1}else if(u<0)if(A)u=0;else return-1;if(typeof c=="string"&&(c=a.from(c,_)),a.isBuffer(c))return c.length===0?-1:U(y,c,u,_,A);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(y,c,u):Uint8Array.prototype.lastIndexOf.call(y,c,u):U(y,[c],u,_,A);throw new TypeError("val must be string, number or Buffer")}function U(y,c,u,_,A){var M=1,X=y.length,ue=c.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(y.length<2||c.length<2)return-1;M=2,X/=2,ue/=2,u/=2}function me(p,F){return M===1?p[F]:p.readUInt16BE(F*M)}var ye;if(A){var Se=-1;for(ye=u;ye<X;ye++)if(me(y,ye)===me(c,Se===-1?0:ye-Se)){if(Se===-1&&(Se=ye),ye-Se+1===ue)return Se*M}else Se!==-1&&(ye-=ye-Se),Se=-1}else for(u+ue>X&&(u=X-ue),ye=u;ye>=0;ye--){for(var v=!0,f=0;f<ue;f++)if(me(y,ye+f)!==me(c,f)){v=!1;break}if(v)return ye}return-1}a.prototype.includes=function(c,u,_){return this.indexOf(c,u,_)!==-1},a.prototype.indexOf=function(c,u,_){return I(this,c,u,_,!0)},a.prototype.lastIndexOf=function(c,u,_){return I(this,c,u,_,!1)};function L(y,c,u,_){u=Number(u)||0;var A=y.length-u;_?(_=Number(_),_>A&&(_=A)):_=A;var M=c.length;_>M/2&&(_=M/2);for(var X=0;X<_;++X){var ue=parseInt(c.substr(X*2,2),16);if(q(ue))return X;y[u+X]=ue}return X}function G(y,c,u,_){return C(re(c,y.length-u),y,u,_)}function z(y,c,u,_){return C(ce(c),y,u,_)}function ie(y,c,u,_){return C(B(c),y,u,_)}function se(y,c,u,_){return C(T(c,y.length-u),y,u,_)}a.prototype.write=function(c,u,_,A){if(u===void 0)A="utf8",_=this.length,u=0;else if(_===void 0&&typeof u=="string")A=u,_=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(_)?(_=_>>>0,A===void 0&&(A="utf8")):(A=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var M=this.length-u;if((_===void 0||_>M)&&(_=M),c.length>0&&(_<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");for(var X=!1;;)switch(A){case"hex":return L(this,c,u,_);case"utf8":case"utf-8":return G(this,c,u,_);case"ascii":case"latin1":case"binary":return z(this,c,u,_);case"base64":return ie(this,c,u,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,c,u,_);default:if(X)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),X=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(y,c,u){return c===0&&u===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(c,u))}function $(y,c,u){u=Math.min(y.length,u);for(var _=[],A=c;A<u;){var M=y[A],X=null,ue=M>239?4:M>223?3:M>191?2:1;if(A+ue<=u){var me,ye,Se,v;switch(ue){case 1:M<128&&(X=M);break;case 2:me=y[A+1],(me&192)===128&&(v=(M&31)<<6|me&63,v>127&&(X=v));break;case 3:me=y[A+1],ye=y[A+2],(me&192)===128&&(ye&192)===128&&(v=(M&15)<<12|(me&63)<<6|ye&63,v>2047&&(v<55296||v>57343)&&(X=v));break;case 4:me=y[A+1],ye=y[A+2],Se=y[A+3],(me&192)===128&&(ye&192)===128&&(Se&192)===128&&(v=(M&15)<<18|(me&63)<<12|(ye&63)<<6|Se&63,v>65535&&v<1114112&&(X=v))}}X===null?(X=65533,ue=1):X>65535&&(X-=65536,_.push(X>>>10&1023|55296),X=56320|X&1023),_.push(X),A+=ue}return Q(_)}var H=4096;function Q(y){var c=y.length;if(c<=H)return String.fromCharCode.apply(String,y);for(var u="",_=0;_<c;)u+=String.fromCharCode.apply(String,y.slice(_,_+=H));return u}function te(y,c,u){var _="";u=Math.min(y.length,u);for(var A=c;A<u;++A)_+=String.fromCharCode(y[A]&127);return _}function Z(y,c,u){var _="";u=Math.min(y.length,u);for(var A=c;A<u;++A)_+=String.fromCharCode(y[A]);return _}function ne(y,c,u){var _=y.length;(!c||c<0)&&(c=0),(!u||u<0||u>_)&&(u=_);for(var A="",M=c;M<u;++M)A+=Y[y[M]];return A}function le(y,c,u){for(var _=y.slice(c,u),A="",M=0;M<_.length-1;M+=2)A+=String.fromCharCode(_[M]+_[M+1]*256);return A}a.prototype.slice=function(c,u){var _=this.length;c=~~c,u=u===void 0?_:~~u,c<0?(c+=_,c<0&&(c=0)):c>_&&(c=_),u<0?(u+=_,u<0&&(u=0)):u>_&&(u=_),u<c&&(u=c);var A=this.subarray(c,u);return Object.setPrototypeOf(A,a.prototype),A};function oe(y,c,u){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+c>u)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,u,_){c=c>>>0,u=u>>>0,_||oe(c,u,this.length);for(var A=this[c],M=1,X=0;++X<u&&(M*=256);)A+=this[c+X]*M;return A},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,u,_){c=c>>>0,u=u>>>0,_||oe(c,u,this.length);for(var A=this[c+--u],M=1;u>0&&(M*=256);)A+=this[c+--u]*M;return A},a.prototype.readUint8=a.prototype.readUInt8=function(c,u){return c=c>>>0,u||oe(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||oe(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||oe(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||oe(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||oe(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readIntLE=function(c,u,_){c=c>>>0,u=u>>>0,_||oe(c,u,this.length);for(var A=this[c],M=1,X=0;++X<u&&(M*=256);)A+=this[c+X]*M;return M*=128,A>=M&&(A-=Math.pow(2,8*u)),A},a.prototype.readIntBE=function(c,u,_){c=c>>>0,u=u>>>0,_||oe(c,u,this.length);for(var A=u,M=1,X=this[c+--A];A>0&&(M*=256);)X+=this[c+--A]*M;return M*=128,X>=M&&(X-=Math.pow(2,8*u)),X},a.prototype.readInt8=function(c,u){return c=c>>>0,u||oe(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,u){c=c>>>0,u||oe(c,2,this.length);var _=this[c]|this[c+1]<<8;return _&32768?_|4294901760:_},a.prototype.readInt16BE=function(c,u){c=c>>>0,u||oe(c,2,this.length);var _=this[c+1]|this[c]<<8;return _&32768?_|4294901760:_},a.prototype.readInt32LE=function(c,u){return c=c>>>0,u||oe(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,u){return c=c>>>0,u||oe(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readFloatLE=function(c,u){return c=c>>>0,u||oe(c,4,this.length),r.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,u){return c=c>>>0,u||oe(c,4,this.length),r.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||oe(c,8,this.length),r.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||oe(c,8,this.length),r.read(this,c,!1,52,8)};function he(y,c,u,_,A,M){if(!a.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>A||c<M)throw new RangeError('"value" argument is out of bounds');if(u+_>y.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,u,_,A){if(c=+c,u=u>>>0,_=_>>>0,!A){var M=Math.pow(2,8*_)-1;he(this,c,u,_,M,0)}var X=1,ue=0;for(this[u]=c&255;++ue<_&&(X*=256);)this[u+ue]=c/X&255;return u+_},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,u,_,A){if(c=+c,u=u>>>0,_=_>>>0,!A){var M=Math.pow(2,8*_)-1;he(this,c,u,_,M,0)}var X=_-1,ue=1;for(this[u+X]=c&255;--X>=0&&(ue*=256);)this[u+X]=c/ue&255;return u+_},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,1,255,0),this[u]=c&255,u+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},a.prototype.writeIntLE=function(c,u,_,A){if(c=+c,u=u>>>0,!A){var M=Math.pow(2,8*_-1);he(this,c,u,_,M-1,-M)}var X=0,ue=1,me=0;for(this[u]=c&255;++X<_&&(ue*=256);)c<0&&me===0&&this[u+X-1]!==0&&(me=1),this[u+X]=(c/ue>>0)-me&255;return u+_},a.prototype.writeIntBE=function(c,u,_,A){if(c=+c,u=u>>>0,!A){var M=Math.pow(2,8*_-1);he(this,c,u,_,M-1,-M)}var X=_-1,ue=1,me=0;for(this[u+X]=c&255;--X>=0&&(ue*=256);)c<0&&me===0&&this[u+X+1]!==0&&(me=1),this[u+X]=(c/ue>>0)-me&255;return u+_},a.prototype.writeInt8=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},a.prototype.writeInt16LE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},a.prototype.writeInt16BE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},a.prototype.writeInt32LE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},a.prototype.writeInt32BE=function(c,u,_){return c=+c,u=u>>>0,_||he(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function Oe(y,c,u,_,A,M){if(u+_>y.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function R(y,c,u,_,A){return c=+c,u=u>>>0,A||Oe(y,c,u,4),r.write(y,c,u,_,23,4),u+4}a.prototype.writeFloatLE=function(c,u,_){return R(this,c,u,!0,_)},a.prototype.writeFloatBE=function(c,u,_){return R(this,c,u,!1,_)};function Ne(y,c,u,_,A){return c=+c,u=u>>>0,A||Oe(y,c,u,8),r.write(y,c,u,_,52,8),u+8}a.prototype.writeDoubleLE=function(c,u,_){return Ne(this,c,u,!0,_)},a.prototype.writeDoubleBE=function(c,u,_){return Ne(this,c,u,!1,_)},a.prototype.copy=function(c,u,_,A){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(_||(_=0),!A&&A!==0&&(A=this.length),u>=c.length&&(u=c.length),u||(u=0),A>0&&A<_&&(A=_),A===_||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),c.length-u<A-_&&(A=c.length-u+_);var M=A-_;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,_,A):Uint8Array.prototype.set.call(c,this.subarray(_,A),u),M},a.prototype.fill=function(c,u,_,A){if(typeof c=="string"){if(typeof u=="string"?(A=u,u=0,_=this.length):typeof _=="string"&&(A=_,_=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(c.length===1){var M=c.charCodeAt(0);(A==="utf8"&&M<128||A==="latin1")&&(c=M)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<_)throw new RangeError("Out of range index");if(_<=u)return this;u=u>>>0,_=_===void 0?this.length:_>>>0,c||(c=0);var X;if(typeof c=="number")for(X=u;X<_;++X)this[X]=c;else{var ue=a.isBuffer(c)?c:a.from(c,A),me=ue.length;if(me===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(X=0;X<_-u;++X)this[X+u]=ue[X%me]}return this};var ke=/[^+/0-9A-Za-z-_]/g;function de(y){if(y=y.split("=")[0],y=y.trim().replace(ke,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function re(y,c){c=c||1/0;for(var u,_=y.length,A=null,M=[],X=0;X<_;++X){if(u=y.charCodeAt(X),u>55295&&u<57344){if(!A){if(u>56319){(c-=3)>-1&&M.push(239,191,189);continue}else if(X+1===_){(c-=3)>-1&&M.push(239,191,189);continue}A=u;continue}if(u<56320){(c-=3)>-1&&M.push(239,191,189),A=u;continue}u=(A-55296<<10|u-56320)+65536}else A&&(c-=3)>-1&&M.push(239,191,189);if(A=null,u<128){if((c-=1)<0)break;M.push(u)}else if(u<2048){if((c-=2)<0)break;M.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;M.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;M.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return M}function ce(y){for(var c=[],u=0;u<y.length;++u)c.push(y.charCodeAt(u)&255);return c}function T(y,c){for(var u,_,A,M=[],X=0;X<y.length&&!((c-=2)<0);++X)u=y.charCodeAt(X),_=u>>8,A=u%256,M.push(A),M.push(_);return M}function B(y){return t.toByteArray(de(y))}function C(y,c,u,_){for(var A=0;A<_&&!(A+u>=c.length||A>=y.length);++A)c[A+u]=y[A];return A}function K(y,c){return y instanceof c||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===c.name}function q(y){return y!==y}var Y=function(){for(var y="0123456789abcdef",c=new Array(256),u=0;u<16;++u)for(var _=u*16,A=0;A<16;++A)c[_+A]=y[u]+y[A];return c}()})(Wo);var Ny={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,s=Math.floor,o="[BigNumber Error] ",a=o+"Number primitive has more than 15 significant digits: ",l=1e14,d=14,g=9007199254740991,w=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],x=1e7,b=1e9;function m(I){var U,L,G,z=R.prototype={constructor:R,toString:null,valueOf:null},ie=new R(1),se=20,j=4,$=-7,H=21,Q=-1e7,te=1e7,Z=!1,ne=1,le=0,oe={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},he="0123456789abcdefghijklmnopqrstuvwxyz",Oe=!0;function R(T,B){var C,K,q,Y,y,c,u,_,A=this;if(!(A instanceof R))return new R(T,B);if(B==null){if(T&&T._isBigNumber===!0){A.s=T.s,!T.c||T.e>te?A.c=A.e=null:T.e<Q?A.c=[A.e=0]:(A.e=T.e,A.c=T.c.slice());return}if((c=typeof T=="number")&&T*0==0){if(A.s=1/T<0?(T=-T,-1):1,T===~~T){for(Y=0,y=T;y>=10;y/=10,Y++);Y>te?A.c=A.e=null:(A.e=Y,A.c=[T]);return}_=String(T)}else{if(!n.test(_=String(T)))return G(A,_,c);A.s=_.charCodeAt(0)==45?(_=_.slice(1),-1):1}(Y=_.indexOf("."))>-1&&(_=_.replace(".","")),(y=_.search(/e/i))>0?(Y<0&&(Y=y),Y+=+_.slice(y+1),_=_.substring(0,y)):Y<0&&(Y=_.length)}else{if(E(B,2,he.length,"Base"),B==10&&Oe)return A=new R(T),re(A,se+A.e+1,j);if(_=String(T),c=typeof T=="number"){if(T*0!=0)return G(A,_,c,B);if(A.s=1/T<0?(_=_.slice(1),-1):1,R.DEBUG&&_.replace(/^0\.0*|\./,"").length>15)throw Error(a+T)}else A.s=_.charCodeAt(0)===45?(_=_.slice(1),-1):1;for(C=he.slice(0,B),Y=y=0,u=_.length;y<u;y++)if(C.indexOf(K=_.charAt(y))<0){if(K=="."){if(y>Y){Y=u;continue}}else if(!q&&(_==_.toUpperCase()&&(_=_.toLowerCase())||_==_.toLowerCase()&&(_=_.toUpperCase()))){q=!0,y=-1,Y=0;continue}return G(A,String(T),c,B)}c=!1,_=L(_,B,10,A.s),(Y=_.indexOf("."))>-1?_=_.replace(".",""):Y=_.length}for(y=0;_.charCodeAt(y)===48;y++);for(u=_.length;_.charCodeAt(--u)===48;);if(_=_.slice(y,++u)){if(u-=y,c&&R.DEBUG&&u>15&&(T>g||T!==s(T)))throw Error(a+A.s*T);if((Y=Y-y-1)>te)A.c=A.e=null;else if(Y<Q)A.c=[A.e=0];else{if(A.e=Y,A.c=[],y=(Y+1)%d,Y<0&&(y+=d),y<u){for(y&&A.c.push(+_.slice(0,y)),u-=d;y<u;)A.c.push(+_.slice(y,y+=d));y=d-(_=_.slice(y)).length}else y-=u;for(;y--;_+="0");A.c.push(+_)}}else A.c=[A.e=0]}R.clone=m,R.ROUND_UP=0,R.ROUND_DOWN=1,R.ROUND_CEIL=2,R.ROUND_FLOOR=3,R.ROUND_HALF_UP=4,R.ROUND_HALF_DOWN=5,R.ROUND_HALF_EVEN=6,R.ROUND_HALF_CEIL=7,R.ROUND_HALF_FLOOR=8,R.EUCLID=9,R.config=R.set=function(T){var B,C;if(T!=null)if(typeof T=="object"){if(T.hasOwnProperty(B="DECIMAL_PLACES")&&(C=T[B],E(C,0,b,B),se=C),T.hasOwnProperty(B="ROUNDING_MODE")&&(C=T[B],E(C,0,8,B),j=C),T.hasOwnProperty(B="EXPONENTIAL_AT")&&(C=T[B],C&&C.pop?(E(C[0],-b,0,B),E(C[1],0,b,B),$=C[0],H=C[1]):(E(C,-b,b,B),$=-(H=C<0?-C:C))),T.hasOwnProperty(B="RANGE"))if(C=T[B],C&&C.pop)E(C[0],-b,-1,B),E(C[1],1,b,B),Q=C[0],te=C[1];else if(E(C,-b,b,B),C)Q=-(te=C<0?-C:C);else throw Error(o+B+" cannot be zero: "+C);if(T.hasOwnProperty(B="CRYPTO"))if(C=T[B],C===!!C)if(C)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Z=C;else throw Z=!C,Error(o+"crypto unavailable");else Z=C;else throw Error(o+B+" not true or false: "+C);if(T.hasOwnProperty(B="MODULO_MODE")&&(C=T[B],E(C,0,9,B),ne=C),T.hasOwnProperty(B="POW_PRECISION")&&(C=T[B],E(C,0,b,B),le=C),T.hasOwnProperty(B="FORMAT"))if(C=T[B],typeof C=="object")oe=C;else throw Error(o+B+" not an object: "+C);if(T.hasOwnProperty(B="ALPHABET"))if(C=T[B],typeof C=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(C))Oe=C.slice(0,10)=="0123456789",he=C;else throw Error(o+B+" invalid: "+C)}else throw Error(o+"Object expected: "+T);return{DECIMAL_PLACES:se,ROUNDING_MODE:j,EXPONENTIAL_AT:[$,H],RANGE:[Q,te],CRYPTO:Z,MODULO_MODE:ne,POW_PRECISION:le,FORMAT:oe,ALPHABET:he}},R.isBigNumber=function(T){if(!T||T._isBigNumber!==!0)return!1;if(!R.DEBUG)return!0;var B,C,K=T.c,q=T.e,Y=T.s;e:if({}.toString.call(K)=="[object Array]"){if((Y===1||Y===-1)&&q>=-b&&q<=b&&q===s(q)){if(K[0]===0){if(q===0&&K.length===1)return!0;break e}if(B=(q+1)%d,B<1&&(B+=d),String(K[0]).length==B){for(B=0;B<K.length;B++)if(C=K[B],C<0||C>=l||C!==s(C))break e;if(C!==0)return!0}}}else if(K===null&&q===null&&(Y===null||Y===1||Y===-1))return!0;throw Error(o+"Invalid BigNumber: "+T)},R.maximum=R.max=function(){return ke(arguments,-1)},R.minimum=R.min=function(){return ke(arguments,1)},R.random=function(){var T=9007199254740992,B=Math.random()*T&2097151?function(){return s(Math.random()*T)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(C){var K,q,Y,y,c,u=0,_=[],A=new R(ie);if(C==null?C=se:E(C,0,b),y=i(C/d),Z)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(y*=2));u<y;)c=K[u]*131072+(K[u+1]>>>11),c>=9e15?(q=crypto.getRandomValues(new Uint32Array(2)),K[u]=q[0],K[u+1]=q[1]):(_.push(c%1e14),u+=2);u=y/2}else if(crypto.randomBytes){for(K=crypto.randomBytes(y*=7);u<y;)c=(K[u]&31)*281474976710656+K[u+1]*1099511627776+K[u+2]*4294967296+K[u+3]*16777216+(K[u+4]<<16)+(K[u+5]<<8)+K[u+6],c>=9e15?crypto.randomBytes(7).copy(K,u):(_.push(c%1e14),u+=7);u=y/7}else throw Z=!1,Error(o+"crypto unavailable");if(!Z)for(;u<y;)c=B(),c<9e15&&(_[u++]=c%1e14);for(y=_[--u],C%=d,y&&C&&(c=w[d-C],_[u]=s(y/c)*c);_[u]===0;_.pop(),u--);if(u<0)_=[Y=0];else{for(Y=-1;_[0]===0;_.splice(0,1),Y-=d);for(u=1,c=_[0];c>=10;c/=10,u++);u<d&&(Y-=d-u)}return A.e=Y,A.c=_,A}}(),R.sum=function(){for(var T=1,B=arguments,C=new R(B[0]);T<B.length;)C=C.plus(B[T++]);return C},L=function(){var T="0123456789";function B(C,K,q,Y){for(var y,c=[0],u,_=0,A=C.length;_<A;){for(u=c.length;u--;c[u]*=K);for(c[0]+=Y.indexOf(C.charAt(_++)),y=0;y<c.length;y++)c[y]>q-1&&(c[y+1]==null&&(c[y+1]=0),c[y+1]+=c[y]/q|0,c[y]%=q)}return c.reverse()}return function(C,K,q,Y,y){var c,u,_,A,M,X,ue,me,ye=C.indexOf("."),Se=se,v=j;for(ye>=0&&(A=le,le=0,C=C.replace(".",""),me=new R(K),X=me.pow(C.length-ye),le=A,me.c=B(k(P(X.c),X.e,"0"),10,q,T),me.e=me.c.length),ue=B(C,K,q,y?(c=he,T):(c=T,he)),_=A=ue.length;ue[--A]==0;ue.pop());if(!ue[0])return c.charAt(0);if(ye<0?--_:(X.c=ue,X.e=_,X.s=Y,X=U(X,me,Se,v,q),ue=X.c,M=X.r,_=X.e),u=_+Se+1,ye=ue[u],A=q/2,M=M||u<0||ue[u+1]!=null,M=v<4?(ye!=null||M)&&(v==0||v==(X.s<0?3:2)):ye>A||ye==A&&(v==4||M||v==6&&ue[u-1]&1||v==(X.s<0?8:7)),u<1||!ue[0])C=M?k(c.charAt(1),-Se,c.charAt(0)):c.charAt(0);else{if(ue.length=u,M)for(--q;++ue[--u]>q;)ue[u]=0,u||(++_,ue=[1].concat(ue));for(A=ue.length;!ue[--A];);for(ye=0,C="";ye<=A;C+=c.charAt(ue[ye++]));C=k(C,_,c.charAt(0))}return C}}(),U=function(){function T(K,q,Y){var y,c,u,_,A=0,M=K.length,X=q%x,ue=q/x|0;for(K=K.slice();M--;)u=K[M]%x,_=K[M]/x|0,y=ue*u+_*X,c=X*u+y%x*x+A,A=(c/Y|0)+(y/x|0)+ue*_,K[M]=c%Y;return A&&(K=[A].concat(K)),K}function B(K,q,Y,y){var c,u;if(Y!=y)u=Y>y?1:-1;else for(c=u=0;c<Y;c++)if(K[c]!=q[c]){u=K[c]>q[c]?1:-1;break}return u}function C(K,q,Y,y){for(var c=0;Y--;)K[Y]-=c,c=K[Y]<q[Y]?1:0,K[Y]=c*y+K[Y]-q[Y];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,q,Y,y,c){var u,_,A,M,X,ue,me,ye,Se,v,f,p,F,D,ee,J,_e,Te=K.s==q.s?1:-1,Ee=K.c,ve=q.c;if(!Ee||!Ee[0]||!ve||!ve[0])return new R(!K.s||!q.s||(Ee?ve&&Ee[0]==ve[0]:!ve)?NaN:Ee&&Ee[0]==0||!ve?Te*0:Te/0);for(ye=new R(Te),Se=ye.c=[],_=K.e-q.e,Te=Y+_+1,c||(c=l,_=O(K.e/d)-O(q.e/d),Te=Te/d|0),A=0;ve[A]==(Ee[A]||0);A++);if(ve[A]>(Ee[A]||0)&&_--,Te<0)Se.push(1),M=!0;else{for(D=Ee.length,J=ve.length,A=0,Te+=2,X=s(c/(ve[0]+1)),X>1&&(ve=T(ve,X,c),Ee=T(Ee,X,c),J=ve.length,D=Ee.length),F=J,v=Ee.slice(0,J),f=v.length;f<J;v[f++]=0);_e=ve.slice(),_e=[0].concat(_e),ee=ve[0],ve[1]>=c/2&&ee++;do{if(X=0,u=B(ve,v,J,f),u<0){if(p=v[0],J!=f&&(p=p*c+(v[1]||0)),X=s(p/ee),X>1)for(X>=c&&(X=c-1),ue=T(ve,X,c),me=ue.length,f=v.length;B(ue,v,me,f)==1;)X--,C(ue,J<me?_e:ve,me,c),me=ue.length,u=1;else X==0&&(u=X=1),ue=ve.slice(),me=ue.length;if(me<f&&(ue=[0].concat(ue)),C(v,ue,f,c),f=v.length,u==-1)for(;B(ve,v,J,f)<1;)X++,C(v,J<f?_e:ve,f,c),f=v.length}else u===0&&(X++,v=[0]);Se[A++]=X,v[0]?v[f++]=Ee[F]||0:(v=[Ee[F]],f=1)}while((F++<D||v[0]!=null)&&Te--);M=v[0]!=null,Se[0]||Se.splice(0,1)}if(c==l){for(A=1,Te=Se[0];Te>=10;Te/=10,A++);re(ye,Y+(ye.e=A+_*d-1)+1,y,M)}else ye.e=_,ye.r=+M;return ye}}();function Ne(T,B,C,K){var q,Y,y,c,u;if(C==null?C=j:E(C,0,8),!T.c)return T.toString();if(q=T.c[0],y=T.e,B==null)u=P(T.c),u=K==1||K==2&&(y<=$||y>=H)?V(u,y):k(u,y,"0");else if(T=re(new R(T),B,C),Y=T.e,u=P(T.c),c=u.length,K==1||K==2&&(B<=Y||Y<=$)){for(;c<B;u+="0",c++);u=V(u,Y)}else if(B-=y,u=k(u,Y,"0"),Y+1>c){if(--B>0)for(u+=".";B--;u+="0");}else if(B+=Y-c,B>0)for(Y+1==c&&(u+=".");B--;u+="0");return T.s<0&&q?"-"+u:u}function ke(T,B){for(var C,K,q=1,Y=new R(T[0]);q<T.length;q++)K=new R(T[q]),(!K.s||(C=S(Y,K))===B||C===0&&Y.s===B)&&(Y=K);return Y}function de(T,B,C){for(var K=1,q=B.length;!B[--q];B.pop());for(q=B[0];q>=10;q/=10,K++);return(C=K+C*d-1)>te?T.c=T.e=null:C<Q?T.c=[T.e=0]:(T.e=C,T.c=B),T}G=function(){var T=/^(-?)0([xbo])(?=\w[\w.]*$)/i,B=/^([^.]+)\.$/,C=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Y,y,c,u){var _,A=c?y:y.replace(q,"");if(K.test(A))Y.s=isNaN(A)?null:A<0?-1:1;else{if(!c&&(A=A.replace(T,function(M,X,ue){return _=(ue=ue.toLowerCase())=="x"?16:ue=="b"?2:8,!u||u==_?X:M}),u&&(_=u,A=A.replace(B,"$1").replace(C,"0.$1")),y!=A))return new R(A,_);if(R.DEBUG)throw Error(o+"Not a"+(u?" base "+u:"")+" number: "+y);Y.s=null}Y.c=Y.e=null}}();function re(T,B,C,K){var q,Y,y,c,u,_,A,M=T.c,X=w;if(M){e:{for(q=1,c=M[0];c>=10;c/=10,q++);if(Y=B-q,Y<0)Y+=d,y=B,u=M[_=0],A=s(u/X[q-y-1]%10);else if(_=i((Y+1)/d),_>=M.length)if(K){for(;M.length<=_;M.push(0));u=A=0,q=1,Y%=d,y=Y-d+1}else break e;else{for(u=c=M[_],q=1;c>=10;c/=10,q++);Y%=d,y=Y-d+q,A=y<0?0:s(u/X[q-y-1]%10)}if(K=K||B<0||M[_+1]!=null||(y<0?u:u%X[q-y-1]),K=C<4?(A||K)&&(C==0||C==(T.s<0?3:2)):A>5||A==5&&(C==4||K||C==6&&(Y>0?y>0?u/X[q-y]:0:M[_-1])%10&1||C==(T.s<0?8:7)),B<1||!M[0])return M.length=0,K?(B-=T.e+1,M[0]=X[(d-B%d)%d],T.e=-B||0):M[0]=T.e=0,T;if(Y==0?(M.length=_,c=1,_--):(M.length=_+1,c=X[d-Y],M[_]=y>0?s(u/X[q-y]%X[y])*c:0),K)for(;;)if(_==0){for(Y=1,y=M[0];y>=10;y/=10,Y++);for(y=M[0]+=c,c=1;y>=10;y/=10,c++);Y!=c&&(T.e++,M[0]==l&&(M[0]=1));break}else{if(M[_]+=c,M[_]!=l)break;M[_--]=0,c=1}for(Y=M.length;M[--Y]===0;M.pop());}T.e>te?T.c=T.e=null:T.e<Q&&(T.c=[T.e=0])}return T}function ce(T){var B,C=T.e;return C===null?T.toString():(B=P(T.c),B=C<=$||C>=H?V(B,C):k(B,C,"0"),T.s<0?"-"+B:B)}return z.absoluteValue=z.abs=function(){var T=new R(this);return T.s<0&&(T.s=1),T},z.comparedTo=function(T,B){return S(this,new R(T,B))},z.decimalPlaces=z.dp=function(T,B){var C,K,q,Y=this;if(T!=null)return E(T,0,b),B==null?B=j:E(B,0,8),re(new R(Y),T+Y.e+1,B);if(!(C=Y.c))return null;if(K=((q=C.length-1)-O(this.e/d))*d,q=C[q])for(;q%10==0;q/=10,K--);return K<0&&(K=0),K},z.dividedBy=z.div=function(T,B){return U(this,new R(T,B),se,j)},z.dividedToIntegerBy=z.idiv=function(T,B){return U(this,new R(T,B),0,1)},z.exponentiatedBy=z.pow=function(T,B){var C,K,q,Y,y,c,u,_,A,M=this;if(T=new R(T),T.c&&!T.isInteger())throw Error(o+"Exponent not an integer: "+ce(T));if(B!=null&&(B=new R(B)),c=T.e>14,!M.c||!M.c[0]||M.c[0]==1&&!M.e&&M.c.length==1||!T.c||!T.c[0])return A=new R(Math.pow(+ce(M),c?T.s*(2-N(T)):+ce(T))),B?A.mod(B):A;if(u=T.s<0,B){if(B.c?!B.c[0]:!B.s)return new R(NaN);K=!u&&M.isInteger()&&B.isInteger(),K&&(M=M.mod(B))}else{if(T.e>9&&(M.e>0||M.e<-1||(M.e==0?M.c[0]>1||c&&M.c[1]>=24e7:M.c[0]<8e13||c&&M.c[0]<=9999975e7)))return Y=M.s<0&&N(T)?-0:0,M.e>-1&&(Y=1/Y),new R(u?1/Y:Y);le&&(Y=i(le/d+2))}for(c?(C=new R(.5),u&&(T.s=1),_=N(T)):(q=Math.abs(+ce(T)),_=q%2),A=new R(ie);;){if(_){if(A=A.times(M),!A.c)break;Y?A.c.length>Y&&(A.c.length=Y):K&&(A=A.mod(B))}if(q){if(q=s(q/2),q===0)break;_=q%2}else if(T=T.times(C),re(T,T.e+1,1),T.e>14)_=N(T);else{if(q=+ce(T),q===0)break;_=q%2}M=M.times(M),Y?M.c&&M.c.length>Y&&(M.c.length=Y):K&&(M=M.mod(B))}return K?A:(u&&(A=ie.div(A)),B?A.mod(B):Y?re(A,le,j,y):A)},z.integerValue=function(T){var B=new R(this);return T==null?T=j:E(T,0,8),re(B,B.e+1,T)},z.isEqualTo=z.eq=function(T,B){return S(this,new R(T,B))===0},z.isFinite=function(){return!!this.c},z.isGreaterThan=z.gt=function(T,B){return S(this,new R(T,B))>0},z.isGreaterThanOrEqualTo=z.gte=function(T,B){return(B=S(this,new R(T,B)))===1||B===0},z.isInteger=function(){return!!this.c&&O(this.e/d)>this.c.length-2},z.isLessThan=z.lt=function(T,B){return S(this,new R(T,B))<0},z.isLessThanOrEqualTo=z.lte=function(T,B){return(B=S(this,new R(T,B)))===-1||B===0},z.isNaN=function(){return!this.s},z.isNegative=function(){return this.s<0},z.isPositive=function(){return this.s>0},z.isZero=function(){return!!this.c&&this.c[0]==0},z.minus=function(T,B){var C,K,q,Y,y=this,c=y.s;if(T=new R(T,B),B=T.s,!c||!B)return new R(NaN);if(c!=B)return T.s=-B,y.plus(T);var u=y.e/d,_=T.e/d,A=y.c,M=T.c;if(!u||!_){if(!A||!M)return A?(T.s=-B,T):new R(M?y:NaN);if(!A[0]||!M[0])return M[0]?(T.s=-B,T):new R(A[0]?y:j==3?-0:0)}if(u=O(u),_=O(_),A=A.slice(),c=u-_){for((Y=c<0)?(c=-c,q=A):(_=u,q=M),q.reverse(),B=c;B--;q.push(0));q.reverse()}else for(K=(Y=(c=A.length)<(B=M.length))?c:B,c=B=0;B<K;B++)if(A[B]!=M[B]){Y=A[B]<M[B];break}if(Y&&(q=A,A=M,M=q,T.s=-T.s),B=(K=M.length)-(C=A.length),B>0)for(;B--;A[C++]=0);for(B=l-1;K>c;){if(A[--K]<M[K]){for(C=K;C&&!A[--C];A[C]=B);--A[C],A[K]+=l}A[K]-=M[K]}for(;A[0]==0;A.splice(0,1),--_);return A[0]?de(T,A,_):(T.s=j==3?-1:1,T.c=[T.e=0],T)},z.modulo=z.mod=function(T,B){var C,K,q=this;return T=new R(T,B),!q.c||!T.s||T.c&&!T.c[0]?new R(NaN):!T.c||q.c&&!q.c[0]?new R(q):(ne==9?(K=T.s,T.s=1,C=U(q,T,0,3),T.s=K,C.s*=K):C=U(q,T,0,ne),T=q.minus(C.times(T)),!T.c[0]&&ne==1&&(T.s=q.s),T)},z.multipliedBy=z.times=function(T,B){var C,K,q,Y,y,c,u,_,A,M,X,ue,me,ye,Se,v=this,f=v.c,p=(T=new R(T,B)).c;if(!f||!p||!f[0]||!p[0])return!v.s||!T.s||f&&!f[0]&&!p||p&&!p[0]&&!f?T.c=T.e=T.s=null:(T.s*=v.s,!f||!p?T.c=T.e=null:(T.c=[0],T.e=0)),T;for(K=O(v.e/d)+O(T.e/d),T.s*=v.s,u=f.length,M=p.length,u<M&&(me=f,f=p,p=me,q=u,u=M,M=q),q=u+M,me=[];q--;me.push(0));for(ye=l,Se=x,q=M;--q>=0;){for(C=0,X=p[q]%Se,ue=p[q]/Se|0,y=u,Y=q+y;Y>q;)_=f[--y]%Se,A=f[y]/Se|0,c=ue*_+A*X,_=X*_+c%Se*Se+me[Y]+C,C=(_/ye|0)+(c/Se|0)+ue*A,me[Y--]=_%ye;me[Y]=C}return C?++K:me.splice(0,1),de(T,me,K)},z.negated=function(){var T=new R(this);return T.s=-T.s||null,T},z.plus=function(T,B){var C,K=this,q=K.s;if(T=new R(T,B),B=T.s,!q||!B)return new R(NaN);if(q!=B)return T.s=-B,K.minus(T);var Y=K.e/d,y=T.e/d,c=K.c,u=T.c;if(!Y||!y){if(!c||!u)return new R(q/0);if(!c[0]||!u[0])return u[0]?T:new R(c[0]?K:q*0)}if(Y=O(Y),y=O(y),c=c.slice(),q=Y-y){for(q>0?(y=Y,C=u):(q=-q,C=c),C.reverse();q--;C.push(0));C.reverse()}for(q=c.length,B=u.length,q-B<0&&(C=u,u=c,c=C,B=q),q=0;B;)q=(c[--B]=c[B]+u[B]+q)/l|0,c[B]=l===c[B]?0:c[B]%l;return q&&(c=[q].concat(c),++y),de(T,c,y)},z.precision=z.sd=function(T,B){var C,K,q,Y=this;if(T!=null&&T!==!!T)return E(T,1,b),B==null?B=j:E(B,0,8),re(new R(Y),T,B);if(!(C=Y.c))return null;if(q=C.length-1,K=q*d+1,q=C[q]){for(;q%10==0;q/=10,K--);for(q=C[0];q>=10;q/=10,K++);}return T&&Y.e+1>K&&(K=Y.e+1),K},z.shiftedBy=function(T){return E(T,-g,g),this.times("1e"+T)},z.squareRoot=z.sqrt=function(){var T,B,C,K,q,Y=this,y=Y.c,c=Y.s,u=Y.e,_=se+4,A=new R("0.5");if(c!==1||!y||!y[0])return new R(!c||c<0&&(!y||y[0])?NaN:y?Y:1/0);if(c=Math.sqrt(+ce(Y)),c==0||c==1/0?(B=P(y),(B.length+u)%2==0&&(B+="0"),c=Math.sqrt(+B),u=O((u+1)/2)-(u<0||u%2),c==1/0?B="5e"+u:(B=c.toExponential(),B=B.slice(0,B.indexOf("e")+1)+u),C=new R(B)):C=new R(c+""),C.c[0]){for(u=C.e,c=u+_,c<3&&(c=0);;)if(q=C,C=A.times(q.plus(U(Y,q,_,1))),P(q.c).slice(0,c)===(B=P(C.c)).slice(0,c))if(C.e<u&&--c,B=B.slice(c-3,c+1),B=="9999"||!K&&B=="4999"){if(!K&&(re(q,q.e+se+2,0),q.times(q).eq(Y))){C=q;break}_+=4,c+=4,K=1}else{(!+B||!+B.slice(1)&&B.charAt(0)=="5")&&(re(C,C.e+se+2,1),T=!C.times(C).eq(Y));break}}return re(C,C.e+se+1,j,T)},z.toExponential=function(T,B){return T!=null&&(E(T,0,b),T++),Ne(this,T,B,1)},z.toFixed=function(T,B){return T!=null&&(E(T,0,b),T=T+this.e+1),Ne(this,T,B)},z.toFormat=function(T,B,C){var K,q=this;if(C==null)T!=null&&B&&typeof B=="object"?(C=B,B=null):T&&typeof T=="object"?(C=T,T=B=null):C=oe;else if(typeof C!="object")throw Error(o+"Argument not an object: "+C);if(K=q.toFixed(T,B),q.c){var Y,y=K.split("."),c=+C.groupSize,u=+C.secondaryGroupSize,_=C.groupSeparator||"",A=y[0],M=y[1],X=q.s<0,ue=X?A.slice(1):A,me=ue.length;if(u&&(Y=c,c=u,u=Y,me-=Y),c>0&&me>0){for(Y=me%c||c,A=ue.substr(0,Y);Y<me;Y+=c)A+=_+ue.substr(Y,c);u>0&&(A+=_+ue.slice(Y)),X&&(A="-"+A)}K=M?A+(C.decimalSeparator||"")+((u=+C.fractionGroupSize)?M.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(C.fractionGroupSeparator||"")):M):A}return(C.prefix||"")+K+(C.suffix||"")},z.toFraction=function(T){var B,C,K,q,Y,y,c,u,_,A,M,X,ue=this,me=ue.c;if(T!=null&&(c=new R(T),!c.isInteger()&&(c.c||c.s!==1)||c.lt(ie)))throw Error(o+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+ce(c));if(!me)return new R(ue);for(B=new R(ie),_=C=new R(ie),K=u=new R(ie),X=P(me),Y=B.e=X.length-ue.e-1,B.c[0]=w[(y=Y%d)<0?d+y:y],T=!T||c.comparedTo(B)>0?Y>0?B:_:c,y=te,te=1/0,c=new R(X),u.c[0]=0;A=U(c,B,0,1),q=C.plus(A.times(K)),q.comparedTo(T)!=1;)C=K,K=q,_=u.plus(A.times(q=_)),u=q,B=c.minus(A.times(q=B)),c=q;return q=U(T.minus(C),K,0,1),u=u.plus(q.times(_)),C=C.plus(q.times(K)),u.s=_.s=ue.s,Y=Y*2,M=U(_,K,Y,j).minus(ue).abs().comparedTo(U(u,C,Y,j).minus(ue).abs())<1?[_,K]:[u,C],te=y,M},z.toNumber=function(){return+ce(this)},z.toPrecision=function(T,B){return T!=null&&E(T,1,b),Ne(this,T,B,2)},z.toString=function(T){var B,C=this,K=C.s,q=C.e;return q===null?K?(B="Infinity",K<0&&(B="-"+B)):B="NaN":(T==null?B=q<=$||q>=H?V(P(C.c),q):k(P(C.c),q,"0"):T===10&&Oe?(C=re(new R(C),se+q+1,j),B=k(P(C.c),C.e,"0")):(E(T,2,he.length,"Base"),B=L(k(P(C.c),q,"0"),10,T,K,!0)),K<0&&C.c[0]&&(B="-"+B)),B},z.valueOf=z.toJSON=function(){return ce(this)},z._isBigNumber=!0,I!=null&&R.set(I),R}function O(I){var U=I|0;return I>0||I===U?U:U-1}function P(I){for(var U,L,G=1,z=I.length,ie=I[0]+"";G<z;){for(U=I[G++]+"",L=d-U.length;L--;U="0"+U);ie+=U}for(z=ie.length;ie.charCodeAt(--z)===48;);return ie.slice(0,z+1||1)}function S(I,U){var L,G,z=I.c,ie=U.c,se=I.s,j=U.s,$=I.e,H=U.e;if(!se||!j)return null;if(L=z&&!z[0],G=ie&&!ie[0],L||G)return L?G?0:-j:se;if(se!=j)return se;if(L=se<0,G=$==H,!z||!ie)return G?0:!z^L?1:-1;if(!G)return $>H^L?1:-1;for(j=($=z.length)<(H=ie.length)?$:H,se=0;se<j;se++)if(z[se]!=ie[se])return z[se]>ie[se]^L?1:-1;return $==H?0:$>H^L?1:-1}function E(I,U,L,G){if(I<U||I>L||I!==s(I))throw Error(o+(G||"Argument")+(typeof I=="number"?I<U||I>L?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function N(I){var U=I.c.length-1;return O(I.e/d)==U&&I.c[U]%2!=0}function V(I,U){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(U<0?"e":"e+")+U}function k(I,U,L){var G,z;if(U<0){for(z=L+".";++U;z+=L);I=z+I}else if(G=I.length,++U>G){for(z=L,U-=G;--U;z+=L);I+=z}else U<G&&(I=I.slice(0,U)+"."+I.slice(U));return I}r=m(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(hs)})(Ny);var dc=Ny.exports,Bv=function(t,r,n){var i=new t.Uint8Array(n),s=r.pushInt,o=r.pushInt32,a=r.pushInt32Neg,l=r.pushInt64,d=r.pushInt64Neg,g=r.pushFloat,w=r.pushFloatSingle,x=r.pushFloatDouble,b=r.pushTrue,m=r.pushFalse,O=r.pushUndefined,P=r.pushNull,S=r.pushInfinity,E=r.pushInfinityNeg,N=r.pushNaN,V=r.pushNaNNeg,k=r.pushArrayStart,I=r.pushArrayStartFixed,U=r.pushArrayStartFixed32,L=r.pushArrayStartFixed64,G=r.pushObjectStart,z=r.pushObjectStartFixed,ie=r.pushObjectStartFixed32,se=r.pushObjectStartFixed64,j=r.pushByteString,$=r.pushByteStringStart,H=r.pushUtf8String,Q=r.pushUtf8StringStart,te=r.pushSimpleUnassigned,Z=r.pushTagStart,ne=r.pushTagStart4,le=r.pushTagStart8,oe=r.pushTagUnassigned,he=r.pushBreak,Oe=t.Math.pow,R=0,Ne=0,ke=0;function de(W){for(W=W|0,R=0,Ne=W;(R|0)<(Ne|0)&&(ke=nw[i[R]&255](i[R]|0)|0,!((ke|0)>0)););return ke|0}function re(W){return W=W|0,((R|0)+(W|0)|0)<(Ne|0)?0:1}function ce(W){return W=W|0,i[W|0]<<8|i[W+1|0]|0}function T(W){return W=W|0,i[W|0]<<24|i[W+1|0]<<16|i[W+2|0]<<8|i[W+3|0]|0}function B(W){return W=W|0,s(W|0),R=R+1|0,0}function C(W){return W=W|0,re(1)|0?1:(s(i[R+1|0]|0),R=R+2|0,0)}function K(W){return W=W|0,re(2)|0?1:(s(ce(R+1|0)|0),R=R+3|0,0)}function q(W){return W=W|0,re(4)|0?1:(o(ce(R+1|0)|0,ce(R+3|0)|0),R=R+5|0,0)}function Y(W){return W=W|0,re(8)|0?1:(l(ce(R+1|0)|0,ce(R+3|0)|0,ce(R+5|0)|0,ce(R+7|0)|0),R=R+9|0,0)}function y(W){return W=W|0,s(-1-(W-32|0)|0),R=R+1|0,0}function c(W){return W=W|0,re(1)|0?1:(s(-1-(i[R+1|0]|0)|0),R=R+2|0,0)}function u(W){W=W|0;var Re=0;return re(2)|0?1:(Re=ce(R+1|0)|0,s(-1-(Re|0)|0),R=R+3|0,0)}function _(W){return W=W|0,re(4)|0?1:(a(ce(R+1|0)|0,ce(R+3|0)|0),R=R+5|0,0)}function A(W){return W=W|0,re(8)|0?1:(d(ce(R+1|0)|0,ce(R+3|0)|0,ce(R+5|0)|0,ce(R+7|0)|0),R=R+9|0,0)}function M(W){W=W|0;var Re=0,Fe=0,Be=0;return Be=W-64|0,re(Be|0)|0?1:(Re=R+1|0,Fe=(R+1|0)+(Be|0)|0,j(Re|0,Fe|0),R=Fe|0,0)}function X(W){W=W|0;var Re=0,Fe=0,Be=0;return re(1)|0||(Be=i[R+1|0]|0,Re=R+2|0,Fe=(R+2|0)+(Be|0)|0,re(Be+1|0)|0)?1:(j(Re|0,Fe|0),R=Fe|0,0)}function ue(W){W=W|0;var Re=0,Fe=0,Be=0;return re(2)|0||(Be=ce(R+1|0)|0,Re=R+3|0,Fe=(R+3|0)+(Be|0)|0,re(Be+2|0)|0)?1:(j(Re|0,Fe|0),R=Fe|0,0)}function me(W){W=W|0;var Re=0,Fe=0,Be=0;return re(4)|0||(Be=T(R+1|0)|0,Re=R+5|0,Fe=(R+5|0)+(Be|0)|0,re(Be+4|0)|0)?1:(j(Re|0,Fe|0),R=Fe|0,0)}function ye(W){return W=W|0,1}function Se(W){return W=W|0,$(),R=R+1|0,0}function v(W){W=W|0;var Re=0,Fe=0,Be=0;return Be=W-96|0,re(Be|0)|0?1:(Re=R+1|0,Fe=(R+1|0)+(Be|0)|0,H(Re|0,Fe|0),R=Fe|0,0)}function f(W){W=W|0;var Re=0,Fe=0,Be=0;return re(1)|0||(Be=i[R+1|0]|0,Re=R+2|0,Fe=(R+2|0)+(Be|0)|0,re(Be+1|0)|0)?1:(H(Re|0,Fe|0),R=Fe|0,0)}function p(W){W=W|0;var Re=0,Fe=0,Be=0;return re(2)|0||(Be=ce(R+1|0)|0,Re=R+3|0,Fe=(R+3|0)+(Be|0)|0,re(Be+2|0)|0)?1:(H(Re|0,Fe|0),R=Fe|0,0)}function F(W){W=W|0;var Re=0,Fe=0,Be=0;return re(4)|0||(Be=T(R+1|0)|0,Re=R+5|0,Fe=(R+5|0)+(Be|0)|0,re(Be+4|0)|0)?1:(H(Re|0,Fe|0),R=Fe|0,0)}function D(W){return W=W|0,1}function ee(W){return W=W|0,Q(),R=R+1|0,0}function J(W){return W=W|0,I(W-128|0),R=R+1|0,0}function _e(W){return W=W|0,re(1)|0?1:(I(i[R+1|0]|0),R=R+2|0,0)}function Te(W){return W=W|0,re(2)|0?1:(I(ce(R+1|0)|0),R=R+3|0,0)}function Ee(W){return W=W|0,re(4)|0?1:(U(ce(R+1|0)|0,ce(R+3|0)|0),R=R+5|0,0)}function ve(W){return W=W|0,re(8)|0?1:(L(ce(R+1|0)|0,ce(R+3|0)|0,ce(R+5|0)|0,ce(R+7|0)|0),R=R+9|0,0)}function Ce(W){return W=W|0,k(),R=R+1|0,0}function He(W){W=W|0;var Re=0;return Re=W-160|0,re(Re|0)|0?1:(z(Re|0),R=R+1|0,0)}function Nc(W){return W=W|0,re(1)|0?1:(z(i[R+1|0]|0),R=R+2|0,0)}function Tc(W){return W=W|0,re(2)|0?1:(z(ce(R+1|0)|0),R=R+3|0,0)}function kc(W){return W=W|0,re(4)|0?1:(ie(ce(R+1|0)|0,ce(R+3|0)|0),R=R+5|0,0)}function Ac(W){return W=W|0,re(8)|0?1:(se(ce(R+1|0)|0,ce(R+3|0)|0,ce(R+5|0)|0,ce(R+7|0)|0),R=R+9|0,0)}function Bc(W){return W=W|0,G(),R=R+1|0,0}function dn(W){return W=W|0,Z(W-192|0|0),R=R+1|0,0}function V6(W){return W=W|0,Z(W|0),R=R+1|0,0}function H6(W){return W=W|0,Z(W|0),R=R+1|0,0}function q6(W){return W=W|0,Z(W|0),R=R+1|0,0}function G6(W){return W=W|0,Z(W|0),R=R+1|0,0}function ft(W){return W=W|0,Z(W-192|0|0),R=R+1|0,0}function K6(W){return W=W|0,Z(W|0),R=R+1|0,0}function L6(W){return W=W|0,Z(W|0),R=R+1|0,0}function W6(W){return W=W|0,Z(W|0),R=R+1|0,0}function G1(W){return W=W|0,re(1)|0?1:(Z(i[R+1|0]|0),R=R+2|0,0)}function K1(W){return W=W|0,re(2)|0?1:(Z(ce(R+1|0)|0),R=R+3|0,0)}function L1(W){return W=W|0,re(4)|0?1:(ne(ce(R+1|0)|0,ce(R+3|0)|0),R=R+5|0,0)}function W1(W){return W=W|0,re(8)|0?1:(le(ce(R+1|0)|0,ce(R+3|0)|0,ce(R+5|0)|0,ce(R+7|0)|0),R=R+9|0,0)}function nt(W){return W=W|0,te((W|0)-224|0),R=R+1|0,0}function Y1(W){return W=W|0,m(),R=R+1|0,0}function D1(W){return W=W|0,b(),R=R+1|0,0}function Z1(W){return W=W|0,P(),R=R+1|0,0}function Q1(W){return W=W|0,O(),R=R+1|0,0}function X1(W){return W=W|0,re(1)|0?1:(te(i[R+1|0]|0),R=R+2|0,0)}function J1(W){W=W|0;var Re=0,Fe=0,Be=1,Qo=0,Os=0,Y6=0;return re(2)|0?1:(Re=i[R+1|0]|0,Fe=i[R+2|0]|0,(Re|0)&128&&(Be=-1),Qo=+(((Re|0)&124)>>2),Os=+(((Re|0)&3)<<8|Fe),+Qo==0?g(+(+Be*5960464477539063e-23*+Os)):+Qo==31?+Be==1?+Os>0?N():S():+Os>0?V():E():g(+(+Be*Oe(2,+(+Qo-25))*+(1024+Os))),R=R+3|0,0)}function ew(W){return W=W|0,re(4)|0?1:(w(i[R+1|0]|0,i[R+2|0]|0,i[R+3|0]|0,i[R+4|0]|0),R=R+5|0,0)}function tw(W){return W=W|0,re(8)|0?1:(x(i[R+1|0]|0,i[R+2|0]|0,i[R+3|0]|0,i[R+4|0]|0,i[R+5|0]|0,i[R+6|0]|0,i[R+7|0]|0,i[R+8|0]|0),R=R+9|0,0)}function ze(W){return W=W|0,1}function rw(W){return W=W|0,he(),R=R+1|0,0}var nw=[B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,C,K,q,Y,ze,ze,ze,ze,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,c,u,_,A,ze,ze,ze,ze,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,M,X,ue,me,ye,ze,ze,ze,Se,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,v,f,p,F,D,ze,ze,ze,ee,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,_e,Te,Ee,ve,ze,ze,ze,Ce,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,He,Nc,Tc,kc,Ac,ze,ze,ze,Bc,dn,dn,dn,dn,dn,dn,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,ft,G1,K1,L1,W1,ze,ze,ze,ze,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,nt,Y1,D1,Z1,Q1,X1,J1,ew,tw,ze,ze,ze,rw];return{parse:de}},hc={},Ot={};const Wd=dc.BigNumber;Ot.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Ot.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Ot.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Ot.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Ot.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Ot.SHIFT32=Math.pow(2,32);Ot.SHIFT16=Math.pow(2,16);Ot.MAX_SAFE_HIGH=2097151;Ot.NEG_ONE=new Wd(-1);Ot.TEN=new Wd(10);Ot.TWO=new Wd(2);Ot.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=Wo,r=dc.BigNumber,n=Ot,i=n.SHIFT32,s=n.SHIFT16,o=2097151;e.parseHalf=function(d){var g,w,x;return x=d[0]&128?-1:1,g=(d[0]&124)>>2,w=(d[0]&3)<<8|d[1],g?g===31?x*(w?0/0:1/0):x*Math.pow(2,g-25)*(1024+w):x*5960464477539063e-23*w};function a(l){return l<16?"0"+l.toString(16):l.toString(16)}e.arrayBufferToBignumber=function(l){const d=l.byteLength;let g="";for(let w=0;w<d;w++)g+=a(l[w]);return new r(g,16)},e.buildMap=l=>{const d=new Map,g=Object.keys(l),w=g.length;for(let x=0;x<w;x++)d.set(g[x],l[g[x]]);return d},e.buildInt32=(l,d)=>l*s+d,e.buildInt64=(l,d,g,w)=>{const x=e.buildInt32(l,d),b=e.buildInt32(g,w);return x>o?new r(x).times(i).plus(b):x*i+b},e.writeHalf=function(d,g){const w=t.allocUnsafe(4);w.writeFloatBE(g,0);const x=w.readUInt32BE(0);if(x&8191)return!1;var b=x>>16&32768;const m=x>>23&255,O=x&8388607;if(m>=113&&m<=142)b+=(m-112<<10)+(O>>13);else if(m>=103&&m<113){if(O&(1<<126-m)-1)return!1;b+=O+8388608>>126-m}else return!1;return d.writeUInt16BE(b,0),!0},e.keySorter=function(l,d){var g=l[0].byteLength,w=d[0].byteLength;return g>w?1:w>g?-1:l[0].compare(d[0])},e.isNegativeZero=l=>l===0&&1/l<0,e.nextPowerOf2=l=>{let d=0;if(l&&!(l&l-1))return l;for(;l!==0;)l>>=1,d+=1;return 1<<d}})(hc);const Yd=Ot,jv=Yd.MT,xa=Yd.SIMPLE,su=Yd.SYMS;let Rv=class Nf{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,jv.SIMPLE_FLOAT)}static isSimple(t){return t instanceof Nf}static decode(t,r){switch(r==null&&(r=!0),t){case xa.FALSE:return!1;case xa.TRUE:return!0;case xa.NULL:return r?null:su.NULL;case xa.UNDEFINED:return r?void 0:su.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return su.BREAK;default:return new Nf(t)}}};var Ty=Rv;let Ov=class Tf{constructor(t,r,n){if(this.tag=t,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=t!=null?t[this.tag]:void 0,typeof n!="function"&&(n=Tf["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(Tf,this.value)}catch(i){return r=i,this.err=r,this}}};var ky=Ov;const Ay=self.location?self.location.protocol+"//"+self.location.host:"",kf=self.URL;let Fv=class{constructor(t="",r=Ay){this.super=new kf(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function Pv(e){if(typeof e=="string")return new kf(e).toString();if(!(e instanceof kf)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",s=e.host||"",o=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),l=e.hash||"",d=e.pathname||"",g=e.path||d+a;return`${i}${t||r}${s||o+n}${g}${l}`}}var By={URLWithLegacySupport:Fv,URLSearchParams:self.URLSearchParams,defaultBase:Ay,format:Pv};const{URLWithLegacySupport:Eh,format:Cv}=By;var Iv=(e,t={},r={},n)=>{let i=t.protocol?t.protocol.replace(":",""):"http";i=(r[i]||n||i)+":";let s;try{s=new Eh(e)}catch{s={}}const o=Object.assign({},t,{protocol:i||s.protocol,host:t.host||s.host});return new Eh(e,Cv(o)).toString()};const{URLWithLegacySupport:Uv,format:Mv,URLSearchParams:$v,defaultBase:zv}=By,Vv=Iv;var jy={URL:Uv,URLSearchParams:$v,format:Mv,relative:Vv,defaultBase:zv};const{Buffer:Ri}=Wo,Sh=Go,Hv=dc.BigNumber,qv=Bv,Ft=hc,$e=Ot,Gv=Ty,Kv=ky,{URL:Lv}=jy;let Af=class Bf{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=Ft.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=Ri.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>Ft.arrayBufferToBignumber(r),3:r=>$e.NEG_ONE.minus(Ft.arrayBufferToBignumber(r)),4:r=>$e.TEN.pow(r[0]).times(r[1]),5:r=>$e.TWO.pow(r[0]).times(r[1]),32:r=>new Lv(r),35:r=>new RegExp(r)},t.tags),this.parser=qv(hs,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case $e.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case $e.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case $e.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case $e.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case $e.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case $e.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===$e.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const n=this._currentParent;switch(n.values++,n.type){case $e.PARENT.ARRAY:case $e.PARENT.BYTE_STRING:case $e.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=t:this._ref.push(t),this._dec();break;case $e.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=t,n.tmpKey=null,this._dec()):(n.tmpKey=t,typeof n.tmpKey!="string"&&(n.type=$e.PARENT.MAP,n.ref=Ft.buildMap(n.ref)));break;case $e.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,t),n.tmpKey=null,this._dec()):n.tmpKey=t;break;case $e.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,n){this._parents[this._depth]={type:r,length:n,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:$e.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const n=this._knownTags[t];return n?n(r):new Kv(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return Ri.concat(t)}createByteStringFromHeap(t,r){return t===r?Ri.alloc(0):Ri.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return Ft.buildInt32(t,r)}createInt64(t,r,n,i){return Ft.buildInt64(t,r,n,i)}createFloat(t){return t}createFloatSingle(t,r,n,i){return Sh.read([t,r,n,i],0,!1,23,4)}createFloatDouble(t,r,n,i,s,o,a,l){return Sh.read([t,r,n,i,s,o,a,l],0,!1,52,8)}createInt32Neg(t,r){return-1-Ft.buildInt32(t,r)}createInt64Neg(t,r,n,i){const s=Ft.buildInt32(t,r),o=Ft.buildInt32(n,i);return s>$e.MAX_SAFE_HIGH?$e.NEG_ONE.minus(new Hv(s).times($e.SHIFT32).plus(o)):-1-(s*$e.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new Gv(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,n,i){this._push(this.createInt64(t,r,n,i))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,n,i){this._push(this.createFloatSingle(t,r,n,i))}pushFloatDouble(t,r,n,i,s,o,a,l){this._push(this.createFloatDouble(t,r,n,i,s,o,a,l))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,n,i){this._push(this.createInt64Neg(t,r,n,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],$e.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const n=Ft.buildInt32(t,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(t,r,n,i){const s=Ft.buildInt64(t,r,n,i);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const n=Ft.buildInt32(t,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(t,r,n,i){const s=Ft.buildInt64(t,r,n,i);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:$e.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:$e.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:$e.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(Ft.buildInt32(t,r))}pushTagStart8(t,r,n,i){this.pushTagStart(Ft.buildInt64(t,r,n,i))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},$e.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),$e.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=Ri.from(t,r||"hex")),new Bf({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=Ri.from(t,r||"hex")),new Bf({size:t.length}).decodeAll(t)}};Af.decodeFirst=Af.decode;var Ry=Af;const{Buffer:ou}=Wo,Wv=Ry,Yv=hc;class Dd extends Wv{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,n,i){return super.createInt64(t,r,n,i).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,n,i){return super.createInt64Neg(t,r,n,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return Yv.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,n,i){return`${super.createFloatSingle(t,r,n,i)}_2`}createFloatDouble(t,r,n,i,s,o,a,l){return`${super.createFloatDouble(t,r,n,i,s,o,a,l)}_3`}createByteString(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(t,r){return`h'${ou.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const n=super.createArray(t,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(t,r){const n=super.createMap(t),i=Array.from(n.keys()).reduce(Nh(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createObject(t,r){const n=super.createObject(t),i=Object.keys(n).reduce(Nh(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(t,r){return`"${ou.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=ou.from(t,r||"hex")),new Dd().decodeFirst(t)}}var Dv=Dd;function Nh(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:Pr}=Wo,{URL:Zv}=jy,jf=dc.BigNumber,au=hc,ut=Ot,hr=ut.MT,va=ut.NUMBYTES,Th=ut.SHIFT32,kh=ut.SYMS,Oi=ut.TAG,Qv=ut.MT.SIMPLE_FLOAT<<5|ut.NUMBYTES.TWO,Xv=ut.MT.SIMPLE_FLOAT<<5|ut.NUMBYTES.FOUR,Jv=ut.MT.SIMPLE_FLOAT<<5|ut.NUMBYTES.EIGHT,e_=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.TRUE,t_=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.FALSE,r_=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.UNDEFINED,Ah=ut.MT.SIMPLE_FLOAT<<5|ut.SIMPLE.NULL,n_=new jf("0x20000000000000"),i_=Pr.from("f97e00","hex"),s_=Pr.from("f9fc00","hex"),o_=Pr.from("f97c00","hex");function a_(e){return{}.toString.call(e).slice(8,-1)}class Ol{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[Zv,this._pushUrl],[jf,this._pushBigNumber]];const r=t.genTypes||[],n=r.length;for(let i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}addSemanticType(t,r){const n=this.semanticTypes.length;for(let i=0;i<n;i++)if(this.semanticTypes[i][0]===t){const o=this.semanticTypes[i][1];return this.semanticTypes[i][1]=r,o}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,n){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(i_)}_pushInfinity(t){const r=t<0?s_:o_;return this.push(r)}_pushFloat(t){const r=Pr.allocUnsafe(2);if(au.writeHalf(r,t)&&au.parseHalf(r)===t)return this._pushUInt8(Qv)&&this.push(r);const n=Pr.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(Xv)&&this.push(n):this._pushUInt8(Jv)&&this._pushDoubleBE(t)}_pushInt(t,r,n){const i=r<<5;return t<24?this._pushUInt8(i|t):t<=255?this._pushUInt8(i|va.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(i|va.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(i|va.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|va.EIGHT)&&this._pushUInt32BE(Math.floor(t/Th))&&this._pushUInt32BE(t%Th):r===hr.NEG_INT?this._pushFloat(n):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,hr.NEG_INT,t):this._pushInt(t,hr.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=Pr.byteLength(t,"utf8");return this._pushInt(r,hr.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?e_:t_)}_pushUndefined(t){return this._pushUInt8(r_)}_pushArray(t,r){const n=r.length;if(!t._pushInt(n,hr.ARRAY))return!1;for(let i=0;i<n;i++)if(!t.pushAny(r[i]))return!1;return!0}_pushTag(t){return this._pushInt(t,hr.TAG)}_pushDate(t,r){return t._pushTag(Oi.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,hr.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(Oi.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,hr.ARRAY))return!1;for(const n of r)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,r){return t._pushTag(Oi.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=Oi.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=Oi.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const i=Pr.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(Oi.DECIMAL_FRAC)&&t._pushInt(2,hr.ARRAY)))return!1;const n=r.decimalPlaces(),i=r.multipliedBy(new jf(10).pow(n));return t._pushIntNum(-n)?i.abs().isLessThan(n_)?t._pushIntNum(i.toNumber()):t._pushBigint(i):!1}_pushMap(t,r){return t._pushInt(r.size,hr.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(Ah);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(t instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(t,this,t);var i=t.encodeCBOR;if(typeof i=="function")return i.call(t,this);var s=Object.keys(t),o=s.length;return this._pushInt(o,hr.MAP)?this._pushRawMap(o,s.map(a=>[a,t[a]])):!1}_pushRawMap(t,r){r=r.map(function(i){return i[0]=Ol.encode(i[0]),i}).sort(au.keySorter);for(var n=0;n<t;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=a_(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,Pr.isBuffer(t)?t:Pr.from(t));case"Null":return this._pushUInt8(Ah);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case kh.NULL:return this._pushObject(null);case kh.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,s=0,o=0;o<i;o++)s+=r[o];var a=Pr.allocUnsafe(s),l=0,d=0;for(o=0;o<i;o++){switch(d=r[o],n[o]){case 0:t[o].copy(a,l);break;case 1:a.writeUInt8(t[o],l,!0);break;case 2:a.writeUInt16BE(t[o],l,!0);break;case 3:a.writeUInt32BE(t[o],l,!0);break;case 4:a.writeDoubleBE(t[o],l,!0);break;case 5:a.write(t[o],l,d,"utf8");break;default:throw new Error("unkown method")}l+=d}var g=a;return this._reset(),g}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new Ol;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var l_=Ol;(function(e){e.Diagnose=Dv,e.Decoder=Ry,e.Encoder=l_,e.Simple=Ty,e.Tagged=ky,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(Sy);const Oy=yp(Sy);function vr(e){return lo(pv.create().update(new Uint8Array(e)).digest())}function za(e){if(e instanceof Oy.Tagged)return za(e.value);if(typeof e=="string")return Fy(e);if(typeof e=="number")return vr(Je(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return vr(e);if(Array.isArray(e)){const t=e.map(za);return vr(Er(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return vr(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return za(e.toHash());if(typeof e=="object")return Fl(e);if(typeof e=="bigint")return vr(Je(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const Fy=e=>{const t=new TextEncoder().encode(e);return vr(t)};function Oo(e){return Fl(e)}function Fl(e){const n=Object.entries(e).filter(([,o])=>o!==void 0).map(([o,a])=>{const l=Fy(o),d=za(a);return[l,d]}).sort(([o],[a])=>$g(o,a)),i=Er(...n.map(o=>Er(...o)));return vr(i)}var c_=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const u_=new TextEncoder().encode(`
ic-request`);class Zd{getPrincipal(){return this._principal||(this._principal=be.selfAuthenticating(new Uint8Array(this.getPublicKey().toDer()))),this._principal}async transformRequest(t){const{body:r}=t,n=c_(t,["body"]),i=Oo(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_pubkey:this.getPublicKey().toDer(),sender_sig:await this.sign(Er(u_,i))}})}}class Pl{getPrincipal(){return be.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var qt={},Rs={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});const f_=9007199254740992;function cn(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((i,s)=>i+s.byteLength,0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const i of t)r.set(new Uint8Array(i),n),n+=i.byteLength;return r.buffer}function Nr(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(t-24);r=r.slice(-n*2).padStart(n*2,"0");const i=[(e<<5)+t].concat(r.match(/../g).map(s=>parseInt(s,16)));return new Uint8Array(i).buffer}function pc(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return Nr(e,r,t.toString(16))}}function Py(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=(n&1023)<<10|e.charCodeAt(r)&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return cn(new Uint8Array(pc(3,e.length)),new Uint8Array(t))}function d_(e,t){if(e==14277111)return cn(new Uint8Array([217,217,247]),t);if(e<24)return cn(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,n=2**(r-24),i=e.toString(16).slice(-n*2).padStart(n*2,"0"),s=[192+r].concat(i.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(s).buffer}}Ve.tagged=d_;function Yo(e){return new Uint8Array(e).buffer}Ve.raw=Yo;function Qd(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Ve.uSmall=Qd;function Cy(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),Nr(0,24,e)}Ve.u8=Cy;function Iy(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),Nr(0,25,e)}Ve.u16=Iy;function Uy(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),Nr(0,26,e)}Ve.u32=Uy;function Xd(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return Nr(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),f_),e=e.toString(16),Nr(0,27,e)}Ve.u64=Xd;function My(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return Qd(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Ve.iSmall=My;function $y(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),Nr(1,24,e)}Ve.i8=$y;function zy(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),Nr(1,25,e)}Ve.i16=zy;function Vy(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),Nr(1,26,e)}Ve.i32=Vy;function Hy(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,n=e.split("").reduceRight((i,s)=>{if(r)return s+i;let o=parseInt(s,16)-1;return o>=0?(r=!0,o.toString(16)+i):"f"+i},"");return r?Nr(1,27,n):Xd(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),Nr(1,27,e)}Ve.i64=Hy;function h_(e){return e>=0?e<24?Qd(e):e<=255?Cy(e):e<=65535?Iy(e):e<=4294967295?Uy(e):Xd(e):e>=-24?My(e):e>=-255?$y(e):e>=-65535?zy(e):e>=-4294967295?Vy(e):Hy(e)}Ve.number=h_;function p_(e){return cn(pc(2,e.byteLength),e)}Ve.bytes=p_;function m_(e){return Py(e)}Ve.string=m_;function g_(e){return cn(pc(4,e.length),...e)}Ve.array=g_;function y_(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([n],[i])=>n.localeCompare(i))),cn(pc(5,e.size),...r.map(([n,i])=>cn(Py(n),i)))}Ve.map=y_;function w_(e){const t=new Float32Array([e]);return cn(new Uint8Array([224+26]),new Uint8Array(t.buffer))}Ve.singleFloat=w_;function x_(e){const t=new Float64Array([e]);return cn(new Uint8Array([224+27]),new Uint8Array(t.buffer))}Ve.doubleFloat=x_;function v_(e){return e?qy():Gy()}Ve.bool=v_;function qy(){return Yo(new Uint8Array([224+21]))}Ve.true_=qy;function Gy(){return Yo(new Uint8Array([224+20]))}Ve.false_=Gy;function __(){return Yo(new Uint8Array([224+22]))}Ve.null_=__;function b_(){return Yo(new Uint8Array([224+23]))}Ve.undefined_=b_;var E_=hs&&hs.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(Rs,"__esModule",{value:!0});const pr=E_(Ve),S_=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class Ky{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return pr.undefined_();case"boolean":return pr.bool(t);case"number":return Math.floor(t)===t?pr.number(t):pr.doubleFloat(t);case"string":return pr.string(t);case"object":if(t===null)return pr.null_();if(Array.isArray(t))return pr.array(t.map(r=>this._serializer.serializeValue(r)));if(S_.find(r=>t instanceof r))return pr.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[n,i]of t.entries())r.set(n,this._serializer.serializeValue(i));return pr.map(r,this._stable)}else{const r=new Map;for(const[n,i]of Object.entries(t))r.set(n,this._serializer.serializeValue(i));return pr.map(r,this._stable)}default:throw new Error("Invalid value.")}}}Rs.JsonDefaultCborEncoder=Ky;class Ly{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}Rs.ToCborEncoder=Ly;class Wy{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new Ky(r,t)),r.addEncoder(new Ly),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const n of this._encoders)(!r||n.priority>r.priority)&&n.match(t)&&(r=n);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}Rs.CborSerializer=Wy;class N_ extends Wy{serialize(t){return pr.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}Rs.SelfDescribeCborSerializer=N_;(function(e){function t(i){for(var s in i)e.hasOwnProperty(s)||(e[s]=i[s])}var r=hs&&hs.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var o in i)Object.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s.default=i,s};Object.defineProperty(e,"__esModule",{value:!0}),t(Rs);const n=r(Ve);e.value=n})(qt);class T_{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return qt.value.bytes(t.toUint8Array())}}class k_{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return qt.value.bytes(new Uint8Array(t))}}class A_{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?qt.value.tagged(2,qt.value.bytes(nn(t.toString(16)))):qt.value.tagged(3,qt.value.bytes(nn((BigInt("-1")*t).toString(16))))}}const mc=qt.SelfDescribeCborSerializer.withDefaultEncoders(!0);mc.addEncoder(new T_);mc.addEncoder(new k_);mc.addEncoder(new A_);var Rf;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(Rf||(Rf={}));function lu(e){return mc.serialize(e)}function Bh(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}class B_ extends Oy.Decoder{createByteString(t){return Er(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function en(e){const t=new Uint8Array(e),r=new B_({size:t.byteLength,tags:{2:n=>Bh(n),3:n=>-Bh(n),[Rf.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${Le(t)}`)}}const _a=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var Of;(function(e){e.Call="call"})(Of||(Of={}));function Ff(){const e=new ArrayBuffer(16),t=new DataView(e),r=_a(),n=_a(),i=_a(),s=_a();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,i),t.setUint32(12,s),e}const jh=BigInt(1e6),j_=60*1e3;class ba{constructor(t){if(t<90*1e3){const a=BigInt(Date.now()+t)*jh/BigInt(1e9);this._value=a*BigInt(1e9);return}const s=BigInt(Math.floor(Date.now()+t-j_))*jh/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=s}toCBOR(){return qt.value.u64(this._value.toString(16),16)}toHash(){return Je(this._value)}}function Rh(e=Ff){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function Ls(e){const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}class cu extends Xe{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class R_ extends Xe{constructor(t,r,n,i,s,o){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class O_ extends Xe{constructor(t,r,n,i,s,o){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class F_ extends Xe{constructor(t,r,n,i,s,o){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=s,this.ingressExpiry=o,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jd=BigInt(0),Cl=BigInt(1);function Fo(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Yy(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Jd:BigInt("0x"+e)}function Vr(e){return Yy(bs(e))}function Po(e){return bt(e),Yy(bs(Uint8Array.from(e).reverse()))}function wt(e,t){return Fg(e.toString(16).padStart(t*2,"0"))}function gc(e,t){return wt(e,t).reverse()}function Ut(e,t,r){let n;if(typeof t=="string")try{n=Fg(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(Vd(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}const uu=e=>typeof e=="bigint"&&Jd<=e;function Dy(e,t,r){return uu(e)&&uu(t)&&uu(r)&&t<=e&&e<r}function Ws(e,t,r,n){if(!Dy(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function co(e){let t;for(t=0;e>Jd;e>>=Cl,t+=1);return t}function P_(e,t){return e>>BigInt(t)&Cl}const fs=e=>(Cl<<BigInt(e))-Cl;function C_(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function Do(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(i,s,o){const a=e[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(t).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}const Oh=()=>{throw new Error("not implemented")};function Co(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const s=e(r,...n);return t.set(r,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kt=BigInt(0),vt=BigInt(1),oi=BigInt(2),I_=BigInt(3),Zy=BigInt(4),Qy=BigInt(5),Xy=BigInt(8);function it(e,t){const r=e%t;return r>=Kt?r:t+r}function Ar(e,t,r){let n=e;for(;t-- >Kt;)n*=n,n%=r;return n}function Fh(e,t){if(e===Kt)throw new Error("invert: expected non-zero number");if(t<=Kt)throw new Error("invert: expected positive modulus, got "+t);let r=it(e,t),n=t,i=Kt,s=vt;for(;r!==Kt;){const a=n/r,l=n%r,d=i-s*a;n=r,r=l,i=s,s=d}if(n!==vt)throw new Error("invert: does not exist");return it(i,t)}function Jy(e,t){const r=(e.ORDER+vt)/Zy,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function U_(e,t){const r=(e.ORDER-Qy)/Xy,n=e.mul(t,oi),i=e.pow(n,r),s=e.mul(t,i),o=e.mul(e.mul(s,oi),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function M_(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-vt,r=0;for(;t%oi===Kt;)t/=oi,r++;let n=oi;const i=Ni(e);for(;Il(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Jy;let s=i.pow(n,t);const o=(t+vt)/oi;return function(l,d){if(l.is0(d))return d;if(Il(l,d)!==1)throw new Error("Cannot find square root");let g=r,w=l.mul(l.ONE,s),x=l.pow(d,t),b=l.pow(d,o);for(;!l.eql(x,l.ONE);){if(l.is0(x))return l.ZERO;let m=1,O=l.sqr(x);for(;!l.eql(O,l.ONE);)if(m++,O=l.sqr(O),m===g)throw new Error("Cannot find square root");const P=vt<<BigInt(g-m-1),S=l.pow(w,P);g=m,w=l.sqr(S),x=l.mul(x,w),b=l.mul(b,S)}return b}}function $_(e){return e%Zy===I_?Jy:e%Xy===Qy?U_:M_(e)}const z_=(e,t)=>(it(e,t)&vt)===vt,V_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e1(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=V_.reduce((n,i)=>(n[i]="function",n),t);return Do(e,r),e}function Va(e,t,r){if(r<Kt)throw new Error("invalid exponent, negatives unsupported");if(r===Kt)return e.ONE;if(r===vt)return t;let n=e.ONE,i=t;for(;r>Kt;)r&vt&&(n=e.mul(n,i)),i=e.sqr(i),r>>=vt;return n}function ui(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((o,a,l)=>e.is0(a)?o:(n[l]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,l)=>e.is0(a)?o:(n[l]=e.mul(o,n[l]),e.mul(o,a)),s),n}function Il(e,t){const r=(e.ORDER-vt)/oi,n=e.pow(t,r),i=e.eql(n,e.ONE),s=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function H_(e,t){t!==void 0&&L2(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Ni(e,t,r=!1,n={}){if(e<=Kt)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const g=t;g.BITS&&(i=g.BITS),g.sqrt&&(s=g.sqrt),typeof g.isLE=="boolean"&&(r=g.isLE)}else typeof t=="number"&&(i=t),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=H_(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const d=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:a,MASK:fs(o),ZERO:Kt,ONE:vt,create:g=>it(g,e),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return Kt<=g&&g<e},is0:g=>g===Kt,isValidNot0:g=>!d.is0(g)&&d.isValid(g),isOdd:g=>(g&vt)===vt,neg:g=>it(-g,e),eql:(g,w)=>g===w,sqr:g=>it(g*g,e),add:(g,w)=>it(g+w,e),sub:(g,w)=>it(g-w,e),mul:(g,w)=>it(g*w,e),pow:(g,w)=>Va(d,g,w),div:(g,w)=>it(g*Fh(w,e),e),sqrN:g=>g*g,addN:(g,w)=>g+w,subN:(g,w)=>g-w,mulN:(g,w)=>g*w,inv:g=>Fh(g,e),sqrt:s||(g=>(l||(l=$_(e)),l(d,g))),toBytes:g=>r?gc(g,a):wt(g,a),fromBytes:g=>{if(g.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+g.length);return r?Po(g):Vr(g)},invertBatch:g=>ui(d,g),cmov:(g,w,x)=>x?w:g});return Object.freeze(d)}function t1(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function r1(e){const t=t1(e);return t+Math.ceil(t/2)}function q_(e,t,r=!1){const n=e.length,i=t1(t),s=r1(t);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Po(e):Vr(e),a=it(o,t-vt)+vt;return r?gc(a,i):wt(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ss=BigInt(0),ai=BigInt(1);function uo(e,t){const r=t.negate();return e?r:t}function Ul(e,t,r){const n=t==="pz"?o=>o.pz:o=>o.ez,i=ui(e.Fp,r.map(n));return r.map((o,a)=>o.toAffine(i[a])).map(e.fromAffine)}function n1(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function fu(e,t){n1(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,s=fs(e),o=BigInt(e);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function Ph(e,t,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(e&i),l=e>>o;a>n&&(a-=s,l+=ai);const d=t*n,g=d+Math.abs(a)-1,w=a===0,x=a<0,b=t%2!==0;return{nextN:l,offset:g,isZero:w,isNeg:x,isNegF:b,offsetF:d}}function G_(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function K_(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const du=new WeakMap,i1=new WeakMap;function hu(e){return i1.get(e)||1}function Ch(e){if(e!==Ss)throw new Error("invalid wNAF")}function s1(e,t){return{constTimeNegate:uo,hasPrecomputes(r){return hu(r)!==1},unsafeLadder(r,n,i=e.ZERO){let s=r;for(;n>Ss;)n&ai&&(i=i.add(s)),s=s.double(),n>>=ai;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=fu(n,t),o=[];let a=r,l=a;for(let d=0;d<i;d++){l=a,o.push(l);for(let g=1;g<s;g++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=e.ZERO,o=e.BASE;const a=fu(r,t);for(let l=0;l<a.windows;l++){const{nextN:d,offset:g,isZero:w,isNeg:x,isNegF:b,offsetF:m}=Ph(i,l,a);i=d,w?o=o.add(uo(b,n[m])):s=s.add(uo(x,n[g]))}return Ch(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=e.ZERO){const o=fu(r,t);for(let a=0;a<o.windows&&i!==Ss;a++){const{nextN:l,offset:d,isZero:g,isNeg:w}=Ph(i,a,o);if(i=l,!g){const x=n[d];s=s.add(w?x.negate():x)}}return Ch(i),s},getPrecomputes(r,n,i){let s=du.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),du.set(n,s))),s},wNAFCached(r,n,i){const s=hu(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=hu(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){n1(n,t),i1.set(r,n),du.delete(r)}}}function L_(e,t,r,n){let i=t,s=e.ZERO,o=e.ZERO;for(;r>Ss||n>Ss;)r&ai&&(s=s.add(i)),n&ai&&(o=o.add(i)),i=i.double(),r>>=ai,n>>=ai;return{p1:s,p2:o}}function o1(e,t,r,n){G_(r,e),K_(n,t);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=co(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const d=fs(l),g=new Array(Number(d)+1).fill(o),w=Math.floor((t.BITS-1)/l)*l;let x=o;for(let b=w;b>=0;b-=l){g.fill(o);for(let O=0;O<s;O++){const P=n[O],S=Number(P>>BigInt(b)&d);g[S]=g[S].add(r[O])}let m=o;for(let O=g.length-1,P=o;O>0;O--)P=P.add(g[O]),m=m.add(P);if(x=x.add(m),b!==0)for(let O=0;O<l;O++)x=x.double()}return x}function Ih(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return e1(t),t}else return Ni(e)}function a1(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const l=t[a];if(!(typeof l=="bigint"&&l>Ss))throw new Error(`CURVE.${a} must be positive bigint`)}const n=Ih(t.p,r.Fp),i=Ih(t.n,r.Fn),o=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const a of o)if(!n.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}const W_=Vr;function En(e,t){if(Io(e),Io(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function Y_(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Io(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function D_(e,t,r,n){bt(e),bt(t),Io(r),t.length>255&&(t=n(tt(ac("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(r>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=tt(t,En(t.length,1)),l=En(0,s),d=En(r,2),g=new Array(o),w=n(tt(l,e,d,En(0,1),a));g[0]=n(tt(w,En(1,1),a));for(let b=1;b<=o;b++){const m=[Y_(w,g[b-1]),En(b+1,1),a];g[b]=n(tt(...m))}return tt(...g).slice(0,r)}function Z_(e,t,r,n,i){if(bt(e),bt(t),Io(r),t.length>255){const s=Math.ceil(2*n/8);t=i.create({dkLen:s}).update(ac("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(En(r,2)).update(t).update(En(t.length,1)).digest()}function Uh(e,t,r){Do(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:i,m:s,hash:o,expand:a,DST:l}=r;if(!Vd(l)&&typeof l!="string")throw new Error("DST must be string or uint8array");if(!C_(r.hash))throw new Error("expected valid hash");bt(e),Io(t);const d=typeof l=="string"?ac(l):l,g=n.toString(2).length,w=Math.ceil((g+i)/8),x=t*s*w;let b;if(a==="xmd")b=D_(e,d,x,o);else if(a==="xof")b=Z_(e,d,x,i,o);else if(a==="_internal_pass")b=e;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(t);for(let O=0;O<t;O++){const P=new Array(s);for(let S=0;S<s;S++){const E=w*(S+O*s),N=b.subarray(E,E+w);P[S]=it(W_(N),n)}m[O]=P}return m}function l1(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[s,o,a,l]=r.map(w=>w.reduce((x,b)=>e.add(e.mul(x,n),b))),[d,g]=ui(e,[o,l],!0);return n=e.mul(s,d),i=e.mul(i,e.mul(a,g)),{x:n,y:i}}}function Mh(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(s){return e.fromAffine(t(s))}function i(s){const o=s.clearCofactor();return o.equals(e.ZERO)?e.ZERO:(o.assertValidity(),o)}return{defaults:r,hashToCurve(s,o){const a=r.DST?r.DST:{},l=Object.assign({},r,a,o),d=Uh(s,2,l),g=n(d[0]),w=n(d[1]);return i(g.add(w))},encodeToCurve(s,o){const a=r.encodeDST?r.encodeDST:{},l=Object.assign({},r,a,o),d=Uh(s,1,l);return i(n(d[0]))},mapToCurve(s){if(!Array.isArray(s))throw new Error("expected array of bigints");for(const o of s)if(typeof o!="bigint")throw new Error("expected array of bigints");return i(n(s))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pf=BigInt(0),Vt=BigInt(1),xn=BigInt(2),es=BigInt(3),Cf=BigInt(4);function c1(e,t,r){function n(i){const s=e.sqr(i),o=e.mul(s,i);return e.add(e.add(o,e.mul(i,t)),r)}return n}function u1(e,t,r){const{BYTES:n}=e;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Ut("private key",s);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=e.create(o)),!e.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function Q_(e,t={}){const{Fp:r,Fn:n}=a1("weierstrass",e,t),{h:i,n:s}=e;Do(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=t;if(o&&(!r.is0(e.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(L,G,z){const{x:ie,y:se}=G.toAffine(),j=r.toBytes(ie);if(Fo("isCompressed",z),z){a();const $=!r.isOdd(se);return tt(X_($),j)}else return tt(Uint8Array.of(4),j,r.toBytes(se))}function d(L){bt(L);const G=r.BYTES,z=G+1,ie=2*G+1,se=L.length,j=L[0],$=L.subarray(1);if(se===z&&(j===2||j===3)){const H=r.fromBytes($);if(!r.isValid(H))throw new Error("bad point: is not on curve, wrong x");const Q=x(H);let te;try{te=r.sqrt(Q)}catch(le){const oe=le instanceof Error?": "+le.message:"";throw new Error("bad point: is not on curve, sqrt error"+oe)}a();const Z=r.isOdd(te);return(j&1)===1!==Z&&(te=r.neg(te)),{x:H,y:te}}else if(se===ie&&j===4){const H=r.fromBytes($.subarray(G*0,G*1)),Q=r.fromBytes($.subarray(G*1,G*2));if(!b(H,Q))throw new Error("bad point: is not on curve");return{x:H,y:Q}}else throw new Error(`bad point: got length ${se}, expected compressed=${z} or uncompressed=${ie}`)}const g=t.toBytes||l,w=t.fromBytes||d,x=c1(r,e.a,e.b);function b(L,G){const z=r.sqr(G),ie=x(L);return r.eql(z,ie)}if(!b(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(e.a,es),Cf),O=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(m,O)))throw new Error("bad curve params: a or b");function P(L,G,z=!1){if(!r.isValid(G)||z&&r.is0(G))throw new Error(`bad point coordinate ${L}`);return G}function S(L){if(!(L instanceof k))throw new Error("ProjectivePoint expected")}const E=Co((L,G)=>{const{px:z,py:ie,pz:se}=L;if(r.eql(se,r.ONE))return{x:z,y:ie};const j=L.is0();G==null&&(G=j?r.ONE:r.inv(se));const $=r.mul(z,G),H=r.mul(ie,G),Q=r.mul(se,G);if(j)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Q,r.ONE))throw new Error("invZ was invalid");return{x:$,y:H}}),N=Co(L=>{if(L.is0()){if(t.allowInfinityPoint&&!r.is0(L.py))return;throw new Error("bad point: ZERO")}const{x:G,y:z}=L.toAffine();if(!r.isValid(G)||!r.isValid(z))throw new Error("bad point: x or y not field elements");if(!b(G,z))throw new Error("bad point: equation left != right");if(!L.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function V(L,G,z,ie,se){return z=new k(r.mul(z.px,L),z.py,z.pz),G=uo(ie,G),z=uo(se,z),G.add(z)}class k{constructor(G,z,ie){this.px=P("x",G),this.py=P("y",z,!0),this.pz=P("z",ie),Object.freeze(this)}static fromAffine(G){const{x:z,y:ie}=G||{};if(!G||!r.isValid(z)||!r.isValid(ie))throw new Error("invalid affine point");if(G instanceof k)throw new Error("projective point not allowed");return r.is0(z)&&r.is0(ie)?k.ZERO:new k(z,ie,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(G){return Ul(k,"pz",G)}static fromBytes(G){return bt(G),k.fromHex(G)}static fromHex(G){const z=k.fromAffine(w(Ut("pointHex",G)));return z.assertValidity(),z}static fromPrivateKey(G){const z=u1(n,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return k.BASE.multiply(z(G))}static msm(G,z){return o1(k,n,G,z)}precompute(G=8,z=!0){return U.setWindowSize(this,G),z||this.multiply(es),this}_setWindowSize(G){this.precompute(G)}assertValidity(){N(this)}hasEvenY(){const{y:G}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(G)}equals(G){S(G);const{px:z,py:ie,pz:se}=this,{px:j,py:$,pz:H}=G,Q=r.eql(r.mul(z,H),r.mul(j,se)),te=r.eql(r.mul(ie,H),r.mul($,se));return Q&&te}negate(){return new k(this.px,r.neg(this.py),this.pz)}double(){const{a:G,b:z}=e,ie=r.mul(z,es),{px:se,py:j,pz:$}=this;let H=r.ZERO,Q=r.ZERO,te=r.ZERO,Z=r.mul(se,se),ne=r.mul(j,j),le=r.mul($,$),oe=r.mul(se,j);return oe=r.add(oe,oe),te=r.mul(se,$),te=r.add(te,te),H=r.mul(G,te),Q=r.mul(ie,le),Q=r.add(H,Q),H=r.sub(ne,Q),Q=r.add(ne,Q),Q=r.mul(H,Q),H=r.mul(oe,H),te=r.mul(ie,te),le=r.mul(G,le),oe=r.sub(Z,le),oe=r.mul(G,oe),oe=r.add(oe,te),te=r.add(Z,Z),Z=r.add(te,Z),Z=r.add(Z,le),Z=r.mul(Z,oe),Q=r.add(Q,Z),le=r.mul(j,$),le=r.add(le,le),Z=r.mul(le,oe),H=r.sub(H,Z),te=r.mul(le,ne),te=r.add(te,te),te=r.add(te,te),new k(H,Q,te)}add(G){S(G);const{px:z,py:ie,pz:se}=this,{px:j,py:$,pz:H}=G;let Q=r.ZERO,te=r.ZERO,Z=r.ZERO;const ne=e.a,le=r.mul(e.b,es);let oe=r.mul(z,j),he=r.mul(ie,$),Oe=r.mul(se,H),R=r.add(z,ie),Ne=r.add(j,$);R=r.mul(R,Ne),Ne=r.add(oe,he),R=r.sub(R,Ne),Ne=r.add(z,se);let ke=r.add(j,H);return Ne=r.mul(Ne,ke),ke=r.add(oe,Oe),Ne=r.sub(Ne,ke),ke=r.add(ie,se),Q=r.add($,H),ke=r.mul(ke,Q),Q=r.add(he,Oe),ke=r.sub(ke,Q),Z=r.mul(ne,Ne),Q=r.mul(le,Oe),Z=r.add(Q,Z),Q=r.sub(he,Z),Z=r.add(he,Z),te=r.mul(Q,Z),he=r.add(oe,oe),he=r.add(he,oe),Oe=r.mul(ne,Oe),Ne=r.mul(le,Ne),he=r.add(he,Oe),Oe=r.sub(oe,Oe),Oe=r.mul(ne,Oe),Ne=r.add(Ne,Oe),oe=r.mul(he,Ne),te=r.add(te,oe),oe=r.mul(ke,Ne),Q=r.mul(R,Q),Q=r.sub(Q,oe),oe=r.mul(R,he),Z=r.mul(ke,Z),Z=r.add(Z,oe),new k(Q,te,Z)}subtract(G){return this.add(G.negate())}is0(){return this.equals(k.ZERO)}multiply(G){const{endo:z}=t;if(!n.isValidNot0(G))throw new Error("invalid scalar: out of range");let ie,se;const j=$=>U.wNAFCached(this,$,k.normalizeZ);if(z){const{k1neg:$,k1:H,k2neg:Q,k2:te}=z.splitScalar(G),{p:Z,f:ne}=j(H),{p:le,f:oe}=j(te);se=ne.add(oe),ie=V(z.beta,Z,le,$,Q)}else{const{p:$,f:H}=j(G);ie=$,se=H}return k.normalizeZ([ie,se])[0]}multiplyUnsafe(G){const{endo:z}=t,ie=this;if(!n.isValid(G))throw new Error("invalid scalar: out of range");if(G===Pf||ie.is0())return k.ZERO;if(G===Vt)return ie;if(U.hasPrecomputes(this))return this.multiply(G);if(z){const{k1neg:se,k1:j,k2neg:$,k2:H}=z.splitScalar(G),{p1:Q,p2:te}=L_(k,ie,j,H);return V(z.beta,Q,te,se,$)}else return U.wNAFCachedUnsafe(ie,G)}multiplyAndAddUnsafe(G,z,ie){const se=this.multiplyUnsafe(z).add(G.multiplyUnsafe(ie));return se.is0()?void 0:se}toAffine(G){return E(this,G)}isTorsionFree(){const{isTorsionFree:G}=t;return i===Vt?!0:G?G(k,this):U.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:G}=t;return i===Vt?this:G?G(k,this):this.multiplyUnsafe(i)}toBytes(G=!0){return Fo("isCompressed",G),this.assertValidity(),g(k,this,G)}toRawBytes(G=!0){return this.toBytes(G)}toHex(G=!0){return bs(this.toBytes(G))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}k.BASE=new k(e.Gx,e.Gy,r.ONE),k.ZERO=new k(r.ZERO,r.ONE,r.ZERO),k.Fp=r,k.Fn=n;const I=n.BITS,U=s1(k,t.endo?Math.ceil(I/2):I);return k}function $h(e){const{CURVE:t,curveOpts:r}=J_(e),n=Q_(t,r);return eb(e,n)}function X_(e){return Uint8Array.of(e?2:3)}function J_(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=Ni(t.n,e.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function eb(e,t){const{Fp:r,Fn:n}=t;function i(a){return Dy(a,Vt,n.ORDER)}const s=c1(r,e.a,e.b),o=u1(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:o,weierstrassEquation:s,isWithinCurveOrder:i})}function tb(e,t){const r=e.ORDER;let n=Pf;for(let m=r-Vt;m%xn===Pf;m/=xn)n+=Vt;const i=n,s=xn<<i-Vt-Vt,o=s*xn,a=(r-Vt)/o,l=(a-Vt)/xn,d=o-Vt,g=s,w=e.pow(t,a),x=e.pow(t,(a+Vt)/xn);let b=(m,O)=>{let P=w,S=e.pow(O,d),E=e.sqr(S);E=e.mul(E,O);let N=e.mul(m,E);N=e.pow(N,l),N=e.mul(N,S),S=e.mul(N,O),E=e.mul(N,m);let V=e.mul(E,S);N=e.pow(V,g);let k=e.eql(N,e.ONE);S=e.mul(E,x),N=e.mul(V,P),E=e.cmov(S,E,k),V=e.cmov(N,V,k);for(let I=i;I>Vt;I--){let U=I-xn;U=xn<<U-Vt;let L=e.pow(V,U);const G=e.eql(L,e.ONE);S=e.mul(E,P),P=e.mul(P,P),L=e.mul(V,P),E=e.cmov(S,E,G),V=e.cmov(L,V,G)}return{isValid:k,value:E}};if(e.ORDER%Cf===es){const m=(e.ORDER-es)/Cf,O=e.sqrt(e.neg(t));b=(P,S)=>{let E=e.sqr(S);const N=e.mul(P,S);E=e.mul(E,N);let V=e.pow(E,m);V=e.mul(V,N);const k=e.mul(V,O),I=e.mul(e.sqr(V),S),U=e.eql(I,P);let L=e.cmov(k,V,U);return{isValid:U,value:L}}}return b}function f1(e,t){e1(e);const{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const s=tb(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return o=>{let a,l,d,g,w,x,b,m;a=e.sqr(o),a=e.mul(a,i),l=e.sqr(a),l=e.add(l,a),d=e.add(l,e.ONE),d=e.mul(d,n),g=e.cmov(i,e.neg(l),!e.eql(l,e.ZERO)),g=e.mul(g,r),l=e.sqr(d),x=e.sqr(g),w=e.mul(x,r),l=e.add(l,w),l=e.mul(l,d),x=e.mul(x,g),w=e.mul(x,n),l=e.add(l,w),b=e.mul(a,d);const{isValid:O,value:P}=s(l,x);m=e.mul(a,o),m=e.mul(m,P),b=e.cmov(b,d,O),m=e.cmov(m,P,O);const S=e.isOdd(o)===e.isOdd(m);m=e.cmov(e.neg(m),m,S);const E=ui(e,[g],!0)[0];return b=e.mul(b,E),{x:b,y:m}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rb=BigInt(0),Ea=BigInt(1),zh=BigInt(2),ts=BigInt(3);function nb(e){const t=[];for(;e>Ea;e>>=Ea)(e&Ea)===rb?t.unshift(0):(e&ts)===ts?(t.unshift(-1),e+=Ea):t.unshift(1);return t}function ib(e){const{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:s}=e.fields,o=e.params.xNegative,a=e.params.twistType,l=$h(e.G1),d=Object.assign(l,Mh(l.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),g=$h(e.G2),w=Object.assign(g,Mh(g.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults}));let x;if(a==="multiplicative")x=(de,re,ce,T,B,C)=>s.mul014(T,de,n.mul(re,B),n.mul(ce,C));else if(a==="divisive")x=(de,re,ce,T,B,C)=>s.mul034(T,n.mul(ce,C),n.mul(re,B),de);else throw new Error("bls: unknown twist type");const b=n.div(n.ONE,n.mul(n.ONE,zh));function m(de,re,ce,T){const B=n.sqr(ce),C=n.sqr(T),K=n.mulByB(n.mul(C,ts)),q=n.mul(K,ts),Y=n.sub(n.sub(n.sqr(n.add(ce,T)),C),B),y=n.sub(K,B),c=n.mul(n.sqr(re),ts),u=n.neg(Y);return de.push([y,c,u]),re=n.mul(n.mul(n.mul(n.sub(B,q),re),ce),b),ce=n.sub(n.sqr(n.mul(n.add(B,q),b)),n.mul(n.sqr(K),ts)),T=n.mul(B,Y),{Rx:re,Ry:ce,Rz:T}}function O(de,re,ce,T,B,C){const K=n.sub(ce,n.mul(C,T)),q=n.sub(re,n.mul(B,T)),Y=n.sub(n.mul(K,B),n.mul(q,C)),y=n.neg(K),c=q;de.push([Y,y,c]);const u=n.sqr(q),_=n.mul(u,q),A=n.mul(u,re),M=n.add(n.sub(_,n.mul(A,zh)),n.mul(n.sqr(K),T));return re=n.mul(q,M),ce=n.sub(n.mul(n.sub(A,M),K),n.mul(_,ce)),T=n.mul(T,_),{Rx:re,Ry:ce,Rz:T}}const P=nb(e.params.ateLoopSize),S=Co(de=>{const re=de,{x:ce,y:T}=re.toAffine(),B=ce,C=T,K=n.neg(T);let q=B,Y=C,y=n.ONE;const c=[];for(const u of P){const _=[];({Rx:q,Ry:Y,Rz:y}=m(_,q,Y,y)),u&&({Rx:q,Ry:Y,Rz:y}=O(_,q,Y,y,B,u===-1?K:C)),c.push(_)}if(e.postPrecompute){const u=c[c.length-1];e.postPrecompute(q,Y,y,B,C,O.bind(null,u))}return c});function E(de,re=!1){let ce=s.ONE;if(de.length){const T=de[0][0].length;for(let B=0;B<T;B++){ce=s.sqr(ce);for(const[C,K,q]of de)for(const[Y,y,c]of C[B])ce=x(Y,y,c,ce,K,q)}}return o&&(ce=s.conjugate(ce)),re?s.finalExponentiate(ce):ce}function N(de,re=!0){const ce=[];Ul(d.Point,"pz",de.map(({g1:T})=>T)),Ul(w.Point,"pz",de.map(({g2:T})=>T));for(const{g1:T,g2:B}of de){if(T.is0()||B.is0())throw new Error("pairing is not available for ZERO point");T.assertValidity(),B.assertValidity();const C=T.toAffine();ce.push([S(B),C.x,C.y])}return E(ce,re)}function V(de,re,ce=!0){return N([{g1:de,g2:re}],ce)}const k=e.randomBytes||Cg,I={randomPrivateKey:()=>{const de=r1(r.ORDER);return q_(k(de),r.ORDER)},calcPairingPrecomputes:S};function U(de){if(!Array.isArray(de)||de.length===0)throw new Error("expected non-empty array")}function L(de){return de instanceof d.Point?de:d.Point.fromHex(de)}function G(de){return de instanceof w.Point?de:$.fromHex(de)}function z(de,re){function ce(K){return K instanceof de.Point?K:de.Point.fromHex(K)}function T(K){return K instanceof re.Point?K:re.Point.fromHex(K)}function B(K){if(!(K instanceof re.Point))throw new Error(`expected valid message hashed to ${C?"G2":"G1"} curve`);return K}const C=re.Point.Fp.BYTES>de.Point.Fp.BYTES;return{getPublicKey(K){return de.Point.fromPrivateKey(K)},sign(K,q,Y){if(Y!=null)throw new Error("sign() expects 2 arguments");return B(K).assertValidity(),K.multiply(de.normPrivateKeyToScalar(q))},verify(K,q,Y,y){if(y!=null)throw new Error("verify() expects 3 arguments");K=T(K),Y=ce(Y);const c=Y.negate(),u=de.Point.BASE,_=B(q),A=K,X=N(C?[{g1:c,g2:_},{g1:u,g2:A}]:[{g1:_,g2:c},{g1:A,g2:u}]);return s.eql(X,s.ONE)},aggregatePublicKeys(K){U(K),K=K.map(Y=>ce(Y));const q=K.reduce((Y,y)=>Y.add(y),de.Point.ZERO);return q.assertValidity(),q},aggregateSignatures(K){U(K),K=K.map(Y=>T(Y));const q=K.reduce((Y,y)=>Y.add(y),re.Point.ZERO);return q.assertValidity(),q},hash(K,q){bt(K);const Y=q?{DST:q}:void 0;return re.hashToCurve(K,Y)},Signature:C?e.G2.Signature:e.G1.ShortSignature}}const ie=z(d,w),se=z(w,d),{ShortSignature:j}=e.G1,{Signature:$}=e.G2;function H(de,re){return de instanceof d.Point?de:se.hash(Ut("point",de),re==null?void 0:re.DST)}function Q(de,re){return de instanceof w.Point?de:ie.hash(Ut("point",de),re==null?void 0:re.DST)}function te(de){return ie.getPublicKey(de).toBytes(!0)}function Z(de){return se.getPublicKey(de).toBytes(!0)}function ne(de,re,ce){const T=Q(de,ce),B=ie.sign(T,re);return de instanceof w.Point?B:$.toBytes(B)}function le(de,re,ce){const T=H(de,ce),B=se.sign(T,re);return de instanceof d.Point?B:j.toBytes(B)}function oe(de,re,ce,T){const B=Q(re,T);return ie.verify(de,B,ce)}function he(de,re,ce,T){const B=H(re,T);return se.verify(de,B,ce)}function Oe(de){const re=ie.aggregatePublicKeys(de);return de[0]instanceof d.Point?re:re.toBytes(!0)}function R(de){const re=ie.aggregateSignatures(de);return de[0]instanceof w.Point?re:$.toBytes(re)}function Ne(de){const re=se.aggregateSignatures(de);return de[0]instanceof d.Point?re:j.toBytes(re)}function ke(de,re,ce,T){if(U(re),ce.length!==re.length)throw new Error("amount of public keys and messages should be equal");const B=G(de),C=re.map(y=>Q(y,T)),K=ce.map(L),q=new Map;for(let y=0;y<K.length;y++){const c=K[y],u=C[y];let _=q.get(u);_===void 0&&(_=[],q.set(u,_)),_.push(c)}const Y=[];try{for(const[y,c]of q){const u=c.reduce((_,A)=>_.add(A));Y.push({g1:u,g2:y})}return Y.push({g1:d.Point.BASE.negate(),g2:B}),s.eql(N(Y),s.ONE)}catch{return!1}}return d.Point.BASE.precompute(4),{longSignatures:ie,shortSignatures:se,millerLoopBatch:E,pairing:V,pairingBatch:N,verifyBatch:ke,curves:{G1:l.Point,G2:g.Point},fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:s},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:I,getPublicKey:te,getPublicKeyForShortSignatures:Z,sign:ne,signShortSignature:le,verify:oe,verifyShortSignature:he,aggregatePublicKeys:Oe,aggregateSignatures:R,aggregateShortSignatures:Ne,G1:d,G2:w,Signature:$,ShortSignature:j}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vh=BigInt(0),rs=BigInt(1),Dr=BigInt(2),Hh=BigInt(3);function pu(e,t,r,n,i=1,s){const o=BigInt(s===void 0?n:s),a=r**BigInt(n),l=[];for(let d=0;d<i;d++){const g=BigInt(d+1),w=[];for(let x=0,b=rs;x<n;x++){const m=(g*b-g)/o%a;w.push(e.pow(t,m)),b*=r}l.push(w)}return l}function sb(e,t,r){const n=t.pow(r,(e.ORDER-rs)/Hh),i=t.pow(r,(e.ORDER-rs)/Dr);function s(x,b){const m=t.mul(t.frobeniusMap(x,1),n),O=t.mul(t.frobeniusMap(b,1),i);return[m,O]}const o=t.pow(r,(e.ORDER**Dr-rs)/Hh),a=t.pow(r,(e.ORDER**Dr-rs)/Dr);if(!t.eql(a,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function l(x,b){return[t.mul(x,o),t.neg(b)]}const d=x=>(b,m)=>{const O=m.toAffine(),P=x(O.x,O.y);return b.fromAffine({x:P[0],y:P[1]})},g=d(s),w=d(l);return{psi:s,psi2:l,G2psi:g,G2psi2:w,PSI_X:n,PSI_Y:i,PSI2_X:o,PSI2_Y:a}}function ob(e){const{ORDER:t}=e,r=Ni(t),n=r.create(e.NONRESIDUE||BigInt(-1)),i=r.div(r.ONE,Dr),s=pu(r,n,r.ORDER,2)[0],o=({c0:j,c1:$},{c0:H,c1:Q})=>({c0:r.add(j,H),c1:r.add($,Q)}),a=({c0:j,c1:$},{c0:H,c1:Q})=>({c0:r.sub(j,H),c1:r.sub($,Q)}),l=({c0:j,c1:$},H)=>{if(typeof H=="bigint")return{c0:r.mul(j,H),c1:r.mul($,H)};const{c0:Q,c1:te}=H;let Z=r.mul(j,Q),ne=r.mul($,te);const le=r.sub(Z,ne),oe=r.sub(r.mul(r.add(j,$),r.add(Q,te)),r.add(Z,ne));return{c0:le,c1:oe}},d=({c0:j,c1:$})=>{const H=r.add(j,$),Q=r.sub(j,$),te=r.add(j,j);return{c0:r.mul(H,Q),c1:r.mul(te,$)}},g=j=>{if(j.length!==2)throw new Error("invalid tuple");const $=j.map(H=>r.create(H));return{c0:$[0],c1:$[1]}};function w(j,$){return typeof j=="bigint"&&Vh<=j&&j<$}const x=t*t,b=g(e.FP2_NONRESIDUE),m={ORDER:x,isLE:r.isLE,NONRESIDUE:b,BITS:co(x),BYTES:Math.ceil(co(x)/8),MASK:fs(co(x)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:j=>j,isValid:({c0:j,c1:$})=>w(j,x)&&w($,x),is0:({c0:j,c1:$})=>r.is0(j)&&r.is0($),isValidNot0:j=>!m.is0(j)&&m.isValid(j),eql:({c0:j,c1:$},{c0:H,c1:Q})=>r.eql(j,H)&&r.eql($,Q),neg:({c0:j,c1:$})=>({c0:r.neg(j),c1:r.neg($)}),pow:(j,$)=>Va(m,j,$),invertBatch:j=>ui(m,j),add:o,sub:a,mul:l,sqr:d,addN:o,subN:a,mulN:l,sqrN:d,div:(j,$)=>m.mul(j,typeof $=="bigint"?r.inv(r.create($)):m.inv($)),inv:({c0:j,c1:$})=>{const H=r.inv(r.create(j*j+$*$));return{c0:r.mul(H,r.create(j)),c1:r.mul(H,r.create(-$))}},sqrt:j=>{if(e.Fp2sqrt)return e.Fp2sqrt(j);const{c0:$,c1:H}=j;if(r.is0(H))return Il(r,$)===1?m.create({c0:r.sqrt($),c1:r.ZERO}):m.create({c0:r.ZERO,c1:r.sqrt(r.div($,n))});const Q=r.sqrt(r.sub(r.sqr($),r.mul(r.sqr(H),n)));let te=r.mul(r.add(Q,$),i);Il(r,te)===-1&&(te=r.sub(te,Q));const ne=r.sqrt(te),le=m.create({c0:ne,c1:r.div(r.mul(H,i),ne)});if(!m.eql(m.sqr(le),j))throw new Error("Cannot find square root");const oe=le,he=m.neg(oe),{re:Oe,im:R}=m.reim(oe),{re:Ne,im:ke}=m.reim(he);return R>ke||R===ke&&Oe>Ne?oe:he},isOdd:j=>{const{re:$,im:H}=m.reim(j),Q=$%Dr,te=$===Vh,Z=H%Dr;return BigInt(Q||te&&Z)==rs},fromBytes(j){if(j.length!==m.BYTES)throw new Error("fromBytes invalid length="+j.length);return{c0:r.fromBytes(j.subarray(0,r.BYTES)),c1:r.fromBytes(j.subarray(r.BYTES))}},toBytes:({c0:j,c1:$})=>tt(r.toBytes(j),r.toBytes($)),cmov:({c0:j,c1:$},{c0:H,c1:Q},te)=>({c0:r.cmov(j,H,te),c1:r.cmov($,Q,te)}),reim:({c0:j,c1:$})=>({re:j,im:$}),mulByNonresidue:({c0:j,c1:$})=>m.mul({c0:j,c1:$},b),mulByB:e.Fp2mulByB,fromBigTuple:g,frobeniusMap:({c0:j,c1:$},H)=>({c0:j,c1:r.mul($,s[H%2])})},O=({c0:j,c1:$,c2:H},{c0:Q,c1:te,c2:Z})=>({c0:m.add(j,Q),c1:m.add($,te),c2:m.add(H,Z)}),P=({c0:j,c1:$,c2:H},{c0:Q,c1:te,c2:Z})=>({c0:m.sub(j,Q),c1:m.sub($,te),c2:m.sub(H,Z)}),S=({c0:j,c1:$,c2:H},Q)=>{if(typeof Q=="bigint")return{c0:m.mul(j,Q),c1:m.mul($,Q),c2:m.mul(H,Q)};const{c0:te,c1:Z,c2:ne}=Q,le=m.mul(j,te),oe=m.mul($,Z),he=m.mul(H,ne);return{c0:m.add(le,m.mulByNonresidue(m.sub(m.mul(m.add($,H),m.add(Z,ne)),m.add(oe,he)))),c1:m.add(m.sub(m.mul(m.add(j,$),m.add(te,Z)),m.add(le,oe)),m.mulByNonresidue(he)),c2:m.sub(m.add(oe,m.mul(m.add(j,H),m.add(te,ne))),m.add(le,he))}},E=({c0:j,c1:$,c2:H})=>{let Q=m.sqr(j),te=m.mul(m.mul(j,$),Dr),Z=m.mul(m.mul($,H),Dr),ne=m.sqr(H);return{c0:m.add(m.mulByNonresidue(Z),Q),c1:m.add(m.mulByNonresidue(ne),te),c2:m.sub(m.sub(m.add(m.add(te,m.sqr(m.add(m.sub(j,$),H))),Z),Q),ne)}},[N,V]=pu(m,b,r.ORDER,6,2,3),k={ORDER:m.ORDER,isLE:m.isLE,BITS:3*m.BITS,BYTES:3*m.BYTES,MASK:fs(3*m.BITS),ZERO:{c0:m.ZERO,c1:m.ZERO,c2:m.ZERO},ONE:{c0:m.ONE,c1:m.ZERO,c2:m.ZERO},create:j=>j,isValid:({c0:j,c1:$,c2:H})=>m.isValid(j)&&m.isValid($)&&m.isValid(H),is0:({c0:j,c1:$,c2:H})=>m.is0(j)&&m.is0($)&&m.is0(H),isValidNot0:j=>!k.is0(j)&&k.isValid(j),neg:({c0:j,c1:$,c2:H})=>({c0:m.neg(j),c1:m.neg($),c2:m.neg(H)}),eql:({c0:j,c1:$,c2:H},{c0:Q,c1:te,c2:Z})=>m.eql(j,Q)&&m.eql($,te)&&m.eql(H,Z),sqrt:Oh,div:(j,$)=>k.mul(j,typeof $=="bigint"?r.inv(r.create($)):k.inv($)),pow:(j,$)=>Va(k,j,$),invertBatch:j=>ui(k,j),add:O,sub:P,mul:S,sqr:E,addN:O,subN:P,mulN:S,sqrN:E,inv:({c0:j,c1:$,c2:H})=>{let Q=m.sub(m.sqr(j),m.mulByNonresidue(m.mul(H,$))),te=m.sub(m.mulByNonresidue(m.sqr(H)),m.mul(j,$)),Z=m.sub(m.sqr($),m.mul(j,H)),ne=m.inv(m.add(m.mulByNonresidue(m.add(m.mul(H,te),m.mul($,Z))),m.mul(j,Q)));return{c0:m.mul(ne,Q),c1:m.mul(ne,te),c2:m.mul(ne,Z)}},fromBytes:j=>{if(j.length!==k.BYTES)throw new Error("fromBytes invalid length="+j.length);return{c0:m.fromBytes(j.subarray(0,m.BYTES)),c1:m.fromBytes(j.subarray(m.BYTES,2*m.BYTES)),c2:m.fromBytes(j.subarray(2*m.BYTES))}},toBytes:({c0:j,c1:$,c2:H})=>tt(m.toBytes(j),m.toBytes($),m.toBytes(H)),cmov:({c0:j,c1:$,c2:H},{c0:Q,c1:te,c2:Z},ne)=>({c0:m.cmov(j,Q,ne),c1:m.cmov($,te,ne),c2:m.cmov(H,Z,ne)}),fromBigSix:j=>{if(!Array.isArray(j)||j.length!==6)throw new Error("invalid Fp6 usage");return{c0:m.fromBigTuple(j.slice(0,2)),c1:m.fromBigTuple(j.slice(2,4)),c2:m.fromBigTuple(j.slice(4,6))}},frobeniusMap:({c0:j,c1:$,c2:H},Q)=>({c0:m.frobeniusMap(j,Q),c1:m.mul(m.frobeniusMap($,Q),N[Q%6]),c2:m.mul(m.frobeniusMap(H,Q),V[Q%6])}),mulByFp2:({c0:j,c1:$,c2:H},Q)=>({c0:m.mul(j,Q),c1:m.mul($,Q),c2:m.mul(H,Q)}),mulByNonresidue:({c0:j,c1:$,c2:H})=>({c0:m.mulByNonresidue(H),c1:j,c2:$}),mul1:({c0:j,c1:$,c2:H},Q)=>({c0:m.mulByNonresidue(m.mul(H,Q)),c1:m.mul(j,Q),c2:m.mul($,Q)}),mul01({c0:j,c1:$,c2:H},Q,te){let Z=m.mul(j,Q),ne=m.mul($,te);return{c0:m.add(m.mulByNonresidue(m.sub(m.mul(m.add($,H),te),ne)),Z),c1:m.sub(m.sub(m.mul(m.add(Q,te),m.add(j,$)),Z),ne),c2:m.add(m.sub(m.mul(m.add(j,H),Q),Z),ne)}}},I=pu(m,b,r.ORDER,12,1,6)[0],U=({c0:j,c1:$},{c0:H,c1:Q})=>({c0:k.add(j,H),c1:k.add($,Q)}),L=({c0:j,c1:$},{c0:H,c1:Q})=>({c0:k.sub(j,H),c1:k.sub($,Q)}),G=({c0:j,c1:$},H)=>{if(typeof H=="bigint")return{c0:k.mul(j,H),c1:k.mul($,H)};let{c0:Q,c1:te}=H,Z=k.mul(j,Q),ne=k.mul($,te);return{c0:k.add(Z,k.mulByNonresidue(ne)),c1:k.sub(k.mul(k.add(j,$),k.add(Q,te)),k.add(Z,ne))}},z=({c0:j,c1:$})=>{let H=k.mul(j,$);return{c0:k.sub(k.sub(k.mul(k.add(k.mulByNonresidue($),j),k.add(j,$)),H),k.mulByNonresidue(H)),c1:k.add(H,H)}};function ie(j,$){const H=m.sqr(j),Q=m.sqr($);return{first:m.add(m.mulByNonresidue(Q),H),second:m.sub(m.sub(m.sqr(m.add(j,$)),H),Q)}}const se={ORDER:m.ORDER,isLE:k.isLE,BITS:2*k.BITS,BYTES:2*k.BYTES,MASK:fs(2*k.BITS),ZERO:{c0:k.ZERO,c1:k.ZERO},ONE:{c0:k.ONE,c1:k.ZERO},create:j=>j,isValid:({c0:j,c1:$})=>k.isValid(j)&&k.isValid($),is0:({c0:j,c1:$})=>k.is0(j)&&k.is0($),isValidNot0:j=>!se.is0(j)&&se.isValid(j),neg:({c0:j,c1:$})=>({c0:k.neg(j),c1:k.neg($)}),eql:({c0:j,c1:$},{c0:H,c1:Q})=>k.eql(j,H)&&k.eql($,Q),sqrt:Oh,inv:({c0:j,c1:$})=>{let H=k.inv(k.sub(k.sqr(j),k.mulByNonresidue(k.sqr($))));return{c0:k.mul(j,H),c1:k.neg(k.mul($,H))}},div:(j,$)=>se.mul(j,typeof $=="bigint"?r.inv(r.create($)):se.inv($)),pow:(j,$)=>Va(se,j,$),invertBatch:j=>ui(se,j),add:U,sub:L,mul:G,sqr:z,addN:U,subN:L,mulN:G,sqrN:z,fromBytes:j=>{if(j.length!==se.BYTES)throw new Error("fromBytes invalid length="+j.length);return{c0:k.fromBytes(j.subarray(0,k.BYTES)),c1:k.fromBytes(j.subarray(k.BYTES))}},toBytes:({c0:j,c1:$})=>tt(k.toBytes(j),k.toBytes($)),cmov:({c0:j,c1:$},{c0:H,c1:Q},te)=>({c0:k.cmov(j,H,te),c1:k.cmov($,Q,te)}),fromBigTwelve:j=>({c0:k.fromBigSix(j.slice(0,6)),c1:k.fromBigSix(j.slice(6,12))}),frobeniusMap(j,$){const{c0:H,c1:Q,c2:te}=k.frobeniusMap(j.c1,$),Z=I[$%12];return{c0:k.frobeniusMap(j.c0,$),c1:k.create({c0:m.mul(H,Z),c1:m.mul(Q,Z),c2:m.mul(te,Z)})}},mulByFp2:({c0:j,c1:$},H)=>({c0:k.mulByFp2(j,H),c1:k.mulByFp2($,H)}),conjugate:({c0:j,c1:$})=>({c0:j,c1:k.neg($)}),mul014:({c0:j,c1:$},H,Q,te)=>{let Z=k.mul01(j,H,Q),ne=k.mul1($,te);return{c0:k.add(k.mulByNonresidue(ne),Z),c1:k.sub(k.sub(k.mul01(k.add($,j),H,m.add(Q,te)),Z),ne)}},mul034:({c0:j,c1:$},H,Q,te)=>{const Z=k.create({c0:m.mul(j.c0,H),c1:m.mul(j.c1,H),c2:m.mul(j.c2,H)}),ne=k.mul01($,Q,te),le=k.mul01(k.add(j,$),m.add(H,Q),te);return{c0:k.add(k.mulByNonresidue(ne),Z),c1:k.sub(le,k.add(Z,ne))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:m,Fp6:k,Fp12:se,Fp4Square:ie}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jt=BigInt(0),Ml=BigInt(1),pt=BigInt(2),yc=BigInt(3),Uo=BigInt(4),Sn=BigInt("0xd201000000010000"),ab=co(Sn),bi={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:jt,b:Uo,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},lb=Ni(bi.n),{Fp:xe,Fp2:we,Fp6:If,Fp4Square:mu,Fp12:je}=ob({ORDER:bi.p,FP2_NONRESIDUE:[Ml,Ml],Fp2mulByB:({c0:e,c1:t})=>{const r=xe.mul(e,Uo),n=xe.mul(t,Uo);return{c0:xe.sub(r,n),c1:xe.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:i}=e,{c0:s,c1:o,c2:a}=t,{first:l,second:d}=mu(r,o),{first:g,second:w}=mu(s,i),{first:x,second:b}=mu(n,a),m=we.mulByNonresidue(b);return{c0:If.create({c0:we.add(we.mul(we.sub(l,r),pt),l),c1:we.add(we.mul(we.sub(g,n),pt),g),c2:we.add(we.mul(we.sub(x,i),pt),x)}),c1:If.create({c0:we.add(we.mul(we.add(m,s),pt),m),c1:we.add(we.mul(we.add(d,o),pt),d),c2:we.add(we.mul(we.add(w,a),pt),w)})}},Fp12cyclotomicExp(e,t){let r=je.ONE;for(let n=ab-1;n>=0;n--)r=je._cyclotomicSquare(r),P_(t,n)&&(r=je.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=Sn,r=je.div(je.frobeniusMap(e,6),e),n=je.mul(je.frobeniusMap(r,2),r),i=je.conjugate(je._cyclotomicExp(n,t)),s=je.mul(je.conjugate(je._cyclotomicSquare(n)),i),o=je.conjugate(je._cyclotomicExp(s,t)),a=je.conjugate(je._cyclotomicExp(o,t)),l=je.mul(je.conjugate(je._cyclotomicExp(a,t)),je._cyclotomicSquare(i)),d=je.conjugate(je._cyclotomicExp(l,t)),g=je.frobeniusMap(je.mul(i,a),2),w=je.frobeniusMap(je.mul(o,n),3),x=je.frobeniusMap(je.mul(l,je.conjugate(n)),1),b=je.mul(je.mul(d,je.conjugate(s)),n);return je.mul(je.mul(je.mul(g,w),x),b)}}),{G2psi:qh,G2psi2:cb}=sb(xe,we,we.div(we.ONE,we.NONRESIDUE)),gu=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:xe.ORDER,m:2,k:128,expand:"xmd",hash:qd}),e0={p:we.ORDER,n:bi.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:we.ZERO,b:we.fromBigTuple([Uo,Uo]),Gx:we.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:we.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},wc=Zo(xe.toBytes(jt),{infinity:!0,compressed:!0});function xc(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function Zo(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function ub(e,t,r){const{BYTES:n,ORDER:i}=xe,s=t.is0(),{x:o,y:a}=t.toAffine();if(r){if(s)return wc.slice();const l=!!(a*pt/i);return Zo(wt(o,n),{compressed:!0,sort:l})}else return s?tt(Uint8Array.of(64),new Uint8Array(2*n-1)):tt(wt(o,n),wt(a,n))}function yu(e){e.assertValidity();const{BYTES:t,ORDER:r}=xe,{x:n,y:i}=e.toAffine();if(e.is0())return wc.slice();const s=!!(i*pt/r);return Zo(wt(n,t),{compressed:!0,sort:s})}function fb(e){const{compressed:t,infinity:r,sort:n,value:i}=xc(e),{BYTES:s,ORDER:o}=xe;if(i.length===48&&t){const a=Vr(i),l=xe.create(a&xe.MASK);if(r){if(l!==jt)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:jt,y:jt}}const d=xe.add(xe.pow(l,yc),xe.create(bi.b));let g=xe.sqrt(d);if(!g)throw new Error("invalid G1 point: compressed point");return g*pt/o!==BigInt(n)&&(g=xe.neg(g)),{x:xe.create(l),y:xe.create(g)}}else if(i.length===96&&!t){const a=Vr(i.subarray(0,s)),l=Vr(i.subarray(s));if(r){if(a!==jt||l!==jt)throw new Error("G1: non-empty point at infinity");return vc.G1.Point.ZERO.toAffine()}return{x:xe.create(a),y:xe.create(l)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Gh(e){const{infinity:t,sort:r,value:n}=xc(Ut("signatureHex",e,48)),i=xe.ORDER,s=vc.G1.Point,o=Vr(n);if(t)return s.ZERO;const a=xe.create(o&xe.MASK),l=xe.add(xe.pow(a,yc),xe.create(bi.b));let d=xe.sqrt(l);if(!d)throw new Error("invalid G1 point: compressed");const g=BigInt(r);d*pt/i!==g&&(d=xe.neg(d));const w=s.fromAffine({x:a,y:d});return w.assertValidity(),w}function db(e,t,r){const{BYTES:n,ORDER:i}=xe,s=t.is0(),{x:o,y:a}=t.toAffine();if(r){if(s)return tt(wc,wt(jt,n));const l=!!(a.c1===jt?a.c0*pt/i:a.c1*pt/i);return tt(Zo(wt(o.c1,n),{compressed:!0,sort:l}),wt(o.c0,n))}else{if(s)return tt(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:l,im:d}=we.reim(o),{re:g,im:w}=we.reim(a);return tt(wt(d,n),wt(l,n),wt(w,n),wt(g,n))}}function wu(e){e.assertValidity();const{BYTES:t}=xe;if(e.is0())return tt(wc,wt(jt,t));const{x:r,y:n}=e.toAffine(),{re:i,im:s}=we.reim(r),{re:o,im:a}=we.reim(n),d=!!((a>jt?a*pt:o*pt)/xe.ORDER&Ml),g=i;return tt(Zo(wt(s,t),{sort:d,compressed:!0}),wt(g,t))}function hb(e){const{BYTES:t,ORDER:r}=xe,{compressed:n,infinity:i,sort:s,value:o}=xc(e);if(!n&&!i&&s||!n&&i&&s||s&&i&&n)throw new Error("invalid encoding flag: "+(e[0]&224));const a=(l,d,g)=>Vr(l.slice(d,g));if(o.length===96&&n){if(i){if(o.reduce((m,O)=>m!==0?O+1:O,0)>0)throw new Error("invalid G2 point: compressed");return{x:we.ZERO,y:we.ZERO}}const l=a(o,0,t),d=a(o,t,2*t),g=we.create({c0:xe.create(d),c1:xe.create(l)}),w=we.add(we.pow(g,yc),e0.b);let x=we.sqrt(w);const b=x.c1===jt?x.c0*pt/r:x.c1*pt/r?Ml:jt;return x=s&&b>0?x:we.neg(x),{x:g,y:x}}else if(o.length===192&&!n){if(i){if(o.reduce((x,b)=>x!==0?b+1:b,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:we.ZERO,y:we.ZERO}}const l=a(o,0*t,1*t),d=a(o,1*t,2*t),g=a(o,2*t,3*t),w=a(o,3*t,4*t);return{x:we.fromBigTuple([d,l]),y:we.fromBigTuple([w,g])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function Kh(e){const{ORDER:t}=xe,{infinity:r,sort:n,value:i}=xc(Ut("signatureHex",e)),s=vc.G2.Point,o=i.length/2;if(o!==48&&o!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const a=Vr(i.slice(0,o)),l=Vr(i.slice(o));if(r)return s.ZERO;const d=xe.create(a&xe.MASK),g=xe.create(l),w=we.create({c0:g,c1:d}),x=we.add(we.pow(w,yc),e0.b);let b=we.sqrt(x);if(!b)throw new Error("Failed to find a square root");const{re:m,im:O}=we.reim(b),P=BigInt(n),S=O>jt&&O*pt/t!==P,E=O===jt&&m*pt/t!==P;(S||E)&&(b=we.neg(b));const N=s.fromAffine({x:w,y:b});return N.assertValidity(),N}const vc=ib({fields:{Fp:xe,Fp2:we,Fp6:If,Fp12:je,Fr:lb},G1:{...bi,Fp:xe,htfDefaults:{...gu,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(xe.mul(t.px,r),t.py,t.pz);return t.multiplyUnsafe(Sn).negate().multiplyUnsafe(Sn).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(Sn).add(t),mapToCurve:wb,fromBytes:fb,toBytes:ub,ShortSignature:{fromBytes(e){return bt(e),Gh(e)},fromHex(e){return Gh(e)},toBytes(e){return yu(e)},toRawBytes(e){return yu(e)},toHex(e){return bs(yu(e))}}},G2:{...e0,Fp:we,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...gu},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:xb,isTorsionFree:(e,t)=>t.multiplyUnsafe(Sn).negate().equals(qh(e,t)),clearCofactor:(e,t)=>{const r=Sn;let n=t.multiplyUnsafe(r).negate(),i=qh(e,t),s=t.double();return s=cb(e,s),s=s.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),s=s.add(i),s=s.subtract(n),s.subtract(t)},fromBytes:hb,toBytes:db,Signature:{fromBytes(e){return bt(e),Kh(e)},fromHex(e){return Kh(e)},toBytes(e){return wu(e)},toRawBytes(e){return wu(e)},toHex(e){return bs(wu(e))}}},params:{ateLoopSize:Sn,r:bi.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:gu,hash:qd}),pb=l1(we,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>we.fromBigTuple(t.map(BigInt))))),mb=l1(xe,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),gb=f1(xe,{A:xe.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:xe.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:xe.create(BigInt(11))}),yb=f1(we,{A:we.create({c0:xe.create(jt),c1:xe.create(BigInt(240))}),B:we.create({c0:xe.create(BigInt(1012)),c1:xe.create(BigInt(1012))}),Z:we.create({c0:xe.create(BigInt(-2)),c1:xe.create(BigInt(-1))})});function wb(e){const{x:t,y:r}=gb(xe.create(e[0]));return mb(t,r)}function xb(e){const{x:t,y:r}=yb(we.fromBigTuple(e));return pb(t,r)}function vb(e,t,r){const n=typeof e=="string"?e:Le(e),i=typeof t=="string"?t:Le(t),s=typeof r=="string"?r:Le(r);return vc.verifyShortSignature(i,s,n)}const d1=e=>dt(new js(e)),t0=e=>{const t=d1(e);return new Date(Number(t)/1e6)};var _b=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},bb=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ha;class Cr extends Xe{constructor(t){super(`Invalid certificate: ${t}`)}}var Zt;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(Zt||(Zt={}));function Eb(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]>n[i])return!0;return!1}class fi{constructor(t,r,n,i,s=5,o=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=i,this._maxAgeInMinutes=s,Ha.set(this,!1),_b(this,Ha,o,"f"),this.cert=en(new Uint8Array(t))}static async create(t){const r=fi.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=vb),new fi(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return Ns(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await qa(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,i=Nb(r),s=Er(Ys("ic-state-root"),t);let o=!1;const a=or(this.lookup(["time"]));if(!a)throw new Cr("Certificate does not contain a time");if(!bb(this,Ha,"f")){const d=this._maxAgeInMinutes*60*1e3,g=Date.now(),w=g-d,x=g+3e5,b=t0(a);if(b.getTime()<w)throw new Cr(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+b.toISOString()+" Current time: "+new Date(g).toISOString());if(b.getTime()>x)throw new Cr("Certificate is signed more than 5 minutes in the future. Certificate time: "+b.toISOString()+" Current time: "+new Date(g).toISOString())}try{o=await this._blsVerify(new Uint8Array(i),new Uint8Array(n),new Uint8Array(s))}catch{o=!1}if(!o)throw new Cr("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await fi.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new Cr("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==Qb&&!h1({canisterId:this._canisterId,subnetId:be.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new Cr(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Le(t.subnet_id)}`);const n=or(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!n)throw new Error(`Could not find subnet key for subnet 0x${Le(t.subnet_id)}`);return n}}Ha=new WeakMap;const Vs=nn("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),Sb=96;function Nb(e){const t=Vs.byteLength+Sb;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,Vs.byteLength);if(!Ko(r,Vs))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${Vs}, but get ${r}`);return e.slice(Vs.byteLength)}function or(e){if(e.status===at.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function qa(e){switch(e[0]){case Zt.Empty:return vr(Ys("ic-hashtree-empty"));case Zt.Pruned:return e[1];case Zt.Leaf:return vr(Er(Ys("ic-hashtree-leaf"),e[1]));case Zt.Labeled:return vr(Er(Ys("ic-hashtree-labeled"),e[1],await qa(e[2])));case Zt.Fork:return vr(Er(Ys("ic-hashtree-fork"),await qa(e[1]),await qa(e[2])));default:throw new Error("unreachable")}}function Ys(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return Er(t,r)}var at;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(at||(at={}));var Zr;(function(e){e.Less="less",e.Greater="greater"})(Zr||(Zr={}));function Ns(e,t){if(e.length===0)switch(t[0]){case Zt.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:at.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:at.Found,value:t[1].buffer}:{status:at.Found,value:t[1]}}default:return{status:at.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=Ga(r,t);switch(n.status){case at.Found:return Ns(e.slice(1),n.value);case Zr.Greater:case Zr.Less:return{status:at.Absent};default:return n}}function Uf(e){switch(e[0]){case Zt.Empty:return[];case Zt.Fork:return Uf(e[1]).concat(Uf(e[2]));default:return[e]}}function Ga(e,t){switch(t[0]){case Zt.Labeled:return Eb(e,t[1])?{status:Zr.Greater}:Ko(e,t[1])?{status:at.Found,value:t[2]}:{status:Zr.Less};case Zt.Fork:const r=Ga(e,t[1]);switch(r.status){case Zr.Greater:{const n=Ga(e,t[2]);return n.status===Zr.Less?{status:at.Absent}:n}case at.Unknown:{let n=Ga(e,t[2]);return n.status===Zr.Less?{status:at.Unknown}:n}default:return r}case Zt.Pruned:return{status:at.Unknown};default:return{status:at.Absent}}}function h1(e){const{canisterId:t,subnetId:r,tree:n}=e,i=Ns(["subnet",r.toUint8Array(),"canister_ranges"],n);if(i.status!==at.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return en(i.value).map(l=>[be.fromUint8Array(l[0]),be.fromUint8Array(l[1])]).some(l=>l[0].ltEq(t)&&l[1].gtEq(t))}class Tb{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}}const p1=async e=>{const{agent:t,paths:r}=e,n=be.from(e.canisterId),i=[...new Set(r)],s=i.map(l=>Mf(l,n)),o=new Map,a=i.map((l,d)=>(async()=>{var g;try{const w=await t.readState(n,{paths:[s[d]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const x=await fi.create({certificate:w.certificate,rootKey:t.rootKey,canisterId:n,disableTimeVerification:!0}),b=(P,S)=>{if(S==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const E=m1(w.certificate,n,t.rootKey);return{path:S,data:E}}else return{path:S,data:or(P.lookup(Mf(S,n)))}},{path:m,data:O}=b(x,i[d]);if(!O)console.warn(`Expected to find result for path ${m}, but instead found nothing.`),typeof m=="string"?o.set(m,null):o.set(m.key,null);else switch(m){case"time":{o.set(m,t0(O));break}case"controllers":{o.set(m,Ab(O));break}case"module_hash":{o.set(m,Lh(O));break}case"subnet":{o.set(m,O);break}case"candid":{o.set(m,new TextDecoder().decode(O));break}default:if(typeof m!="string"&&"key"in m&&"path"in m)switch(m.decodeStrategy){case"raw":o.set(m.key,O);break;case"leb128":{o.set(m.key,d1(O));break}case"cbor":{o.set(m.key,g1(O));break}case"hex":{o.set(m.key,Lh(O));break}case"utf-8":o.set(m.key,kb(O))}}}catch(w){if(!((g=w==null?void 0:w.message)===null||g===void 0)&&g.includes("Invalid certificate"))throw new Xe(w.message);typeof l!="string"&&"key"in l&&"path"in l?o.set(l.key,null):o.set(l,null),console.group(),console.warn(`Expected to find result for path ${l}, but instead found nothing.`),console.warn(w),console.groupEnd()}})());return await Promise.all(a),o},m1=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const n=en(new Uint8Array(e)),i=n.tree;let s=n.delegation,o;if(s&&s.subnet_id?o=be.fromUint8Array(new Uint8Array(s.subnet_id)):!s&&typeof r<"u"?(o=be.selfAuthenticating(new Uint8Array(r)),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}):(o=be.selfAuthenticating(be.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),s={subnet_id:o.toUint8Array(),certificate:new ArrayBuffer(0)}),!h1({canisterId:t,subnetId:o,tree:i}))throw new Error("Canister not in range");const l=Ns(["subnet",s.subnet_id,"node"],i);if(l.status!==at.Found)throw new Error("Node not found");if(l.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const d=Uf(l.value),g=new Map;return d.forEach(w=>{const x=be.from(new Uint8Array(w[1])).toText(),b=Ns(["public_key"],w[2]);if(b.status!==at.Found)throw new Error("Public key not found");const m=b.value;if(m.byteLength!==44)throw new Error("Invalid public key length");g.set(x,m)}),{subnetId:be.fromUint8Array(new Uint8Array(s.subnet_id)).toText(),nodeKeys:g}},Mf=(e,t)=>{const r=new TextEncoder,n=s=>new DataView(r.encode(s).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const s=e.path,o=typeof s=="string"?n(s):s;return[n("canister"),i,n("metadata"),o]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},Lh=e=>Le(e),g1=e=>en(e),kb=e=>new TextDecoder().decode(e),Ab=e=>g1(e).map(r=>be.fromUint8Array(new Uint8Array(r))),Bb=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:Tb,encodePath:Mf,fetchNodeKeys:m1,request:p1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jr=BigInt(0),Pt=BigInt(1),xu=BigInt(2),jb=BigInt(8),Rb={zip215:!0};function Ob(e,t,r,n){const i=e.sqr(r),s=e.sqr(n),o=e.add(e.mul(t.a,i),s),a=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(o,a)}function Fb(e,t={}){const{Fp:r,Fn:n}=a1("edwards",e,t),{h:i,n:s}=e;Do(t,{},{uvRatio:"function"});const o=xu<<BigInt(n.BYTES*8)-Pt,a=O=>r.create(O),l=t.uvRatio||((O,P)=>{try{return{isValid:!0,value:r.sqrt(r.div(O,P))}}catch{return{isValid:!1,value:jr}}});if(!Ob(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function d(O,P,S=!1){const E=S?Pt:jr;return Ws("coordinate "+O,P,E,o),P}function g(O){if(!(O instanceof b))throw new Error("ExtendedPoint expected")}const w=Co((O,P)=>{const{ex:S,ey:E,ez:N}=O,V=O.is0();P==null&&(P=V?jb:r.inv(N));const k=a(S*P),I=a(E*P),U=a(N*P);if(V)return{x:jr,y:Pt};if(U!==Pt)throw new Error("invZ was invalid");return{x:k,y:I}}),x=Co(O=>{const{a:P,d:S}=e;if(O.is0())throw new Error("bad point: ZERO");const{ex:E,ey:N,ez:V,et:k}=O,I=a(E*E),U=a(N*N),L=a(V*V),G=a(L*L),z=a(I*P),ie=a(L*a(z+U)),se=a(G+a(S*a(I*U)));if(ie!==se)throw new Error("bad point: equation left != right (1)");const j=a(E*N),$=a(V*k);if(j!==$)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(P,S,E,N){this.ex=d("x",P),this.ey=d("y",S),this.ez=d("z",E,!0),this.et=d("t",N),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(P){if(P instanceof b)throw new Error("extended point not allowed");const{x:S,y:E}=P||{};return d("x",S),d("y",E),new b(S,E,Pt,a(S*E))}static normalizeZ(P){return Ul(b,"ez",P)}static msm(P,S){return o1(b,n,P,S)}_setWindowSize(P){this.precompute(P)}precompute(P=8,S=!0){return m.setWindowSize(this,P),S||this.multiply(xu),this}assertValidity(){x(this)}equals(P){g(P);const{ex:S,ey:E,ez:N}=this,{ex:V,ey:k,ez:I}=P,U=a(S*I),L=a(V*N),G=a(E*I),z=a(k*N);return U===L&&G===z}is0(){return this.equals(b.ZERO)}negate(){return new b(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:P}=e,{ex:S,ey:E,ez:N}=this,V=a(S*S),k=a(E*E),I=a(xu*a(N*N)),U=a(P*V),L=S+E,G=a(a(L*L)-V-k),z=U+k,ie=z-I,se=U-k,j=a(G*ie),$=a(z*se),H=a(G*se),Q=a(ie*z);return new b(j,$,Q,H)}add(P){g(P);const{a:S,d:E}=e,{ex:N,ey:V,ez:k,et:I}=this,{ex:U,ey:L,ez:G,et:z}=P,ie=a(N*U),se=a(V*L),j=a(I*E*z),$=a(k*G),H=a((N+V)*(U+L)-ie-se),Q=$-j,te=$+j,Z=a(se-S*ie),ne=a(H*Q),le=a(te*Z),oe=a(H*Z),he=a(Q*te);return new b(ne,le,he,oe)}subtract(P){return this.add(P.negate())}multiply(P){const S=P;Ws("scalar",S,Pt,s);const{p:E,f:N}=m.wNAFCached(this,S,b.normalizeZ);return b.normalizeZ([E,N])[0]}multiplyUnsafe(P,S=b.ZERO){const E=P;return Ws("scalar",E,jr,s),E===jr?b.ZERO:this.is0()||E===Pt?this:m.wNAFCachedUnsafe(this,E,b.normalizeZ,S)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return m.wNAFCachedUnsafe(this,s).is0()}toAffine(P){return w(this,P)}clearCofactor(){return i===Pt?this:this.multiplyUnsafe(i)}static fromBytes(P,S=!1){return bt(P),this.fromHex(P,S)}static fromHex(P,S=!1){const{d:E,a:N}=e,V=r.BYTES;P=Ut("pointHex",P,V),Fo("zip215",S);const k=P.slice(),I=P[V-1];k[V-1]=I&-129;const U=Po(k),L=S?o:r.ORDER;Ws("pointHex.y",U,jr,L);const G=a(U*U),z=a(G-Pt),ie=a(E*G-N);let{isValid:se,value:j}=l(z,ie);if(!se)throw new Error("Point.fromHex: invalid y coordinate");const $=(j&Pt)===Pt,H=(I&128)!==0;if(!S&&j===jr&&H)throw new Error("Point.fromHex: x=0 and x_0=1");return H!==$&&(j=a(-j)),b.fromAffine({x:j,y:U})}static fromPrivateScalar(P){return b.BASE.multiply(P)}toBytes(){const{x:P,y:S}=this.toAffine(),E=gc(S,r.BYTES);return E[E.length-1]|=P&Pt?128:0,E}toRawBytes(){return this.toBytes()}toHex(){return bs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}b.BASE=new b(e.Gx,e.Gy,Pt,a(e.Gx*e.Gy)),b.ZERO=new b(jr,Pt,Pt,jr),b.Fp=r,b.Fn=n;const m=s1(b,n.BYTES*8);return b}function Pb(e,t){Do(t,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r,hash:n}=t,{BASE:i,Fp:s,Fn:o}=e,a=o.ORDER,l=t.randomBytes||Cg,d=t.adjustScalarBytes||(k=>k),g=t.domain||((k,I,U)=>{if(Fo("phflag",U),I.length||U)throw new Error("Contexts/pre-hash are not supported");return k});function w(k){return o.create(k)}function x(k){return w(Po(k))}function b(k){const I=s.BYTES;k=Ut("private key",k,I);const U=Ut("hashed private key",n(k),2*I),L=d(U.slice(0,I)),G=U.slice(I,2*I),z=x(L);return{head:L,prefix:G,scalar:z}}function m(k){const{head:I,prefix:U,scalar:L}=b(k),G=i.multiply(L),z=G.toBytes();return{head:I,prefix:U,scalar:L,point:G,pointBytes:z}}function O(k){return m(k).pointBytes}function P(k=Uint8Array.of(),...I){const U=tt(...I);return x(n(g(U,Ut("context",k),!!r)))}function S(k,I,U={}){k=Ut("message",k),r&&(k=r(k));const{prefix:L,scalar:G,pointBytes:z}=m(I),ie=P(U.context,L,k),se=i.multiply(ie).toBytes(),j=P(U.context,se,z,k),$=w(ie+j*G);Ws("signature.s",$,jr,a);const H=s.BYTES,Q=tt(se,gc($,H));return Ut("result",Q,H*2)}const E=Rb;function N(k,I,U,L=E){const{context:G,zip215:z}=L,ie=s.BYTES;k=Ut("signature",k,2*ie),I=Ut("message",I),U=Ut("publicKey",U,ie),z!==void 0&&Fo("zip215",z),r&&(I=r(I));const se=Po(k.slice(ie,2*ie));let j,$,H;try{j=e.fromHex(U,z),$=e.fromHex(k.slice(0,ie),z),H=i.multiplyUnsafe(se)}catch{return!1}if(!z&&j.isSmallOrder())return!1;const Q=P(G,$.toBytes(),j.toBytes(),I);return $.add(j.multiplyUnsafe(Q)).subtract(H).clearCofactor().is0()}return i.precompute(8),{getPublicKey:O,sign:S,verify:N,utils:{getExtendedPublicKey:m,randomPrivateKey:()=>l(s.BYTES),precompute(k=8,I=e.BASE){return I.precompute(k,!1)}},Point:e}}function Cb(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=Ni(t.n,e.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:e.uvRatio},s={hash:e.hash,randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,eddsaOpts:s}}function Ib(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function Ub(e){const{CURVE:t,curveOpts:r,eddsaOpts:n}=Cb(e),i=Fb(t,r),s=Pb(i,n);return Ib(e,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const Mb=BigInt(1),Wh=BigInt(2);BigInt(3);const $b=BigInt(5),zb=BigInt(8),_c={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:zb,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Vb(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=_c.p,a=e*e%s*e%s,l=Ar(a,Wh,s)*a%s,d=Ar(l,Mb,s)*e%s,g=Ar(d,$b,s)*d%s,w=Ar(g,t,s)*g%s,x=Ar(w,r,s)*w%s,b=Ar(x,n,s)*x%s,m=Ar(b,i,s)*b%s,O=Ar(m,i,s)*b%s,P=Ar(O,t,s)*g%s;return{pow_p_5_8:Ar(P,Wh,s)*e%s,b2:a}}function Hb(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Yh=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function qb(e,t){const r=_c.p,n=it(t*t*t,r),i=it(n*n*t,r),s=Vb(e*i).pow_p_5_8;let o=it(e*n*s,r);const a=it(t*o*o,r),l=o,d=it(o*Yh,r),g=a===e,w=a===it(-e,r),x=a===it(-e*Yh,r);return g&&(o=l),(w||x)&&(o=d),z_(o,r)&&(o=it(-o,r)),{isValid:g||w,value:o}}const Gb=(()=>Ni(_c.p,void 0,!0))(),Kb=(()=>({..._c,Fp:Gb,hash:hv,adjustScalarBytes:Hb,uvRatio:qb}))(),Ci=(()=>Ub(Kb))();var Dh=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Ct=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},kt,Ds,y1,w1;class Lb{constructor(t={}){kt.set(this,void 0),Ds.set(this,void 0),this[y1]=this.entries.bind(this),this[w1]="ExpirableMap";const{source:r=[],expirationTime:n=10*60*1e3}=t,i=Date.now();Dh(this,kt,new Map([...r].map(([s,o])=>[s,{value:o,timestamp:i}])),"f"),Dh(this,Ds,n,"f")}prune(){const t=Date.now();for(const[r,n]of Ct(this,kt,"f").entries())t-n.timestamp>Ct(this,Ds,"f")&&Ct(this,kt,"f").delete(r);return this}set(t,r){this.prune();const n={value:r,timestamp:Date.now()};return Ct(this,kt,"f").set(t,n),this}get(t){const r=Ct(this,kt,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>Ct(this,Ds,"f")){Ct(this,kt,"f").delete(t);return}return r.value}}clear(){Ct(this,kt,"f").clear()}entries(){const t=Ct(this,kt,"f").entries();return function*(){for(const[n,i]of t)yield[n,i.value]}()}values(){const t=Ct(this,kt,"f").values();return function*(){for(const n of t)yield n.value}()}keys(){return Ct(this,kt,"f").keys()}forEach(t,r){for(const[n,i]of Ct(this,kt,"f").entries())t.call(r,i.value,n,this)}has(t){return Ct(this,kt,"f").has(t)}delete(t){return Ct(this,kt,"f").delete(t)}get size(){return Ct(this,kt,"f").size}}kt=new WeakMap,Ds=new WeakMap,y1=Symbol.iterator,w1=Symbol.toStringTag;const Zh=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Qh=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},$f=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},Wb=(e,t)=>{const r=$f(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const $l=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function x1(e,t){const r=2+Zh(e.byteLength+1),n=t.byteLength+r+e.byteLength;let i=0;const s=new Uint8Array(1+Zh(n)+n);return s[i++]=48,i+=Qh(s,i,n),s.set(t,i),i+=t.byteLength,s[i++]=3,i+=Qh(s,i,e.byteLength+1),s[i++]=0,s.set(new Uint8Array(e),i),s}const v1=(e,t)=>{let r=0;const n=(a,l)=>{if(i[r++]!==a)throw new Error("Expected: "+l)},i=new Uint8Array(e);if(n(48,"sequence"),r+=$f(i,r),!Ko(i.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");const s=Wb(i,r)-1;r+=$f(i,r),n(0,"0 padding");const o=i.slice(r);if(s!==o.length)throw new Error(`DER payload mismatch: Expected length ${s} actual length ${o.length}`);return o};var Xh=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Jh=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Ka,La;let _1=class Zs{constructor(t){if(Ka.set(this,void 0),La.set(this,void 0),t.byteLength!==Zs.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Xh(this,Ka,t,"f"),Xh(this,La,Zs.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Zs(t)}static fromDer(t){return new Zs(this.derDecode(t))}static derEncode(t){return x1(t,$l).buffer}static derDecode(t){const r=v1(t,$l);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return Jh(this,Ka,"f")}get derKey(){return Jh(this,La,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}};Ka=new WeakMap,La=new WeakMap;_1.RAW_KEY_LENGTH=32;class Yb{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(n=>n(t,...r))}}class Db extends Yb{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...n){this.notify({message:t,level:"error",error:r},...n)}}var Br=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Tt=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Rr,Wa,Ya,Da,Za,Qa,Xa,Ja,Ii;const b1=.5,E1=1.5,S1=500,N1=6e4,T1=9e5,k1=10;class bc{constructor(t=bc.default){Rr.set(this,void 0),Wa.set(this,void 0),Ya.set(this,void 0),Da.set(this,void 0),Za.set(this,void 0),Qa.set(this,void 0),Xa.set(this,void 0),Ja.set(this,void 0),Ii.set(this,0);const{initialInterval:r=S1,randomizationFactor:n=b1,multiplier:i=E1,maxInterval:s=N1,maxElapsedTime:o=T1,maxIterations:a=k1,date:l=Date}=t;Br(this,Rr,r,"f"),Br(this,Wa,n,"f"),Br(this,Ya,i,"f"),Br(this,Da,s,"f"),Br(this,Ja,l,"f"),Br(this,Za,l.now(),"f"),Br(this,Qa,o,"f"),Br(this,Xa,a,"f")}get ellapsedTimeInMsec(){return Tt(this,Ja,"f").now()-Tt(this,Za,"f")}get currentInterval(){return Tt(this,Rr,"f")}get count(){return Tt(this,Ii,"f")}get randomValueFromInterval(){const t=Tt(this,Wa,"f")*Tt(this,Rr,"f"),r=Tt(this,Rr,"f")-t,n=Tt(this,Rr,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return Br(this,Rr,Math.min(Tt(this,Rr,"f")*Tt(this,Ya,"f"),Tt(this,Da,"f")),"f"),Br(this,Ii,(t=Tt(this,Ii,"f"),t++,t),"f"),Tt(this,Rr,"f")}next(){return this.ellapsedTimeInMsec>=Tt(this,Qa,"f")||Tt(this,Ii,"f")>=Tt(this,Xa,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Rr=new WeakMap,Wa=new WeakMap,Ya=new WeakMap,Da=new WeakMap,Za=new WeakMap,Qa=new WeakMap,Xa=new WeakMap,Ja=new WeakMap,Ii=new WeakMap;bc.default={initialInterval:S1,randomizationFactor:b1,multiplier:E1,maxInterval:N1,maxElapsedTime:T1,maxIterations:k1,date:Date};var gt=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},pe=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},At,Qn,ds,Or,Lr,ns,Qs,Ui,mr,yr,Xn,Jn,Xs,Mi,$i,ei,ri,A1,el,tl,ti,Wr;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Wr||(Wr={}));const Sa=60*1e3,Zb="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",Qb="aaaaa-aa",Xb="ic0.app",Jb=".ic0.app",eE="icp0.io",tE=".icp0.io",rE="icp-api.io",nE=".icp-api.io";class vu extends Xe{constructor(t){super(t),this.message=t}}class Na extends Xe{constructor(t){super(t),this.message=t}}function iE(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new vu("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new vu("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new vu("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function sE(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,s=i==null?void 0:i.hostname;let o;s&&typeof s=="string"&&(n.some(a=>s.endsWith(a))?o=s:o=r.find(a=>s.endsWith(a))),i&&o?t=new URL(`${i.protocol}//${o}${i.port?":"+i.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class is{constructor(t={}){var r,n;At.add(this),Qn.set(this,null),ds.set(this,!1),Or.set(this,void 0),Lr.set(this,void 0),ns.set(this,void 0),Qs.set(this,void 0),Ui.set(this,0),mr.set(this,void 0),yr.set(this,void 0),Xn.set(this,void 0),Jn.set(this,void 0),this._isAgent=!0,this.config={},Xs.set(this,0),this.log=new Db,Mi.set(this,[]),$i.set(this,[]),ei.set(this,new Lb({expirationTime:5*60*1e3})),ri.set(this,!0),tl.set(this,(o,a)=>{if(pe(this,ri,"f")===!1)return o;if(!a)throw new Cr("Invalid signature from replica signed query: no matching node key found.");const{status:l,signatures:d=[],requestId:g}=o,w=Jr(new TextEncoder().encode("\vic-response"));for(const x of d){const{timestamp:b,identity:m}=x,O=be.fromUint8Array(m).toText();let P;if(l==="replied"){const{reply:k}=o;P=Fl({status:l,reply:k,timestamp:BigInt(b),request_id:g})}else if(l==="rejected"){const{reject_code:k,reject_message:I,error_code:U}=o;P=Fl({status:l,reject_code:k,reject_message:I,error_code:U,timestamp:BigInt(b),request_id:g})}else throw new Error(`Unknown status: ${l}`);const S=Er(w,Jr(new Uint8Array(P))),E=a==null?void 0:a.nodeKeys.get(O);if(!E)throw new Cr("Invalid signature from replica signed query: no matching node key found.");const N=_1.fromDer(E).rawKey;if(Ci.verify(x.signature,new Uint8Array(S),new Uint8Array(N)))return o;throw new Cr(`Invalid signature from replica ${O} signed query.`)}return o}),this.config=t,gt(this,Lr,t.fetch||iE()||fetch.bind(global),"f"),gt(this,ns,t.fetchOptions,"f"),gt(this,Qs,t.callOptions,"f"),gt(this,ds,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:pe(this,ds,"f")?this.rootKey=null:this.rootKey=nn(Zb);const i=sE(t.host);this.host=new URL(i),t.verifyQuerySignatures!==void 0&&gt(this,ri,t.verifyQuerySignatures,"f"),gt(this,yr,(n=t.retryTimes)!==null&&n!==void 0?n:3,"f");const s=()=>new bc({maxIterations:pe(this,yr,"f")});if(gt(this,Xn,t.backoffStrategy||s,"f"),this.host.hostname.endsWith(Jb)?this.host.hostname=Xb:this.host.hostname.endsWith(tE)?this.host.hostname=eE:this.host.hostname.endsWith(nE)&&(this.host.hostname=rE),t.credentials){const{name:o,password:a}=t.credentials;gt(this,mr,`${o}${a?":"+a:""}`,"f")}if(gt(this,Or,Promise.resolve(t.identity||new Pl),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new Xe(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new Xe(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);gt(this,Jn,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",Rh(Ff)),t.useQueryNonces&&this.addTransform("query",Rh(Ff)),t.logToConsole&&this.log.subscribe(o=>{o.level==="error"?console.error(o.message):o.level==="warn"?console.warn(o.message):console.log(o.message)})}get waterMark(){return pe(this,Xs,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=is.createSync(t),n=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&n.push(r.fetchRootKey()),await Promise.all(n),r}static async from(t){var r;try{return"config"in t?await is.create(t.config):await is.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new Xe("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){const i=pe(this,$i,"f").findIndex(s=>(s.priority||0)<n);pe(this,$i,"f").splice(i>=0?i:pe(this,$i,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){const i=pe(this,Mi,"f").findIndex(s=>(s.priority||0)<n);pe(this,Mi,"f").splice(i>=0?i:pe(this,Mi,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!pe(this,Or,"f"))throw new Na("This identity has expired due this application's security policy. Please refresh your authentication.");return(await pe(this,Or,"f")).getPrincipal()}async call(t,r,n){var i,s;await pe(this,At,"m",ti).call(this);const o=(i=r.callSync)!==null&&i!==void 0?i:!0,a=await(n!==void 0?await n:await pe(this,Or,"f"));if(!a)throw new Na("This identity has expired due this application's security policy. Please refresh your authentication.");const l=be.from(t),d=r.effectiveCanisterId?be.from(r.effectiveCanisterId):l,g=a.getPrincipal()||be.anonymous();let w=new ba(pe(this,Jn,"f")*Sa);Math.abs(pe(this,Ui,"f"))>1e3*30&&(w=new ba(pe(this,Jn,"f")*Sa+pe(this,Ui,"f")));const x={request_type:Of.Call,canister_id:l,method_name:r.methodName,arg:r.arg,sender:g,ingress_expiry:w};let b=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},pe(this,mr,"f")?{Authorization:"Basic "+btoa(pe(this,mr,"f"))}:{})},endpoint:"call",body:x}),m;r!=null&&r.nonce?m=O(r.nonce):b.body.nonce?m=O(b.body.nonce):m=void 0,x.nonce=m;function O(N){return new Uint8Array(N)}b=await a.transformRequest(b);const P=lu(b.body),S=pe(this,Xn,"f").call(this),E=Oo(x);try{const N=()=>(this.log.print(`fetching "/api/v3/canister/${d.toText()}/call" with request:`,b),pe(this,Lr,"f").call(this,""+new URL(`/api/v3/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,Qs,"f")),b.request),{body:P}))),V=()=>(this.log.print(`fetching "/api/v2/canister/${d.toText()}/call" with request:`,b),pe(this,Lr,"f").call(this,""+new URL(`/api/v2/canister/${d.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,Qs,"f")),b.request),{body:P}))),I=await pe(this,At,"m",el).call(this,{request:o?N:V,backoff:S,tries:0}),U=await I.arrayBuffer(),L=I.status===200&&U.byteLength>0?en(U):null;if(L&&"certificate"in L){const G=await this.parseTimeFromResponse({certificate:L.certificate});gt(this,Xs,G,"f")}return{requestId:E,response:{ok:I.ok,status:I.status,statusText:I.statusText,body:L,headers:Ls(I.headers)},requestDetails:x}}catch(N){if(N.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),n);const V=`Error while making call: ${(s=N.message)!==null&&s!==void 0?s:String(N)}`,k=new R_(V,N,Le(E),Le(b.body.sender_pubkey),Le(b.body.sender_sig),String(b.body.content.ingress_expiry._value));throw this.log.error(V,k),k}}async query(t,r,n){var i,s,o,a;await pe(this,At,"m",ti).call(this);const l=pe(this,Xn,"f").call(this),d=r.effectiveCanisterId?be.from(r.effectiveCanisterId):be.from(t);this.log.print(`ecid ${d.toString()}`),this.log.print(`canisterId ${t.toString()}`);let g,w;const x=await(n!==void 0?n:pe(this,Or,"f"));if(!x)throw new Na("This identity has expired due this application's security policy. Please refresh your authentication.");const b=be.from(t),m=(x==null?void 0:x.getPrincipal())||be.anonymous(),O={request_type:"query",canister_id:b,method_name:r.methodName,arg:r.arg,sender:m,ingress_expiry:new ba(pe(this,Jn,"f")*Sa)},P=Oo(O);g=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},pe(this,mr,"f")?{Authorization:"Basic "+btoa(pe(this,mr,"f"))}:{})},endpoint:"read",body:O}),g=await(x==null?void 0:x.transformRequest(g));const S=lu(g.body),E={canister:b.toText(),ecid:d,transformedRequest:g,body:S,requestId:P,backoff:l,tries:0},N=async()=>({requestDetails:O,query:await pe(this,At,"m",A1).call(this,E)}),V=async()=>{if(!pe(this,ri,"f"))return;const k=pe(this,ei,"f").get(d.toString());return k||(await this.fetchSubnetKeys(d.toString()),pe(this,ei,"f").get(d.toString()))};try{const[k,I]=await Promise.all([N(),V()]);w=k;const{requestDetails:U,query:L}=w,G=Object.assign(Object.assign({},L),{requestDetails:U});if(this.log.print("Query response:",G),!pe(this,ri,"f"))return G;try{return pe(this,tl,"f").call(this,G,I)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),pe(this,ei,"f").delete(t.toString()),await this.fetchSubnetKeys(d.toString());const ie=pe(this,ei,"f").get(t.toString());if(!ie)throw new Cr("Invalid signature from replica signed query: no matching node key found.");return pe(this,tl,"f").call(this,G,ie)}}catch(k){const I=`Error while making call: ${(i=k.message)!==null&&i!==void 0?i:String(k)}`,U=new O_(I,k,String(P),Le((s=g==null?void 0:g.body)===null||s===void 0?void 0:s.sender_pubkey),Le((o=g==null?void 0:g.body)===null||o===void 0?void 0:o.sender_sig),String((a=g==null?void 0:g.body)===null||a===void 0?void 0:a.content.ingress_expiry._value));throw this.log.error(I,U),U}}async createReadStateRequest(t,r){await pe(this,At,"m",ti).call(this);const n=await(r!==void 0?await r:await pe(this,Or,"f"));if(!n)throw new Na("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(n==null?void 0:n.getPrincipal())||be.anonymous(),s=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},pe(this,mr,"f")?{Authorization:"Basic "+btoa(pe(this,mr,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new ba(pe(this,Jn,"f")*Sa)}});return n==null?void 0:n.transformRequest(s)}async readState(t,r,n,i){var s,o,a,l;function d(O){for(const P of O.paths){const[S,E]=P,N=Jr(new TextEncoder().encode("request_status"));if(Ko(S,N))return E}}const g=d(r);await pe(this,At,"m",ti).call(this);const w=typeof t=="string"?be.fromText(t):t,x=i??await this.createReadStateRequest(r,n),b=lu(x.body);this.log.print(`fetching "/api/v2/canister/${w}/read_state" with request:`,x);const m=pe(this,Xn,"f").call(this);try{const O=await pe(this,At,"m",el).call(this,{request:()=>pe(this,Lr,"f").call(this,""+new URL(`/api/v2/canister/${w.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,ns,"f")),x.request),{body:b})),backoff:m,tries:0});if(!O.ok)throw new Error(`Server returned an error:
  Code: ${O.status} (${O.statusText})
  Body: ${await O.text()}
`);const P=en(await O.arrayBuffer());this.log.print("Read state response:",P);const S=await this.parseTimeFromResponse(P);return S>0&&(this.log.print("Read state response time:",S),gt(this,Xs,S,"f")),P}catch(O){const P=`Caught exception while attempting to read state: ${(s=O.message)!==null&&s!==void 0?s:String(O)}`,S=new F_(P,O,String(g),Le((o=x==null?void 0:x.body)===null||o===void 0?void 0:o.sender_pubkey),Le((a=x==null?void 0:x.body)===null||a===void 0?void 0:a.sender_sig),String((l=x==null?void 0:x.body)===null||l===void 0?void 0:l.content.ingress_expiry._value));throw this.log.error(P,S),S}}async parseTimeFromResponse(t){let r;if(t.certificate){const n=en(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");const i=Ns(["time"],r);if(i.status!==at.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const s=t0(Jr(i.value));return this.log.print("Time from response:",s),this.log.print("Time from response in milliseconds:",Number(s)),Number(s)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await pe(this,At,"m",ti).call(this);const r=await V2(()=>Promise.resolve().then(()=>Bb),void 0),n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const i=is.createSync({identity:new Pl,host:this.host.toString(),fetch:pe(this,Lr,"f"),retryTimes:0}),o=(await r.request({canisterId:t??be.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:i,paths:["time"]})).get("time");o&&(gt(this,Ui,Number(o)-Number(n),"f"),this.log.notify({message:`Syncing time: offset of ${pe(this,Ui,"f")}`,level:"info"}))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const t=pe(this,mr,"f")?{Authorization:"Basic "+btoa(pe(this,mr,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=pe(this,Xn,"f").call(this),n=await pe(this,At,"m",el).call(this,{backoff:r,request:()=>pe(this,Lr,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},pe(this,ns,"f"))),tries:0});return en(await n.arrayBuffer())}async fetchRootKey(){let t;return pe(this,Qn,"f")?t=await pe(this,Qn,"f"):(gt(this,Qn,new Promise((r,n)=>{this.status().then(i=>{const s=i.root_key;this.rootKey=s,r(s)}).catch(n)}),"f"),t=await pe(this,Qn,"f")),gt(this,Qn,null,"f"),t}invalidateIdentity(){gt(this,Or,null,"f")}replaceIdentity(t){gt(this,Or,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await pe(this,At,"m",ti).call(this);const r=be.from(t),i=(await p1({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return pe(this,ei,"f").set(r.toText(),i),i}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const n of pe(this,$i,"f"))r=r.then(i=>n(i).then(s=>s||i));else for(const n of pe(this,Mi,"f"))r=r.then(i=>n(i).then(s=>s||i));return r}}Qn=new WeakMap,ds=new WeakMap,Or=new WeakMap,Lr=new WeakMap,ns=new WeakMap,Qs=new WeakMap,Ui=new WeakMap,mr=new WeakMap,yr=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,Xs=new WeakMap,Mi=new WeakMap,$i=new WeakMap,ei=new WeakMap,ri=new WeakMap,tl=new WeakMap,At=new WeakSet,A1=async function e(t){var r,n;const{ecid:i,transformedRequest:s,body:o,requestId:a,backoff:l,tries:d}=t,g=d===0?0:l.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:d,backoff:l,delay:g}),g===null)throw new Xe(`Timestamp failed to pass the watermark after retrying the configured ${pe(this,yr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);g>0&&await new Promise(m=>setTimeout(m,g));let w;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,s);const m=await pe(this,Lr,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},pe(this,ns,"f")),s.request),{body:o}));if(m.status===200){const O=en(await m.arrayBuffer());w=Object.assign(Object.assign({},O),{httpDetails:{ok:m.ok,status:m.status,statusText:m.statusText,headers:Ls(m.headers)},requestId:a})}else throw new cu(`Gateway returned an error:
  Code: ${m.status} (${m.statusText})
  Body: ${await m.text()}
`,{ok:m.ok,status:m.status,statusText:m.statusText,headers:Ls(m.headers)})}catch(m){if(d<pe(this,yr,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${m}
  Retrying query.`),await pe(this,At,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw m}const x=(n=(r=w.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!pe(this,ri,"f"))return w;if(!x)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const b=Number(BigInt(x)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:b}),Number(this.waterMark)>b){const m=new Xe("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",m,{timestamp:x,waterMark:this.waterMark}),d<pe(this,yr,"f"))return await pe(this,At,"m",e).call(this,Object.assign(Object.assign({},t),{tries:d+1}));throw new Xe(`Timestamp failed to pass the watermark after retrying the configured ${pe(this,yr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return w},el=async function e(t){const{request:r,backoff:n,tries:i}=t,s=i===0?0:n.next();if(s===null)throw new Xe(`Timestamp failed to pass the watermark after retrying the configured ${pe(this,yr,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);s>0&&await new Promise(d=>setTimeout(d,s));let o;try{o=await r()}catch(d){if(pe(this,yr,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${d}
  Retrying request.`),await pe(this,At,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw d}if(o.ok)return o;const a=await o.clone().text(),l=`Server returned an error:
  Code: ${o.status} (${o.statusText})
  Body: ${a}
`;if(o.status===404&&o.url.includes("api/v3"))throw new cu("v3 api not supported. Fall back to v2",{ok:o.ok,status:o.status,statusText:o.statusText,headers:Ls(o.headers)});if(i<pe(this,yr,"f"))return await pe(this,At,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new cu(l,{ok:o.ok,status:o.status,statusText:o.statusText,headers:Ls(o.headers)})},ti=async function(){if(!this.rootKey)if(this.rootKey===null&&pe(this,ds,"f"))await this.fetchRootKey();else throw new Xe(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${pe(this,ds,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var ep;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(ep||(ep={}));function tp(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const oE=5*60*1e3;function B1(){return fE(lE(aE(),1e3),uE(1e3,1.2),cE(oE))}function aE(){let e=!0;return async()=>e?(e=!1,!0):!1}function lE(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise(s=>setTimeout(s,t))}}function cE(e){const t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${Le(n)}
  Request status: ${i}
`)}}function uE(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function fE(...e){return async(t,r,n)=>{for(const i of e)await i(t,r,n)}}async function j1(e,t,r,n=B1(),i,s){var o;const a=[new TextEncoder().encode("request_status"),r],l=i??await((o=e.createReadStateRequest)===null||o===void 0?void 0:o.call(e,{paths:[a]})),d=await e.readState(t,{paths:[a]},void 0,l);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const g=await fi.create({certificate:d.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:s}),w=or(g.lookup([...a,new TextEncoder().encode("status")]));let x;switch(typeof w>"u"?x=Wr.Unknown:x=new TextDecoder().decode(w),x){case Wr.Replied:return{reply:or(g.lookup([...a,"reply"])),certificate:g};case Wr.Received:case Wr.Unknown:case Wr.Processing:return await n(t,r,x),j1(e,t,r,n,l,s);case Wr.Rejected:{const b=new Uint8Array(or(g.lookup([...a,"reject_code"])))[0],m=new TextDecoder().decode(or(g.lookup([...a,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${Le(r)}
  Reject code: ${b}
  Reject text: ${m}
`)}case Wr.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Le(r)}
`)}throw new Error("unreachable")}const dE=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,s=i,o=e.Nat32,a=e.Record({start_height:o,end_height:e.Opt(o),network:t}),l=e.Vec(e.Nat8),d=e.Record({tip_height:o,block_headers:e.Vec(l)}),g=e.Record({network:t}),w=e.Nat64,x=e.Vec(w),b=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),m=e.Vec(e.Nat8),O=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),P=e.Record({height:e.Nat32,value:i,outpoint:O}),S=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:o,tip_block_hash:m,utxos:e.Vec(P)}),E=e.Record({transaction:e.Vec(e.Nat8),network:t}),N=e.Principal,V=e.Record({canister_id:N,num_requested_changes:e.Opt(e.Nat64)}),k=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),I=e.Vec(e.Nat8),U=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:I}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),L=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:k,details:U}),G=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(L),total_num_changes:e.Nat64}),z=e.Record({canister_id:N}),ie=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),se=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:ie,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),j=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:se,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),$=e.Record({canister_id:N}),H=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(ie),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),Q=e.Record({settings:e.Opt(H),sender_canister_version:e.Opt(e.Nat64)}),te=e.Record({canister_id:N}),Z=e.Record({canister_id:N}),ne=e.Record({canister_id:N,snapshot_id:I}),le=e.Record({canister_id:N}),oe=e.Variant({secp256k1:e.Null}),he=e.Record({key_id:e.Record({name:e.Text,curve:oe}),canister_id:e.Opt(N),derivation_path:e.Vec(e.Vec(e.Nat8))}),Oe=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),R=e.Record({canister_id:N}),Ne=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),ke=e.Record({canister_log_records:e.Vec(Ne)}),de=e.Record({value:e.Text,name:e.Text}),re=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(de)}),ce=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:re})],[re],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(de)}),T=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),B=e.Record({hash:e.Vec(e.Nat8)}),C=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:T,chunk_hashes_list:e.Vec(B),target_canister:N,store_canister:e.Opt(N),sender_canister_version:e.Opt(e.Nat64)}),K=e.Vec(e.Nat8),q=e.Record({arg:e.Vec(e.Nat8),wasm_module:K,mode:T,canister_id:N,sender_canister_version:e.Opt(e.Nat64)}),Y=e.Record({canister_id:N}),y=e.Record({id:I,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),c=e.Vec(y),u=e.Record({canister_id:N,sender_canister_version:e.Opt(e.Nat64),snapshot_id:I}),_=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),A=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),M=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(A)})),X=e.Record({settings:e.Opt(H),specified_id:e.Opt(N),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),ue=e.Record({canister_id:N}),me=e.Record({canister_id:N,amount:e.Nat}),ye=e.Vec(e.Nat8),Se=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),v=e.Record({key_id:e.Record({algorithm:Se,name:e.Text}),canister_id:e.Opt(N),derivation_path:e.Vec(e.Vec(e.Nat8))}),f=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),p=e.Record({key_id:e.Record({name:e.Text,curve:oe}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),F=e.Record({signature:e.Vec(e.Nat8)}),D=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),ee=e.Record({aux:e.Opt(D),key_id:e.Record({algorithm:Se,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),J=e.Record({signature:e.Vec(e.Nat8)}),_e=e.Record({canister_id:N}),Te=e.Record({canister_id:N}),Ee=e.Record({canister_id:N}),ve=e.Vec(B),Ce=e.Record({subnet_id:e.Principal}),He=e.Record({replica_version:e.Text}),Nc=e.Record({replace_snapshot:e.Opt(I),canister_id:N}),Tc=y,kc=e.Record({canister_id:N,sender_canister_version:e.Opt(e.Nat64)}),Ac=e.Record({canister_id:e.Principal,settings:H,sender_canister_version:e.Opt(e.Nat64)}),Bc=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),dn=B;return e.Service({bitcoin_get_balance:e.Func([n],[s],[]),bitcoin_get_block_headers:e.Func([a],[d],[]),bitcoin_get_current_fee_percentiles:e.Func([g],[x],[]),bitcoin_get_utxos:e.Func([b],[S],[]),bitcoin_send_transaction:e.Func([E],[],[]),canister_info:e.Func([V],[G],[]),canister_status:e.Func([z],[j],[]),clear_chunk_store:e.Func([$],[],[]),create_canister:e.Func([Q],[te],[]),delete_canister:e.Func([Z],[],[]),delete_canister_snapshot:e.Func([ne],[],[]),deposit_cycles:e.Func([le],[],[]),ecdsa_public_key:e.Func([he],[Oe],[]),fetch_canister_logs:e.Func([R],[ke],["query"]),http_request:e.Func([ce],[re],[]),install_chunked_code:e.Func([C],[],[]),install_code:e.Func([q],[],[]),list_canister_snapshots:e.Func([Y],[c],[]),load_canister_snapshot:e.Func([u],[],[]),node_metrics_history:e.Func([_],[M],[]),provisional_create_canister_with_cycles:e.Func([X],[ue],[]),provisional_top_up_canister:e.Func([me],[],[]),raw_rand:e.Func([],[ye],[]),schnorr_public_key:e.Func([v],[f],[]),sign_with_ecdsa:e.Func([p],[F],[]),sign_with_schnorr:e.Func([ee],[J],[]),start_canister:e.Func([_e],[],[]),stop_canister:e.Func([Te],[],[]),stored_chunks:e.Func([Ee],[ve],[]),subnet_info:e.Func([Ce],[He],[]),take_canister_snapshot:e.Func([Nc],[Tc],[]),uninstall_code:e.Func([kc],[],[]),update_settings:e.Func([Ac],[],[]),upload_chunk:e.Func([Bc],[dn],[])})};class R1 extends Xe{constructor(t,r,n,i){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${n})`,...Object.getOwnPropertyNames(i).map(s=>`  "${s}": ${JSON.stringify(i[s])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=n,this.props=i}}class hE extends R1{constructor(t,r,n){var i;super(t,r,"query",{Status:n.status,Code:(i=bf[n.reject_code])!==null&&i!==void 0?i:`Unknown Code "${n.reject_code}"`,Message:n.reject_message}),this.result=n}}class rp extends R1{constructor(t,r,n,i,s,o,a){super(t,r,"update",Object.assign({"Request ID":Le(n)},i.body?Object.assign(Object.assign({},a?{"Error code":a}:{}),{"Reject code":String(s),"Reject message":o}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=n,this.response=i,this.reject_code=s,this.reject_message=o,this.error_code=a}}const nr=Symbol.for("ic-agent-metadata");class Ec{constructor(t){this[nr]=Object.freeze(t)}static agentOf(t){return t[nr].config.agent}static interfaceOf(t){return t[nr].service}static canisterIdOf(t){return be.from(t[nr].config.canisterId)}static async install(t,r){const n=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],s=[...new Uint8Array(t.module)],o=typeof r.canisterId=="string"?be.fromText(r.canisterId):r.canisterId;await np(r).install_code({mode:n,arg:i,wasm_module:s,canister_id:o,sender_canister_version:[]})}static async createCanister(t,r){function n(s){return[{controllers:s.controllers?[s.controllers]:[],compute_allocation:s.compute_allocation?[s.compute_allocation]:[],freezing_threshold:s.freezing_threshold?[s.freezing_threshold]:[],memory_allocation:s.memory_allocation?[s.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await np(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,r,n){const i=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:i}))}static createActorClass(t,r){const n=t({IDL:Av});class i extends Ec{constructor(o){if(!o.canisterId)throw new Xe(`Canister ID is required, but received ${typeof o.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const a=typeof o.canisterId=="string"?be.fromText(o.canisterId):o.canisterId;super({config:Object.assign(Object.assign(Object.assign({},O1),o),{canisterId:a}),service:n});for(const[l,d]of n._fields)r!=null&&r.httpDetails&&d.annotations.push(zf),r!=null&&r.certificate&&d.annotations.push(F1),this[l]=pE(this,l,d,o.blsVerify)}}return i}static createActor(t,r){if(!r.canisterId)throw new Xe(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,n))(r)}}function Fi(e,t){const r=Qg(e,jg.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const O1={pollingStrategyFactory:B1},zf="http-details",F1="certificate";function pE(e,t,r,n){let i;r.annotations.includes("query")||r.annotations.includes("composite_query")?i=async(o,...a)=>{var l,d;o=Object.assign(Object.assign({},o),(d=(l=e[nr].config).queryTransform)===null||d===void 0?void 0:d.call(l,t,a,Object.assign(Object.assign({},e[nr].config),o)));const g=o.agent||e[nr].config.agent||tp(),w=be.from(o.canisterId||e[nr].config.canisterId),x=Sf(r.argTypes,a),b=await g.query(w,{methodName:t,arg:x,effectiveCanisterId:o.effectiveCanisterId}),m=Object.assign(Object.assign({},b.httpDetails),{requestDetails:b.requestDetails});switch(b.status){case"rejected":throw new hE(w,t,b);case"replied":return r.annotations.includes(zf)?{httpDetails:m,result:Fi(r.retTypes,b.reply.arg)}:Fi(r.retTypes,b.reply.arg)}}:i=async(o,...a)=>{var l,d;o=Object.assign(Object.assign({},o),(d=(l=e[nr].config).callTransform)===null||d===void 0?void 0:d.call(l,t,a,Object.assign(Object.assign({},e[nr].config),o)));const g=o.agent||e[nr].config.agent||tp(),{canisterId:w,effectiveCanisterId:x,pollingStrategyFactory:b}=Object.assign(Object.assign(Object.assign({},O1),e[nr].config),o),m=be.from(w),O=x!==void 0?be.from(x):m,P=Sf(r.argTypes,a),{requestId:S,response:E,requestDetails:N}=await g.call(m,{methodName:t,arg:P,effectiveCanisterId:O});let V,k;if(E.body&&E.body.certificate){if(g.rootKey==null)throw new Error("Agent is missing root key");const G=E.body.certificate;k=await fi.create({certificate:yi(G),rootKey:g.rootKey,canisterId:be.from(w),blsVerify:n});const z=[new TextEncoder().encode("request_status"),S];switch(new TextDecoder().decode(or(k.lookup([...z,"status"])))){case"replied":V=or(k.lookup([...z,"reply"]));break;case"rejected":{const se=new Uint8Array(or(k.lookup([...z,"reject_code"])))[0],j=new TextDecoder().decode(or(k.lookup([...z,"reject_message"]))),$=or(k.lookup([...z,"error_code"])),H=$?new TextDecoder().decode($):void 0;throw new rp(m,t,S,E,se,j,H)}}}else if(E.body&&"reject_message"in E.body){const{reject_code:G,reject_message:z,error_code:ie}=E.body;throw new rp(m,t,S,E,G,z,ie)}if(E.status===202){const G=b(),z=await j1(g,O,S,G,n);k=z.certificate,V=z.reply}const I=r.annotations.includes(zf),U=r.annotations.includes(F1),L=Object.assign(Object.assign({},E),{requestDetails:N});if(V!==void 0)return I&&U?{httpDetails:L,certificate:k,result:Fi(r.retTypes,V)}:U?{certificate:k,result:Fi(r.retTypes,V)}:I?{httpDetails:L,result:Fi(r.retTypes,V)}:Fi(r.retTypes,V);if(r.retTypes.length===0)return I?{httpDetails:E,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const s=(...o)=>i({},...o);return s.withOptions=o=>(...a)=>i(o,...a),s}function np(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:be.from(e.effectiveCanisterId)};const i=n[0];let s=be.fromHex("");return i&&typeof i=="object"&&i.target_canister&&r==="install_chunked_code"&&(s=be.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(s=be.from(i.canister_id)),{effectiveCanisterId:s}}return Ec.createActor(dE,Object.assign(Object.assign(Object.assign({},e),{canisterId:be.fromHex("")}),{callTransform:t,queryTransform:t}))}var zl=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Nn=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},rl,nl,zi,Vi;function ip(e){return e!==null&&typeof e=="object"}class tn{constructor(t){if(rl.set(this,void 0),nl.set(this,void 0),t.byteLength!==tn.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");zl(this,rl,Jr(t),"f"),zl(this,nl,tn.derEncode(t),"f")}static from(t){if(typeof t=="string"){const r=nn(t);return this.fromRaw(r)}else if(ip(t)){const r=t;if(ip(r)&&Object.hasOwnProperty.call(r,"__derEncodedPublicKey__"))return this.fromDer(r);if(ArrayBuffer.isView(r)){const n=r;return this.fromRaw(Jr(n.buffer))}else{if(r instanceof ArrayBuffer)return this.fromRaw(r);if("rawKey"in r)return this.fromRaw(r.rawKey);if("derKey"in r)return this.fromDer(r.derKey);if("toDer"in r)return this.fromDer(r.toDer())}}throw new Error("Cannot construct Ed25519PublicKey from the provided key.")}static fromRaw(t){return new tn(t)}static fromDer(t){return new tn(this.derDecode(t))}static derEncode(t){const r=x1(t,$l).buffer;return r.__derEncodedPublicKey__=void 0,r}static derDecode(t){const r=v1(t,$l);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return Jr(r)}get rawKey(){return Nn(this,rl,"f")}get derKey(){return Nn(this,nl,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}rl=new WeakMap,nl=new WeakMap;tn.RAW_KEY_LENGTH=32;class On extends Zd{constructor(t,r){super(),zi.set(this,void 0),Vi.set(this,void 0),zl(this,zi,tn.from(t),"f"),zl(this,Vi,new Uint8Array(r),"f")}static generate(t){if(t&&t.length!==32)throw new Error("Ed25519 Seed needs to be 32 bytes long.");t||(t=Ci.utils.randomPrivateKey()),Ko(t,new Uint8Array(new Array(32).fill(0)))&&console.warn("Seed is all zeros. This is not a secure seed. Please provide a seed with sufficient entropy if this is a production environment.");const r=new Uint8Array(32);for(let i=0;i<32;i++)r[i]=new Uint8Array(t)[i];const n=Ci.getPublicKey(r);return On.fromKeyPair(n,r)}static fromParsedJson(t){const[r,n]=t;return new On(tn.fromDer(nn(r)),nn(n))}static fromJSON(t){const r=JSON.parse(t);if(Array.isArray(r)){if(typeof r[0]=="string"&&typeof r[1]=="string")return this.fromParsedJson([r[0],r[1]]);throw new Error("Deserialization error: JSON must have at least 2 items.")}throw new Error(`Deserialization error: Invalid JSON type for string: ${JSON.stringify(t)}`)}static fromKeyPair(t,r){return new On(tn.fromRaw(t),r)}static fromSecretKey(t){const r=Ci.getPublicKey(new Uint8Array(t));return On.fromKeyPair(r,t)}toJSON(){return[Le(Nn(this,zi,"f").toDer()),Le(Nn(this,Vi,"f"))]}getKeyPair(){return{secretKey:Nn(this,Vi,"f"),publicKey:Nn(this,zi,"f")}}getPublicKey(){return Nn(this,zi,"f")}async sign(t){const r=new Uint8Array(t),n=lo(Ci.sign(r,Nn(this,Vi,"f").slice(0,32)));return Object.defineProperty(n,"__signature__",{enumerable:!1,value:void 0}),n}static verify(t,r,n){const[i,s,o]=[t,r,n].map(a=>(typeof a=="string"&&(a=nn(a)),a instanceof Uint8Array&&(a=Jr(a.buffer)),new Uint8Array(a)));return Ci.verify(i,s,o)}}zi=new WeakMap,Vi=new WeakMap;class r0 extends Error{constructor(t){super(t),this.message=t,Object.setPrototypeOf(this,r0.prototype)}}function sp(e){if(typeof global<"u"&&global.crypto&&global.crypto.subtle)return global.crypto.subtle;if(e)return e;if(typeof crypto<"u"&&crypto.subtle)return crypto.subtle;throw new r0("Global crypto was not available and none was provided. Please inlcude a SubtleCrypto implementation. See https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto")}class Vl extends Zd{constructor(t,r,n){super(),this._keyPair=t,this._derKey=r,this._subtleCrypto=n}static async generate(t){const{extractable:r=!1,keyUsages:n=["sign","verify"],subtleCrypto:i}=t??{},s=sp(i),o=await s.generateKey({name:"ECDSA",namedCurve:"P-256"},r,n),a=await s.exportKey("spki",o.publicKey);return new this(o,a,s)}static async fromKeyPair(t,r){const n=sp(r),i=await n.exportKey("spki",t.publicKey);return new Vl(t,i,n)}getKeyPair(){return this._keyPair}getPublicKey(){const t=this._derKey,r=Object.create(this._keyPair.publicKey);return r.toDer=function(){return t},r}async sign(t){const r={name:"ECDSA",hash:{name:"SHA-256"}};return await this._subtleCrypto.sign(r,this._keyPair.privateKey,t)}}var mE=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Pi=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Gr;class gE{constructor(t){Gr.set(this,void 0),mE(this,Gr,t,"f")}get rawKey(){return Pi(this,Gr,"f").rawKey}get derKey(){return Pi(this,Gr,"f").derKey}toDer(){return Pi(this,Gr,"f").toDer()}getPublicKey(){return Pi(this,Gr,"f")}getPrincipal(){if(!Pi(this,Gr,"f").rawKey)throw new Error("Cannot get principal from a public key without a raw key.");return be.fromUint8Array(new Uint8Array(Pi(this,Gr,"f").rawKey))}transformRequest(){return Promise.reject("Not implemented. You are attempting to use a partial identity to sign calls, but this identity only has access to the public key.To sign calls, use a DelegationIdentity instead.")}}Gr=new WeakMap;var yE=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},wE=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},xE=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},il;const vE=new TextEncoder().encode("ic-request-auth-delegation"),_E=new TextEncoder().encode(`
ic-request`);function _u(e){if(typeof e!="string"||e.length<64)throw new Error("Invalid public key.");return nn(e)}class n0{constructor(t,r,n){this.pubkey=t,this.expiration=r,this.targets=n}toCBOR(){return qt.value.map(Object.assign({pubkey:qt.value.bytes(this.pubkey),expiration:qt.value.u64(this.expiration.toString(16),16)},this.targets&&{targets:qt.value.array(this.targets.map(t=>qt.value.bytes(yi(t.toUint8Array()))))}))}toJSON(){return Object.assign({expiration:this.expiration.toString(16),pubkey:Le(this.pubkey)},this.targets&&{targets:this.targets.map(t=>t.toHex())})}}async function bE(e,t,r,n){const i=new n0(t.toDer(),BigInt(+r)*BigInt(1e6),n),s=new Uint8Array([...vE,...new Uint8Array(Oo(Object.assign({},i)))]),o=await e.sign(yi(s));return{delegation:i,signature:o}}class Hl{constructor(t,r){this.delegations=t,this.publicKey=r}static async create(t,r,n=new Date(Date.now()+15*60*1e3),i={}){var s,o;const a=await bE(t,r,n,i.targets);return new Hl([...((s=i.previous)===null||s===void 0?void 0:s.delegations)||[],a],((o=i.previous)===null||o===void 0?void 0:o.publicKey)||t.getPublicKey().toDer())}static fromJSON(t){const{publicKey:r,delegations:n}=typeof t=="string"?JSON.parse(t):t;if(!Array.isArray(n))throw new Error("Invalid delegations.");const i=n.map(s=>{const{delegation:o,signature:a}=s,{pubkey:l,expiration:d,targets:g}=o;if(g!==void 0&&!Array.isArray(g))throw new Error("Invalid targets.");return{delegation:new n0(_u(l),BigInt("0x"+d),g&&g.map(w=>{if(typeof w!="string")throw new Error("Invalid target.");return be.fromHex(w)})),signature:_u(a)}});return new this(i,_u(r))}static fromDelegations(t,r){return new this(t,r)}toJSON(){return{delegations:this.delegations.map(t=>{const{delegation:r,signature:n}=t,{targets:i}=r;return{delegation:Object.assign({expiration:r.expiration.toString(16),pubkey:Le(r.pubkey)},i&&{targets:i.map(s=>s.toHex())}),signature:Le(n)}}),publicKey:Le(this.publicKey)}}}class op extends Zd{constructor(t,r){super(),this._inner=t,this._delegation=r}static fromDelegation(t,r){return new this(t,r)}getDelegation(){return this._delegation}getPublicKey(){return{derKey:this._delegation.publicKey,toDer:()=>this._delegation.publicKey}}sign(t){return this._inner.sign(t)}async transformRequest(t){const{body:r}=t,n=xE(t,["body"]),i=await Oo(r);return Object.assign(Object.assign({},n),{body:{content:r,sender_sig:await this.sign(yi(new Uint8Array([..._E,...new Uint8Array(i)]))),sender_delegation:this._delegation.delegations,sender_pubkey:this._delegation.publicKey}})}}class ql extends gE{constructor(t,r){super(t),il.set(this,void 0),yE(this,il,r,"f")}get delegation(){return wE(this,il,"f")}static fromDelegation(t,r){return new ql(t,r)}}il=new WeakMap;function EE(e,t){for(const{delegation:i}of e.delegations)if(+new Date(Number(i.expiration/BigInt(1e6)))<=+Date.now())return!1;const r=[],n=t==null?void 0:t.scope;n&&(Array.isArray(n)?r.push(...n.map(i=>typeof i=="string"?be.fromText(i):i)):r.push(typeof n=="string"?be.fromText(n):n));for(const i of r){const s=i.toText();for(const{delegation:o}of e.delegations){if(o.targets===void 0)continue;let a=!0;for(const l of o.targets)if(l.toText()===s){a=!1;break}if(a)return!1}}return!0}var ap;(function(e){e[e.ECDSA_WITH_SHA256=-7]="ECDSA_WITH_SHA256"})(ap||(ap={}));const lp=["mousedown","mousemove","keydown","touchstart","wheel"];class cp{constructor(t={}){var r;this.callbacks=[],this.idleTimeout=10*60*1e3,this.timeoutID=void 0;const{onIdle:n,idleTimeout:i=10*60*1e3}=t||{};this.callbacks=n?[n]:[],this.idleTimeout=i;const s=this._resetTimer.bind(this);window.addEventListener("load",s,!0),lp.forEach(function(a){document.addEventListener(a,s,!0)});const o=(a,l)=>{let d;return(...g)=>{const w=this,x=function(){d=void 0,a.apply(w,g)};clearTimeout(d),d=window.setTimeout(x,l)}};if(t!=null&&t.captureScroll){const a=o(s,(r=t==null?void 0:t.scrollDebounce)!==null&&r!==void 0?r:100);window.addEventListener("scroll",a,!0)}s()}static create(t={}){return new this(t)}registerCallback(t){this.callbacks.push(t)}exit(){clearTimeout(this.timeoutID),window.removeEventListener("load",this._resetTimer,!0);const t=this._resetTimer.bind(this);lp.forEach(function(r){document.removeEventListener(r,t,!0)}),this.callbacks.forEach(r=>r())}_resetTimer(){const t=this.exit.bind(this);window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(t,this.idleTimeout)}}const SE=(e,t)=>t.some(r=>e instanceof r);let up,fp;function NE(){return up||(up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TE(){return fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,Vf=new WeakMap,C1=new WeakMap,bu=new WeakMap,i0=new WeakMap;function kE(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{r(Hn(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&P1.set(r,e)}).catch(()=>{}),i0.set(t,e),t}function AE(e){if(Vf.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Vf.set(e,t)}let Hf={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Vf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||C1.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hn(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function BE(e){Hf=e(Hf)}function jE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Eu(this),t,...r);return C1.set(n,t.sort?t.sort():[t]),Hn(n)}:TE().includes(e)?function(...t){return e.apply(Eu(this),t),Hn(P1.get(this))}:function(...t){return Hn(e.apply(Eu(this),t))}}function RE(e){return typeof e=="function"?jE(e):(e instanceof IDBTransaction&&AE(e),SE(e,NE())?new Proxy(e,Hf):e)}function Hn(e){if(e instanceof IDBRequest)return kE(e);if(bu.has(e))return bu.get(e);const t=RE(e);return t!==e&&(bu.set(e,t),i0.set(t,e)),t}const Eu=e=>i0.get(e);function OE(e,t,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Hn(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Hn(o.result),l.oldVersion,l.newVersion,Hn(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const FE=["get","getKey","getAll","getAllKeys","count"],PE=["put","add","delete","clear"],Su=new Map;function dp(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Su.get(t))return Su.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=PE.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||FE.includes(r)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),i&&l.done]))[0]};return Su.set(t,s),s}BE(e=>({...e,get:(t,r,n)=>dp(t,r)||e.get(t,r,n),has:(t,r)=>!!dp(t,r)||e.has(t,r)}));const I1="auth-client-db",U1="ic-keyval",CE=async(e=I1,t=U1,r)=>(M1&&(localStorage!=null&&localStorage.getItem(Bn))&&(localStorage.removeItem(Bn),localStorage.removeItem(Tn)),await OE(e,r,{upgrade:n=>{n.objectStoreNames.contains(t)&&n.clear(t),n.createObjectStore(t)}}));async function IE(e,t,r){return await e.get(t,r)}async function UE(e,t,r,n){return await e.put(t,n,r)}async function ME(e,t,r){return await e.delete(t,r)}class s0{constructor(t,r){this._db=t,this._storeName=r}static async create(t){const{dbName:r=I1,storeName:n=U1,version:i=HE}=t??{},s=await CE(r,n,i);return new s0(s,n)}async set(t,r){return await UE(this._db,this._storeName,t,r)}async get(t){var r;return(r=await IE(this._db,this._storeName,t))!==null&&r!==void 0?r:null}async remove(t){return await ME(this._db,this._storeName,t)}}var $E=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},zE=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},sl;const Tn="identity",Bn="delegation",VE="iv",HE=1,M1=typeof window<"u";class qE{constructor(t="ic-",r){this.prefix=t,this._localStorage=r}get(t){return Promise.resolve(this._getLocalStorage().getItem(this.prefix+t))}set(t,r){return this._getLocalStorage().setItem(this.prefix+t,r),Promise.resolve()}remove(t){return this._getLocalStorage().removeItem(this.prefix+t),Promise.resolve()}_getLocalStorage(){if(this._localStorage)return this._localStorage;const t=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.localStorage:global.localStorage:window.localStorage;if(!t)throw new Error("Could not find local storage.");return t}}class GE{constructor(t){sl.set(this,void 0),$E(this,sl,t??{},"f")}get _db(){return new Promise(t=>{if(this.initializedDb){t(this.initializedDb);return}s0.create(zE(this,sl,"f")).then(r=>{this.initializedDb=r,t(r)})})}async get(t){return await(await this._db).get(t)}async set(t,r){await(await this._db).set(t,r)}async remove(t){await(await this._db).remove(t)}}sl=new WeakMap;const KE="https://identity.internetcomputer.org",LE="#authorize",Nu="ECDSA",Tu="Ed25519",WE=500,YE="UserInterrupt";class DE{constructor(t,r,n,i,s,o,a,l){this._identity=t,this._key=r,this._chain=n,this._storage=i,this.idleManager=s,this._createOptions=o,this._idpWindow=a,this._eventHandler=l,this._registerDefaultIdleCallback()}static async create(t={}){var r,n,i;const s=(r=t.storage)!==null&&r!==void 0?r:new GE,o=(n=t.keyType)!==null&&n!==void 0?n:Nu;let a=null;if(t.identity)a=t.identity;else{let w=await s.get(Tn);if(!w&&M1)try{const x=new qE,b=await x.get(Bn),m=await x.get(Tn);b&&m&&o===Nu&&(console.log("Discovered an identity stored in localstorage. Migrating to IndexedDB"),await s.set(Bn,b),await s.set(Tn,m),w=b,await x.remove(Bn),await x.remove(Tn))}catch(x){console.error("error while attempting to recover localstorage: "+x)}if(w)try{typeof w=="object"?o===Tu&&typeof w=="string"?a=await On.fromJSON(w):a=await Vl.fromKeyPair(w):typeof w=="string"&&(a=On.fromJSON(w))}catch{}}let l=new Pl,d=null;if(a)try{const w=await s.get(Bn);if(typeof w=="object"&&w!==null)throw new Error("Delegation chain is incorrectly stored. A delegation chain should be stored as a string.");t.identity?l=t.identity:w&&(d=Hl.fromJSON(w),EE(d)?"toDer"in a?l=ql.fromDelegation(a,d):l=op.fromDelegation(a,d):(await ku(s),a=null))}catch(w){console.error(w),await ku(s),a=null}let g;return!((i=t.idleOptions)===null||i===void 0)&&i.disableIdle?g=void 0:(d||t.identity)&&(g=cp.create(t.idleOptions)),a||(o===Tu?(a=await On.generate(),await s.set(Tn,JSON.stringify(a.toJSON()))):(t.storage&&o===Nu&&console.warn(`You are using a custom storage provider that may not support CryptoKey storage. If you are using a custom storage provider that does not support CryptoKey storage, you should use '${Tu}' as the key type, as it can serialize to a string`),a=await Vl.generate(),await s.set(Tn,a.getKeyPair()))),new this(l,a,d,s,g,t)}_registerDefaultIdleCallback(){var t,r;const n=(t=this._createOptions)===null||t===void 0?void 0:t.idleOptions;!(n!=null&&n.onIdle)&&!(n!=null&&n.disableDefaultIdleCallback)&&((r=this.idleManager)===null||r===void 0||r.registerCallback(()=>{this.logout(),location.reload()}))}async _handleSuccess(t,r){var n,i;const s=t.delegations.map(d=>({delegation:new n0(d.delegation.pubkey,d.delegation.expiration,d.delegation.targets),signature:d.signature.buffer})),o=Hl.fromDelegations(s,t.userPublicKey.buffer),a=this._key;if(!a)return;this._chain=o,"toDer"in a?this._identity=ql.fromDelegation(a,this._chain):this._identity=op.fromDelegation(a,this._chain),(n=this._idpWindow)===null||n===void 0||n.close();const l=(i=this._createOptions)===null||i===void 0?void 0:i.idleOptions;!this.idleManager&&!(l!=null&&l.disableIdle)&&(this.idleManager=cp.create(l),this._registerDefaultIdleCallback()),this._removeEventListener(),delete this._idpWindow,this._chain&&await this._storage.set(Bn,JSON.stringify(this._chain.toJSON())),r==null||r(t)}getIdentity(){return this._identity}async isAuthenticated(){return!this.getIdentity().getPrincipal().isAnonymous()&&this._chain!==null}async login(t){var r,n,i,s;const o=BigInt(8)*BigInt(36e11),a=new URL(((r=t==null?void 0:t.identityProvider)===null||r===void 0?void 0:r.toString())||KE);a.hash=LE,(n=this._idpWindow)===null||n===void 0||n.close(),this._removeEventListener(),this._eventHandler=this._getEventHandler(a,Object.assign({maxTimeToLive:(i=t==null?void 0:t.maxTimeToLive)!==null&&i!==void 0?i:o},t)),window.addEventListener("message",this._eventHandler),this._idpWindow=(s=window.open(a.toString(),"idpWindow",t==null?void 0:t.windowOpenerFeatures))!==null&&s!==void 0?s:void 0;const l=()=>{this._idpWindow&&(this._idpWindow.closed?this._handleFailure(YE,t==null?void 0:t.onError):setTimeout(l,WE))};l()}_getEventHandler(t,r){return async n=>{var i,s,o;if(n.origin!==t.origin)return;const a=n.data;switch(a.kind){case"authorize-ready":{const l=Object.assign({kind:"authorize-client",sessionPublicKey:new Uint8Array((i=this._key)===null||i===void 0?void 0:i.getPublicKey().toDer()),maxTimeToLive:r==null?void 0:r.maxTimeToLive,allowPinAuthentication:r==null?void 0:r.allowPinAuthentication,derivationOrigin:(s=r==null?void 0:r.derivationOrigin)===null||s===void 0?void 0:s.toString()},r==null?void 0:r.customValues);(o=this._idpWindow)===null||o===void 0||o.postMessage(l,t.origin);break}case"authorize-client-success":try{await this._handleSuccess(a,r==null?void 0:r.onSuccess)}catch(l){this._handleFailure(l.message,r==null?void 0:r.onError)}break;case"authorize-client-failure":this._handleFailure(a.text,r==null?void 0:r.onError);break}}}_handleFailure(t,r){var n;(n=this._idpWindow)===null||n===void 0||n.close(),r==null||r(t),this._removeEventListener(),delete this._idpWindow}_removeEventListener(){this._eventHandler&&window.removeEventListener("message",this._eventHandler),this._eventHandler=void 0}async logout(t={}){if(await ku(this._storage),this._identity=new Pl,this._chain=null,t.returnTo)try{window.history.pushState({},"",t.returnTo)}catch{window.location.href=t.returnTo}}}async function ku(e){await e.remove(Tn),await e.remove(Bn),await e.remove(VE)}const ZE=({IDL:e})=>{const t=e.Record({content:e.Text,created_at:e.Nat64,author:e.Principal,comment_id:e.Nat64}),r=e.Record({post_id:e.Nat64,content:e.Text,original_post_id:e.Opt(e.Nat64),video:e.Opt(e.Text),created_at:e.Nat64,author:e.Principal,likes:e.Vec(e.Principal),image:e.Opt(e.Text),comments:e.Vec(t),reposted_by:e.Opt(e.Principal)}),n=e.Record({bio:e.Text,user_principal:e.Principal,profile_image:e.Text,cover_image:e.Text,name:e.Text,created_at:e.Nat64,followers:e.Vec(e.Principal),following:e.Vec(e.Principal)}),i=e.Record({id:e.Nat64,to:e.Principal,content:e.Text,from:e.Principal,seen:e.Bool,created_at:e.Nat64}),s=e.Variant({Follow:e.Null,Like:e.Null,Repost:e.Null,Comment:e.Null,Message:e.Null}),o=e.Record({read:e.Bool,created_at:e.Nat64,sender:e.Principal,notification_id:e.Nat64,notification_type:s,message:e.Text,receiver:e.Principal});return e.Service({comment_post:e.Func([e.Nat64,e.Text],[e.Variant({Ok:t,Err:e.Text})],[]),create_post:e.Func([e.Text,e.Opt(e.Text),e.Opt(e.Text)],[e.Variant({Ok:r,Err:e.Text})],[]),delete_post:e.Func([e.Nat64],[e.Variant({Ok:e.Text,Err:e.Text})],[]),edit_post:e.Func([e.Nat64,e.Text,e.Opt(e.Text),e.Opt(e.Text)],[e.Variant({Ok:r,Err:e.Text})],[]),follow_user:e.Func([e.Principal],[e.Variant({Ok:e.Text,Err:e.Text})],[]),get_all_posts:e.Func([],[e.Vec(r)],["query"]),get_all_users:e.Func([],[e.Vec(n)],["query"]),get_conversation:e.Func([e.Principal],[e.Vec(i)],["query"]),get_current_user:e.Func([],[e.Opt(n)],["query"]),get_feed:e.Func([],[e.Vec(r)],["query"]),get_followers:e.Func([e.Principal],[e.Vec(e.Principal)],["query"]),get_following:e.Func([e.Principal],[e.Vec(e.Principal)],["query"]),get_inbox:e.Func([],[e.Vec(e.Principal)],["query"]),get_notifications:e.Func([],[e.Vec(o)],["query"]),get_user:e.Func([e.Principal],[e.Opt(n)],["query"]),get_user_posts:e.Func([e.Principal],[e.Vec(r)],["query"]),is_following:e.Func([e.Principal],[e.Bool],["query"]),like_post:e.Func([e.Nat64],[e.Variant({Ok:r,Err:e.Text})],[]),mark_notification_read:e.Func([e.Nat64],[e.Variant({Ok:e.Text,Err:e.Text})],[]),mark_seen:e.Func([e.Principal,e.Nat64],[e.Variant({Ok:e.Text,Err:e.Text})],[]),register_user:e.Func([e.Text,e.Text,e.Text,e.Text],[e.Variant({Ok:n,Err:e.Text})],[]),repost_post:e.Func([e.Nat64],[e.Variant({Ok:r,Err:e.Text})],[]),search_users:e.Func([e.Text],[e.Vec(n)],["query"]),send_message:e.Func([e.Principal,e.Text],[e.Variant({Ok:i,Err:e.Text})],[]),unfollow_user:e.Func([e.Principal],[e.Variant({Ok:e.Text,Err:e.Text})],[]),update_profile:e.Func([e.Text,e.Text,e.Text,e.Text],[e.Variant({Ok:n,Err:e.Text})],[])})},$1="3f6pv-baaaa-aaaab-qacoq-cai",z1=(e,t={})=>{const r=t.agent||new is({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(n=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(n)}),Ec.createActor(ZE,{agent:r,canisterId:e,...t.actorOptions})};z1($1);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ie=(e,t)=>{const r=ae.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...d},g)=>ae.createElement("svg",{ref:g,...QE,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${XE(e)}`,a].join(" "),...d},[...t.map(([w,x])=>ae.createElement(w,x)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Ie("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=Ie("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Ie("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Ie("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Ie("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Ie("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Ie("Repeat2",[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=Ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=Ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=Ie("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Ie("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=Ie("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Ie("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=Ie("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),x6=({onLogin:e})=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:h.jsxs("div",{className:"flex flex-col lg:flex-row min-h-screen",children:[h.jsx("div",{className:"lg:w-1/2 flex items-center justify-center p-8",children:h.jsx("div",{className:"max-w-lg",children:h.jsxs("div",{className:"text-center lg:text-left",children:[h.jsxs("div",{className:"flex items-center justify-center lg:justify-start mb-8",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-2xl",children:h.jsx(Ts,{className:"h-8 w-8 text-white"})}),h.jsx("h1",{className:"ml-3 text-3xl font-bold text-gray-900",children:"DeSocial"})]}),h.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:["Connect on the",h.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:[" ","Decentralized"," "]}),"Social Media"]}),h.jsx("p",{className:"text-xl text-gray-600 mb-8 leading-relaxed",children:"Experience true ownership of your data and connections. Built on the Internet Computer for maximum privacy and security."}),h.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-8",children:[h.jsxs("div",{className:"flex items-center p-4 bg-white/50 rounded-xl backdrop-blur-sm",children:[h.jsx(hp,{className:"h-6 w-6 text-blue-600 mr-3"}),h.jsx("span",{className:"text-gray-700",children:"Secure Internet Identity Authentication"})]}),h.jsxs("div",{className:"flex items-center p-4 bg-white/50 rounded-xl backdrop-blur-sm",children:[h.jsx(r6,{className:"h-6 w-6 text-purple-600 mr-3"}),h.jsx("span",{className:"text-gray-700",children:"Decentralized Data Ownership"})]}),h.jsxs("div",{className:"flex items-center p-4 bg-white/50 rounded-xl backdrop-blur-sm",children:[h.jsx(w6,{className:"h-6 w-6 text-indigo-600 mr-3"}),h.jsx("span",{className:"text-gray-700",children:"Lightning Fast Performance"})]})]})]})})}),h.jsx("div",{className:"lg:w-1/2 flex items-center justify-center p-8 bg-white/30 backdrop-blur-sm",children:h.jsx("div",{className:"w-full max-w-md",children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 backdrop-blur-lg border border-white/20",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to DeSocial"})}),h.jsx("div",{className:"space-y-4",children:h.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center justify-center group",children:[h.jsx(hp,{className:"h-5 w-5 mr-3 group-hover:rotate-12 transition-transform duration-300"}),"Login with Internet Identity"]})}),h.jsx("div",{className:"mt-8 text-center",children:h.jsx("p",{className:"text-sm text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})})})]})}),v6=({actor:e,principal:t,onProfileCreated:r})=>{const[n,i]=ae.useState({name:"",bio:"",profileImage:"",coverImage:""}),[s,o]=ae.useState(!1),[a,l]=ae.useState(""),d=x=>{const{name:b,value:m}=x.target;i(O=>({...O,[b]:m}))},g=(x,b)=>{const m=x.target.files[0];if(m){const O=new FileReader;O.onloadend=()=>{i(P=>({...P,[b]:O.result}))},O.readAsDataURL(m)}},w=async x=>{if(x.preventDefault(),!n.name.trim()){l("Name is required");return}o(!0),l("");try{const b=await e.register_user(n.name,n.bio,n.profileImage,n.coverImage);b.Ok?r(b.Ok):l(b.Err||"Failed to create profile")}catch(b){console.error("Error creating profile:",b),l("Failed to create profile. Please try again.")}finally{o(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsx("div",{className:"max-w-2xl w-full",children:h.jsxs("form",{onSubmit:w,className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-6 rounded-t-3xl",children:[h.jsx("h1",{className:"text-3xl font-bold text-white leading-tight mb-1",children:"Create Your Profile"}),h.jsx("p",{className:"text-blue-100 text-sm",children:"Set up your social media presence"})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"w-full h-44 bg-gray-100 flex items-center justify-center",children:[n.coverImage?h.jsx("img",{src:n.coverImage,alt:"Cover",className:"w-full h-full object-cover"}):h.jsx(fo,{className:"w-10 h-10 text-gray-400"}),h.jsxs("label",{className:"absolute top-3 right-3 cursor-pointer",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:x=>g(x,"coverImage"),className:"hidden"}),h.jsx(fo,{className:"w-6 h-6 text-white bg-black/50 p-1 rounded-full"})]})]}),h.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 -bottom-12",children:h.jsxs("div",{className:"relative w-24 h-24 rounded-full  border-4 border-white bg-gray-100 shadow-md",children:[n.profileImage?h.jsx("img",{src:n.profileImage,alt:"Profile",className:"w-full h-full object-cover rounded-full"}):h.jsx(fo,{className:"w-8 h-8 text-gray-400 m-auto mt-8"}),h.jsxs("label",{className:"absolute bottom-1 right-1 cursor-pointer z-10",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:x=>g(x,"profileImage"),className:"hidden"}),h.jsx(c6,{className:"w-5 h-5 text-white bg-black/50 p-1 rounded-full"})]})]})})]}),h.jsxs("div",{className:"pt-20 px-8 pb-8",children:[a&&h.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-xl border border-red-300",children:a}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name *"}),h.jsx("input",{type:"text",name:"name",value:n.name,onChange:d,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"Enter your name..."})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About"}),h.jsx("textarea",{name:"bio",value:n.bio,onChange:d,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none",placeholder:"Tell us about yourself..."})]}),h.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 hover:shadow-lg disabled:opacity-50",children:s?"Creating Profile...":"Create Profile"})]})]})})})},_6=({actor:e,onPostCreated:t})=>{const[r,n]=ae.useState(""),[i,s]=ae.useState(""),[o,a]=ae.useState(""),[l,d]=ae.useState(!1),[g,w]=ae.useState(""),[x,b]=ae.useState("text"),m=(P,S)=>{const E=P.target.files[0];if(!E)return;const N=new FileReader;N.onloadend=()=>{S==="image"?(s(N.result),b("image")):S==="video"&&(a(N.result),b("video"))},(S==="image"||S==="video")&&N.readAsDataURL(E)},O=async P=>{if(P.preventDefault(),!r.trim()&&!i&&!o){w("Please add some content, an image, or a video");return}d(!0),w("");try{const S=await e.create_post(r,i?[i]:[],o?[o]:[]);S.Ok?(n(""),s(""),a(""),t&&t()):w(S.Err||"Failed to create post")}catch(S){console.error("Error creating post:",S),w("Failed to create post. Please try again.")}finally{d(!1)}};return h.jsx("div",{className:"p-4 lg:p-6",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Post"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Share your thoughts with the world"})]}),h.jsx("div",{className:"border-b border-gray-100",children:h.jsx("div",{className:"flex",children:["text","image","video"].map(P=>{const S=P==="text"?p6:P==="image"?i6:y6;return h.jsxs("button",{onClick:()=>b(P),className:`flex-1 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${x===P?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[h.jsx(S,{className:"h-4 w-4 inline mr-2"}),P.charAt(0).toUpperCase()+P.slice(1)]},P)})})}),h.jsxs("form",{onSubmit:O,className:"p-6",children:[g&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700",children:g}),h.jsx("div",{className:"mb-6",children:h.jsx("textarea",{value:r,onChange:P=>n(P.target.value),placeholder:"What's on your mind?",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-lg"})}),x==="image"&&h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Add Image"}),i?h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:i,alt:"Post preview",className:"w-full h-64 object-cover rounded-xl"}),h.jsx("button",{type:"button",onClick:()=>s(""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:h.jsx(Lf,{className:"h-4 w-4"})})]}):h.jsxs("label",{className:"w-full h-64 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",children:[h.jsx(Kf,{className:"h-12 w-12 text-gray-400 mb-4"}),h.jsx("span",{className:"text-gray-600 font-medium",children:"Click to upload image"}),h.jsx("span",{className:"text-gray-500 text-sm mt-1",children:"(Supported: JPG, PNG)"}),h.jsx("input",{type:"file",accept:"image/*",onChange:P=>m(P,"image"),className:"hidden"})]})]}),x==="video"&&h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Add Video"}),o?h.jsxs("div",{className:"relative",children:[h.jsx("video",{src:o,controls:!0,className:"w-full h-64 rounded-xl"}),h.jsx("button",{type:"button",onClick:()=>a(""),className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:h.jsx(Lf,{className:"h-4 w-4"})})]}):h.jsxs("label",{className:"w-full h-64 border-2 border-dashed border-gray-300 rounded-xl flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50 transition-colors cursor-pointer",children:[h.jsx(Kf,{className:"h-12 w-12 text-gray-400 mb-4"}),h.jsx("span",{className:"text-gray-600 font-medium",children:"Click to upload video"}),h.jsx("span",{className:"text-gray-500 text-sm mt-1",children:"(MP4 preferred)"}),h.jsx("input",{type:"file",accept:"video/*",onChange:P=>m(P,"video"),className:"hidden"})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>{n(""),s(""),a(""),w("")},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Clear"}),h.jsx("button",{type:"submit",disabled:l||!r.trim()&&!i&&!o,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:l?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Posting..."]}):"Post"})]})]})]})})})},b6=({actor:e,user:t,onUserUpdate:r})=>{const[n,i]=ae.useState({name:t.name,bio:t.bio,profileImage:t.profile_image,coverImage:t.cover_image}),[s,o]=ae.useState(!1),[a,l]=ae.useState(""),[d,g]=ae.useState(""),w=m=>{const{name:O,value:P}=m.target;i(S=>({...S,[O]:P}))},x=(m,O)=>{const P=m.target.files[0];if(!P)return;const S=new FileReader;S.onloadend=()=>{i(E=>({...E,[O]:S.result}))},S.readAsDataURL(P)},b=async m=>{if(m.preventDefault(),!n.name.trim()){l("Name is required");return}o(!0),l(""),g("");try{const O=await e.update_profile(n.name,n.bio,n.profileImage,n.coverImage);O.Ok?(r(O.Ok),g("Profile updated successfully!")):l(O.Err||"Failed to update profile")}catch(O){console.error("Error updating profile:",O),l("Failed to update profile. Please try again.")}finally{o(!1)}};return h.jsx("div",{className:"p-4 lg:p-6",children:h.jsx("div",{className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[h.jsxs("div",{className:"p-6 border-b border-gray-100",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Edit Profile"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update your profile information"})]}),h.jsxs("form",{onSubmit:b,className:"p-6",children:[a&&h.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl text-red-700",children:a}),d&&h.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl text-green-700",children:d}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Cover Photo"}),h.jsxs("div",{className:"w-full h-48 rounded-xl overflow-hidden bg-gray-100 border-2 border-gray-200 mb-3 relative",children:[h.jsx("img",{src:n.coverImage||"/no-cover.jpg",alt:"Cover",className:"w-full h-full object-cover"}),h.jsxs("label",{className:"absolute bottom-4 right-4 p-2 bg-black bg-opacity-50 text-white rounded-lg hover:bg-opacity-70 transition-all cursor-pointer",children:[h.jsx(fo,{className:"h-5 w-5"}),h.jsx("input",{type:"file",accept:"image/*",onChange:m=>x(m,"coverImage"),className:"hidden"})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Profile Picture"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-100 border-4 border-white shadow-lg",children:h.jsx("img",{src:n.profileImage||"/no-profile.jpg",alt:"Profile",className:"w-full h-full object-cover"})}),h.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg cursor-pointer",children:[h.jsx(fo,{className:"h-4 w-4"}),h.jsx("input",{type:"file",accept:"image/*",onChange:m=>x(m,"profileImage"),className:"hidden"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center cursor-pointer",children:[h.jsx(Kf,{className:"h-4 w-4 mr-2"}),"Change Photo",h.jsx("input",{type:"file",accept:"image/*",onChange:m=>x(m,"profileImage"),className:"hidden"})]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Click to upload a new photo"})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name *"}),h.jsx("input",{type:"text",name:"name",value:n.name,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter your display name",required:!0})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),h.jsx("textarea",{name:"bio",value:n.bio,onChange:w,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Tell us about yourself..."}),h.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.bio.length,"/500 characters"]})]}),h.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-xl",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Your Stats"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.followers.length}),h.jsx("div",{className:"text-sm text-gray-500",children:"Followers"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.following.length}),h.jsx("div",{className:"text-sm text-gray-500",children:"Following"})]})]})]}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{type:"button",onClick:()=>{i({name:t.name,bio:t.bio,profileImage:t.profile_image,coverImage:t.cover_image}),l(""),g("")},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Reset"}),h.jsx("button",{type:"submit",disabled:s,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:s?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(d6,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})]})})})},Sc=({actor:e,targetUserId:t,size:r="md"})=>{const[n,i]=ae.useState(!1),[s,o]=ae.useState(!1);ae.useEffect(()=>{t&&a()},[t]);const a=async()=>{try{const w=typeof t=="string"?be.fromText(t):t!=null&&t._isPrincipal?t:be.fromText(t.toString()),x=await e.is_following(w);i(x)}catch(w){console.error("Error checking follow status:",w)}},l=async()=>{if(!(s||!t)){o(!0);try{const w=typeof t=="string"?be.fromText(t):t!=null&&t._isPrincipal?t:be.fromText(t.toString()),x=n?await e.unfollow_user(w):await e.follow_user(w);console.log(" Follow/unfollow result:",x),x.Ok?i(!n):alert(x.Err||"Error occurred")}catch(w){console.error(" Error updating follow status:",w)}finally{o(!1)}}},d={sm:"px-3 py-1 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},g={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5"};return h.jsxs("button",{onClick:l,disabled:s,className:`inline-flex items-center ${d[r]} font-medium rounded-lg transition-all duration-200 ${n?"bg-gray-100 text-gray-700 hover:bg-red-50 hover:text-red-600 border border-gray-200":"bg-blue-600 text-white hover:bg-blue-700"} ${s?"opacity-50 cursor-not-allowed":""}`,children:[s?h.jsx("div",{className:`${g[r]} animate-spin rounded-full border-2 border-current border-t-transparent mr-2`}):h.jsx(h.Fragment,{children:n?h.jsx(m6,{className:`${g[r]} mr-2`}):h.jsx(Gl,{className:`${g[r]} mr-2`})}),n?"Unfollow":"Follow"]})},E6=({actor:e,currentUser:t,onUserProfileView:r})=>{const[n,i]=ae.useState([]),[s,o]=ae.useState(""),[a,l]=ae.useState(!0);ae.useEffect(()=>{d()},[e]);const d=async()=>{try{l(!0);const b=(await e.get_all_users()).filter(m=>m.user_principal.toString()!==t.user_principal.toString());i(b)}catch(x){console.error("Error loading users:",x)}finally{l(!1)}},g=async()=>{if(!s.trim()){d();return}try{l(!0);const b=(await e.search_users(s)).filter(m=>m.user_principal.toString()!==t.user_principal.toString());i(b)}catch(x){console.error("Error searching users:",x)}finally{l(!1)}},w=x=>{x.key==="Enter"&&g()};return a?h.jsx("div",{className:"p-4 lg:p-6",children:h.jsx("div",{className:"space-y-4",children:[...Array(6)].map((x,b)=>h.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm animate-pulse",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-full"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-48"})]}),h.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded"})]})},b))})}):h.jsxs("div",{className:"p-4 lg:p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Ts,{className:"h-8 w-8 text-blue-600 mr-3"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Explore Users"})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(H1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),h.jsx("input",{type:"text",value:s,onChange:x=>o(x.target.value),onKeyPress:w,placeholder:"Search users by name or bio...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.jsx("button",{onClick:g,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:"Search"})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.length>0?n.map(x=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[h.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-purple-600 relative",children:h.jsx("img",{src:x.cover_image||"/no-cover.jpg",alt:"Cover",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6 -mt-8 relative",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("button",{onClick:()=>r(x.user_principal),className:"flex items-start space-x-4 flex-1",children:[h.jsx("img",{src:x.profile_image||"/no-profile.jpg",alt:x.name,className:"h-16 w-16 rounded-full object-cover border-4 border-white shadow-md hover:shadow-lg transition-shadow"}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("h3",{className:"font-bold text-gray-900 text-lg hover:text-blue-600 transition-colors",children:x.name}),h.jsxs("p",{className:"text-gray-500 text-sm mb-2",children:["@",x.user_principal.toString().slice(-8)]}),x.bio&&h.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:x.bio})]})]}),h.jsx("div",{className:"ml-4",children:h.jsx(Sc,{actor:e,targetUserId:x.user_principal,size:"md"})})]}),h.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:h.jsxs("div",{className:"flex space-x-6 text-sm text-gray-500",children:[h.jsxs("span",{children:[h.jsx("span",{className:"font-semibold text-gray-900",children:x.followers.length})," Followers"]}),h.jsxs("span",{children:[h.jsx("span",{className:"font-semibold text-gray-900",children:x.following.length})," Following"]})]})})]})]},x.user_principal.toString())):h.jsxs("div",{className:"col-span-full bg-white rounded-2xl p-12 shadow-sm text-center",children:[h.jsx(Ts,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s?"No users found":"No users to explore"}),h.jsx("p",{className:"text-gray-500",children:s?"Try adjusting your search terms":"Be the first to create a profile and start connecting!"})]})})]})},S6=({actor:e,postId:t,comments:r,currentUser:n,onCommentAdded:i,onUserProfileView:s})=>{const[o,a]=ae.useState(""),[l,d]=ae.useState(!1),[g,w]=ae.useState({}),x=ae.useRef(null);ae.useEffect(()=>{b()},[r]);const b=async()=>{const P={};for(const S of r){const E=S.author.toString();if(!P[E])try{const N=await e.get_user(S.author);N[0]&&(P[E]=N[0])}catch(N){console.error("Error loading comment author:",N)}}w(P)},m=async P=>{if(P.preventDefault(),!(!o.trim()||l)){d(!0);try{const S=o.trim(),E=await e.comment_post(t,S),N={comment_id:Date.now().toString(),content:S,author:n.user_principal,created_at:BigInt(Date.now()*1e6)};a(""),i&&i(N,!!(E!=null&&E.Ok)),requestAnimationFrame(()=>{var V;return(V=x.current)==null?void 0:V.focus()})}catch(S){console.error("Error adding comment:",S)}finally{d(!1)}}},O=P=>{const S=new Date(Number(P)/1e6);return S.toLocaleDateString()+" "+S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return h.jsxs("div",{children:[h.jsxs("form",{onSubmit:m,className:"flex space-x-3 mb-6",children:[h.jsx("img",{src:n.profile_image||"/no-profile.jpg",alt:n.name||"You",className:"h-8 w-8 rounded-full object-cover border border-gray-200 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 flex space-x-2",children:[h.jsx("input",{ref:x,type:"text",value:o,onChange:P=>a(P.target.value),placeholder:"Write a comment...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",disabled:l}),h.jsx("button",{type:"submit",disabled:l||!o.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center","aria-label":"Post comment",title:"Post comment",children:h.jsx(h6,{className:"h-4 w-4"})})]})]}),h.jsx("div",{className:"space-y-4",children:r.map(P=>{const S=g[P.author.toString()];return h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:()=>s==null?void 0:s(P.author),className:"flex-shrink-0",children:h.jsx("img",{src:(S==null?void 0:S.profile_image)||"/no-profile.jpg",alt:(S==null?void 0:S.name)||"User",className:"h-8 w-8 rounded-full object-cover border border-gray-200 hover:border-blue-300 transition-colors"})}),h.jsxs("div",{className:"flex-1 bg-gray-50 rounded-xl p-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("button",{onClick:()=>s==null?void 0:s(P.author),className:"font-medium text-gray-900 hover:text-blue-600 transition-colors text-sm",children:(S==null?void 0:S.name)||"Unknown User"}),h.jsx("time",{className:"text-xs text-gray-500",children:O(P.created_at)})]}),h.jsx("p",{className:"text-gray-700 text-sm",children:P.content})]})]},P.comment_id)})})]})},N6=({post:e,actor:t,currentUser:r,onPostUpdate:n,size:i="md"})=>{const[s,o]=ae.useState(!1),[a,l]=ae.useState(0),[d,g]=ae.useState(!1);ae.useEffect(()=>{!e||!r||(o(e.likes.some(m=>m.toString()===r.user_principal.toString())),l(e.likes.length))},[e.post_id,e.likes.length,r.user_principal]);const w=async()=>{if(!d){g(!0);try{(await t.like_post(e.post_id)).Ok&&(o(!s),l(s?a-1:a+1))}catch(m){console.error("Error liking post:",m)}finally{g(!1)}}},x={sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},b={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return h.jsxs("button",{onClick:w,disabled:d,className:`flex items-center space-x-2 ${x[i]} rounded-lg transition-all duration-200 ${s?"text-red-600 bg-red-50 hover:bg-red-100":"text-gray-500 hover:text-red-600 hover:bg-red-50"} ${d?"opacity-50 cursor-not-allowed":""}`,children:[h.jsx(qf,{className:`${b[i]} ${s?"fill-current":""}`}),h.jsx("span",{className:"font-medium",children:a})]})},T6=(e,t)=>e.post.post_id===t.post.post_id&&e.post.likes.length===t.post.likes.length&&e.currentUser.user_principal.toString()===t.currentUser.user_principal.toString()&&e.size===t.size,k6=ae.memo(N6,T6),A6=({post:e,actor:t,currentUser:r,onUserProfileView:n,onPostUpdate:i})=>{var H,Q;const[s,o]=ae.useState(null),[a,l]=ae.useState(null),[d,g]=ae.useState(!1),[w,x]=ae.useState(!1),[b,m]=ae.useState(!1),[O,P]=ae.useState(!1),[S,E]=ae.useState(e.content),[N,V]=ae.useState(e);ae.useEffect(()=>V(e),[e.post_id,e.comments.length]),ae.useEffect(()=>{k()},[e.post_id]);const k=async()=>{try{const te=await t.get_user(e.author);if(te[0]&&o(te[0]),e.original_post_id&&e.reposted_by){const ne=(await t.get_all_posts()).find(le=>le.post_id===e.original_post_id[0]);if(ne){const le=await t.get_user(ne.author);le[0]&&l(le[0])}}}catch(te){console.error("Failed to load author:",te)}},I=async()=>{if(!w){x(!0);try{const te=await t.repost_post(e.post_id);te.Ok?i==null||i():alert(te.Err)}catch(te){console.error("Repost failed:",te)}finally{x(!1)}}},U=()=>{E(e.content),P(!0),m(!1)},L=async()=>{var te,Z;try{const ne=await t.edit_post(e.post_id,S,(te=e.image)!=null&&te[0]?[e.image[0]]:[],(Z=e.video)!=null&&Z[0]?[e.video[0]]:[]);ne.Ok?(P(!1),i==null||i()):alert(ne.Err)}catch(ne){console.error("Edit failed:",ne)}},G=()=>{P(!1),E(e.content)},z=async()=>{if(m(!1),!!confirm("Are you sure you want to delete this post?"))try{const te=await t.delete_post(e.post_id);te.Ok?i==null||i():alert(te.Err)}catch(te){console.error("Delete failed:",te)}},ie=te=>{const Z=new Date(Number(te)/1e6);return`${Z.toLocaleDateString()} ${Z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`};if(!s)return h.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm animate-pulse",children:h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),h.jsxs("div",{className:"ml-3",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]})});const se=((a==null?void 0:a.user_principal)??s.user_principal).toString()===r.user_principal.toString(),j=a??s,$=(te,Z)=>{V(ne=>({...ne,comments:[...ne.comments||[],te]})),Z&&g(!1)};return h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow duration-200",children:[e.reposted_by&&a&&h.jsx("div",{className:"px-6 pt-4 pb-2 border-b border-gray-50",children:h.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[h.jsx(Gf,{className:"h-4 w-4 mr-2"}),h.jsxs("span",{children:["Reposted by"," ",h.jsx("button",{onClick:()=>n(e.reposted_by),className:"font-medium text-blue-600 hover:underline",children:s.name})]})]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center flex-1",children:[h.jsx("button",{onClick:()=>n(j.user_principal),className:"flex-shrink-0",children:h.jsx("img",{src:(a?a.profile_image:s.profile_image)===""?"/no-profile.jpg":a?a.profile_image:s.profile_image,alt:j.name,className:"h-12 w-12 rounded-full object-cover border-2 border-gray-100 hover:border-blue-300"})}),h.jsxs("div",{className:"ml-3 flex-1",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("button",{onClick:()=>n(j.user_principal),className:"font-semibold text-gray-900 hover:text-blue-600",children:j.name}),h.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["@",j.user_principal.toString().slice(-8)]})]}),h.jsxs("div",{className:"flex items-center mt-1",children:[h.jsx("time",{className:"text-sm text-gray-500",children:ie(e.created_at)}),!se&&h.jsx("div",{className:"ml-3",children:h.jsx(Sc,{actor:t,targetUserId:j.user_principal,size:"sm"})})]})]})]}),se&&h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>m(te=>!te),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-full",children:h.jsx(l6,{className:"h-5 w-5"})}),b&&h.jsxs("div",{className:"absolute right-0 mt-1 w-36 bg-white border border-gray-200 rounded-md shadow-lg z-10",children:[h.jsx("button",{onClick:U,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600",children:"Edit Post"}),h.jsx("button",{onClick:z,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Delete Post"})]})]})]}),h.jsxs("div",{className:"mb-4",children:[O?h.jsxs(h.Fragment,{children:[h.jsx("textarea",{className:"w-full border border-gray-300 rounded-md p-2 text-sm text-gray-800",value:S,onChange:te=>E(te.target.value)}),h.jsxs("div",{className:"mt-2 flex gap-2",children:[h.jsx("button",{onClick:L,className:"bg-blue-500 hover:bg-blue-600 text-white text-sm px-3 py-1 rounded",children:"Save"}),h.jsx("button",{onClick:G,className:"bg-gray-200 hover:bg-gray-300 text-sm px-3 py-1 rounded",children:"Cancel"})]})]}):e.content&&h.jsx("p",{className:"text-gray-900 text-base leading-relaxed mb-4",children:e.content}),((H=e.image)==null?void 0:H[0])&&h.jsx("div",{className:"rounded-xl overflow-hidden mb-4",children:h.jsx("img",{src:e.image[0],alt:"Post content",className:"w-full h-auto object-contain",style:{maxHeight:"96vh"}})}),((Q=e.video)==null?void 0:Q[0])&&h.jsx("div",{className:"rounded-xl overflow-hidden mb-4",children:h.jsx("video",{src:e.video[0],controls:!0,className:"w-full h-auto max-h-96"})})]}),h.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-50",children:[h.jsx(k6,{post:e,actor:t,currentUser:r,onPostUpdate:i}),h.jsxs("button",{onClick:()=>g(te=>!te),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-gray-500 hover:text-blue-600 hover:bg-blue-50",children:[h.jsx(V1,{className:"h-5 w-5"}),h.jsx("span",{className:"text-sm font-medium",children:N.comments.length})]}),h.jsxs("button",{onClick:I,disabled:w,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 text-gray-500 hover:text-green-600 hover:bg-green-50 ${w?"opacity-50 cursor-not-allowed":""}`,children:[h.jsx(Gf,{className:"h-5 w-5"}),h.jsx("span",{className:"text-sm font-medium",children:"Repost"})]})]}),d&&h.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100",children:h.jsx(S6,{actor:t,postId:e.post_id,comments:N.comments,currentUser:r,onUserProfileView:n,onCommentAdded:$})})]})]})},B6=(e,t)=>e.post.post_id===t.post.post_id&&e.post.likes.length===t.post.likes.length&&e.post.comments.length===t.post.comments.length&&e.currentUser.user_principal.toString()===t.currentUser.user_principal.toString(),q1=ae.memo(A6,B6),mp=({actor:e,user:t,onUserProfileView:r})=>{const[n,i]=ae.useState([]),[s,o]=ae.useState(!0),[a,l]=ae.useState(!1),d=ae.useRef(null);ae.useEffect(()=>{g()},[e]);const g=async()=>{const x=window.scrollY;try{o(!0);const b=await e.get_feed();i(b)}catch(b){console.error("Error loading feed:",b)}finally{o(!1),requestAnimationFrame(()=>window.scrollTo({top:x,behavior:"instant"}))}},w=async()=>{l(!0),await g(),l(!1)};return s?h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"space-y-6",children:[...Array(3)].map((x,b)=>h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm animate-pulse",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full"}),h.jsxs("div",{className:"ml-3",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},b))})}):h.jsxs("div",{ref:d,className:"p-4 lg:p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Your Feed"}),h.jsxs("button",{onClick:w,disabled:a,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50",children:[h.jsx(f6,{className:`h-4 w-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),h.jsx("div",{className:"space-y-6",children:n.length>0?n.map(x=>h.jsx(q1,{post:x,actor:e,currentUser:t,onUserProfileView:r,onPostUpdate:g},x.post_id)):h.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-sm text-center",children:[h.jsx("div",{className:"text-gray-400 mb-4",children:h.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No posts yet"}),h.jsx("p",{className:"text-gray-500 mb-6",children:"Start following users to see their posts in your feed, or check out the explore page to discover new content."})]})})]})},j6=({actor:e,user:t,onUserProfileView:r})=>{const[n,i]=ae.useState("followers"),[s,o]=ae.useState([]),[a,l]=ae.useState([]),[d,g]=ae.useState([]),[w,x]=ae.useState([]),[b,m]=ae.useState(!0);ae.useEffect(()=>{O()},[e,t]);const O=async()=>{try{m(!0);const[E,N]=await Promise.all([e.get_followers(t.user_principal),e.get_following(t.user_principal)]);o(E),l(N);const V=await Promise.all(E.map(async I=>{try{return(await e.get_user(I))[0]}catch(U){return console.error("Error loading follower data:",U),null}})),k=await Promise.all(N.map(async I=>{try{return(await e.get_user(I))[0]}catch(U){return console.error("Error loading following data:",U),null}}));g(V.filter(I=>I!==null)),x(k.filter(I=>I!==null))}catch(E){console.error("Error loading follow data:",E)}finally{m(!1)}},P=({userData:E})=>h.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("button",{onClick:()=>r(E.user_principal),className:"flex-shrink-0",children:h.jsx("img",{src:E.profile_image||"/no-profile.jpg",alt:E.name,className:"h-16 w-16 rounded-full object-cover border-2 border-gray-200 hover:border-blue-300 transition-colors"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("button",{onClick:()=>r(E.user_principal),className:"text-left",children:[h.jsx("h3",{className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:E.name}),h.jsxs("p",{className:"text-gray-500 text-sm",children:["@",E.user_principal.toString().slice(-8)]}),E.bio&&h.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:E.bio})]}),h.jsxs("div",{className:"flex space-x-4 mt-2 text-sm text-gray-500",children:[h.jsxs("span",{children:[E.followers.length," followers"]}),h.jsxs("span",{children:[E.following.length," following"]})]})]}),h.jsx("div",{className:"flex-shrink-0",children:h.jsx(Sc,{actor:e,targetUserId:E.user_principal,size:"md"})})]})}),S=()=>h.jsx("div",{className:"space-y-4",children:[...Array(3)].map((E,N)=>h.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm animate-pulse",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded-full"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mb-2"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-48"})]}),h.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded"})]})},N))});return h.jsxs("div",{className:"p-4 lg:p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Ts,{className:"h-8 w-8 text-blue-600 mr-3"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Connections"})]}),h.jsxs("div",{className:"flex space-x-6 text-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(pp,{className:"h-4 w-4 text-green-600 mr-1"}),h.jsx("span",{className:"font-semibold text-gray-900",children:s.length}),h.jsx("span",{className:"text-gray-500 ml-1",children:"Followers"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Gl,{className:"h-4 w-4 text-blue-600 mr-1"}),h.jsx("span",{className:"font-semibold text-gray-900",children:a.length}),h.jsx("span",{className:"text-gray-500 ml-1",children:"Following"})]})]})]}),h.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-xl p-1",children:[h.jsxs("button",{onClick:()=>i("followers"),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${n==="followers"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Followers (",s.length,")"]}),h.jsxs("button",{onClick:()=>i("following"),className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all duration-200 ${n==="following"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Following (",a.length,")"]})]}),b?h.jsx(S,{}):h.jsx("div",{className:"space-y-4",children:n==="followers"?d.length>0?d.map(E=>h.jsx(P,{userData:E},E.user_principal.toString())):h.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-sm text-center",children:[h.jsx(pp,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No followers yet"}),h.jsx("p",{className:"text-gray-500",children:"Start sharing great content to attract followers!"})]}):w.length>0?w.map(E=>h.jsx(P,{userData:E},E.user_principal.toString())):h.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-sm text-center",children:[h.jsx(Gl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Not following anyone yet"}),h.jsx("p",{className:"text-gray-500",children:"Discover interesting users in the explore section!"})]})})]})},R6=({actor:e,notifications:t,onNotificationUpdate:r,onUserProfileView:n})=>{const[i,s]=ae.useState({});ae.useEffect(()=>{const d=async()=>{const g={};for(const w of t){const x=w.sender.toString();if(!i[x])try{const b=await e.get_user(w.sender);b.length>0&&(g[x]=b[0])}catch(b){console.error("Error loading sender profile:",b)}}s(w=>({...w,...g}))};t.length>0&&d()},[t]);const o=async d=>{try{await e.mark_notification_read(d),r&&r()}catch(g){console.error("Error marking notification as read:",g)}},a=d=>{switch(d){case"Like":return h.jsx(qf,{className:"h-5 w-5 text-red-500"});case"Comment":return h.jsx(V1,{className:"h-5 w-5 text-blue-500"});case"Follow":return h.jsx(Gl,{className:"h-5 w-5 text-green-500"});case"Repost":return h.jsx(Gf,{className:"h-5 w-5 text-purple-500"});default:return h.jsx(qf,{className:"h-5 w-5 text-gray-500"})}},l=d=>{const g=new Date(Number(d)/1e6),x=new Date-g,b=Math.floor(x/6e4),m=Math.floor(x/36e5),O=Math.floor(x/864e5);return b<1?"Just now":b<60?`${b}m ago`:m<24?`${m}h ago`:O<7?`${O}d ago`:g.toLocaleDateString()};return h.jsxs("div",{className:"p-4 lg:p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Stay updated with your latest interactions"})]}),h.jsx("div",{className:"space-y-4",children:t.length>0?t.map(d=>{const g=i[d.sender.toString()];return h.jsx("div",{className:`bg-white rounded-2xl p-6 shadow-sm border transition-all duration-200 hover:shadow-md ${d.read?"border-gray-100":"border-blue-200 bg-blue-50/30"}`,children:h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsx("div",{className:"flex-shrink-0 mt-1",children:a(d.notification_type)}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("p",{className:"text-gray-900",children:[h.jsx("button",{onClick:()=>n(d.sender),className:"font-semibold hover:text-blue-600 transition-colors",children:(g==null?void 0:g.name)||"User"})," ",d.message]}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l(d.created_at)})]}),!d.read&&h.jsx("button",{onClick:()=>o(d.notification_id),className:"ml-4 p-2 text-blue-600 hover:bg-blue-100 rounded-full transition-colors",title:"Mark as read",children:h.jsx(t6,{className:"h-4 w-4"})})]})})]})},d.notification_id)}):h.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-sm text-center",children:[h.jsx("div",{className:"text-gray-400 mb-4",children:h.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 17h5l-5 5-5-5h5v-6h0V4a1 1 0 011-1h8a1 1 0 011 1v7h0z"})})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications yet"}),h.jsx("p",{className:"text-gray-500",children:"When someone likes, comments, or follows you, you'll see it here."})]})})]})},O6=({actor:e,userId:t,currentUser:r,onUserProfileView:n})=>{const[i,s]=ae.useState(null),[o,a]=ae.useState([]),[l,d]=ae.useState(!0),[g,w]=ae.useState("posts");ae.useEffect(()=>{t&&x()},[t,e]);const x=async()=>{try{d(!0);const O=await e.get_user(t);if(O[0]){s(O[0]);const P=await e.get_user_posts(t);a(P)}}catch(O){console.error("Error loading user profile:",O)}finally{d(!1)}},b=O=>new Date(Number(O)/1e6).toLocaleDateString("en-US",{year:"numeric",month:"long"});if(l)return h.jsx("div",{className:"p-4 lg:p-6",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm animate-pulse",children:[h.jsx("div",{className:"h-64 bg-gray-200 rounded-t-2xl"}),h.jsxs("div",{className:"px-6 pb-6",children:[h.jsxs("div",{className:"flex items-end justify-between -mt-16",children:[h.jsx("div",{className:"h-32 w-32 bg-gray-200 rounded-full border-4 border-white"}),h.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded-lg"})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("div",{className:"h-6 bg-gray-200 rounded w-48 mb-2"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-4"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),h.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]})]})})});if(!i)return h.jsx("div",{className:"p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User not found"}),h.jsx("p",{className:"text-gray-600",children:"The user you're looking for doesn't exist."})]})});const m=i.user_principal.toString()===r.user_principal.toString();return h.jsx("div",{className:"p-4 lg:p-6",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden mb-6",children:[h.jsx("div",{className:"h-64 bg-gradient-to-r from-blue-500 to-purple-600 relative",children:h.jsx("img",{src:i.cover_image||"no-cover.jpg",alt:"Cover",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"px-6 pb-6",children:[h.jsxs("div",{className:"flex items-end justify-between -mt-16",children:[h.jsx("img",{src:i.profile_image||"/no-profile.jpg",alt:i.name,className:"h-32 w-32 rounded-full object-cover border-4 border-white shadow-lg z-10"}),!m&&h.jsx("div",{className:"mb-4",children:h.jsx(Sc,{actor:e,targetUserId:i.user_principal,size:"lg"})})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.name}),h.jsxs("p",{className:"text-gray-500 text-lg",children:["@",i.user_principal.toString().slice(-8)]}),i.bio&&h.jsx("p",{className:"text-gray-700 mt-4 text-lg leading-relaxed",children:i.bio}),h.jsxs("div",{className:"flex items-center mt-4 text-gray-500",children:[h.jsx(e6,{className:"h-5 w-5 mr-2"}),h.jsxs("span",{children:["Joined ",b(i.created_at)]})]}),h.jsxs("div",{className:"flex space-x-6 mt-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),h.jsx("div",{className:"text-gray-500",children:"Posts"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i.followers.length}),h.jsx("div",{className:"text-gray-500",children:"Followers"})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-gray-900",children:i.following.length}),h.jsx("div",{className:"text-gray-500",children:"Following"})]})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[h.jsx("div",{className:"border-b border-gray-100",children:h.jsx("div",{className:"flex",children:h.jsxs("button",{onClick:()=>w("posts"),className:`flex-1 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${g==="posts"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Posts (",o.length,")"]})})}),h.jsx("div",{className:"p-6",children:o.length>0?h.jsx("div",{className:"space-y-6",children:o.map(O=>h.jsx(q1,{post:O,actor:e,currentUser:r,onUserProfileView:n,onPostUpdate:x},O.post_id))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-gray-400 mb-4",children:h.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:m?"You haven't posted anything yet":"No posts yet"}),h.jsx("p",{className:"text-gray-500",children:m?"Share your first post to get started!":"This user hasn't shared any posts yet."})]})})]})]})})};function F6({actor:e,user:t,peers:r,activePeer:n,onSelect:i,onRefresh:s}){var k;const[o,a]=ae.useState({}),[l,d]=ae.useState({}),[g,w]=ae.useState([]),[x,b]=ae.useState({}),m=((k=t==null?void 0:t.user_principal)==null?void 0:k.toString())||"",O=ae.useMemo(()=>r.map(I=>I.toString()),[r]),P=ae.useMemo(()=>{const I=[...(t==null?void 0:t.followers)||[],...(t==null?void 0:t.following)||[]],U=new Set,L=[];for(const G of I){const z=G.toString();U.has(z)||(U.add(z),L.push(G))}return L.filter(G=>!O.includes(G.toString()))},[t==null?void 0:t.followers,t==null?void 0:t.following,O]),S=ae.useMemo(()=>P.map(I=>I.toString()),[P]);ae.useEffect(()=>{(async()=>{const I={};for(const U of r)try{const L=await e.get_user(U);L&&L[0]&&(I[U.toString()]=L[0])}catch{}a(I)})()},[e,r]),ae.useEffect(()=>{(async()=>{if(!P.length){d({});return}const I={};for(const U of P)try{const L=await e.get_user(U);L&&L[0]&&(I[U.toString()]=L[0])}catch{}d(I)})()},[e,P]),ae.useEffect(()=>{(async()=>{try{const I=await e.get_all_users();w(Array.isArray(I)?I:[])}catch{w([])}})()},[e]);const E=ae.useMemo(()=>{const I=new Set;for(const U of(t==null?void 0:t.following)||[])I.add(U.toString());return I},[t==null?void 0:t.following]),N=ae.useMemo(()=>(g||[]).filter(I=>{const U=I.user_principal.toString();return!(U===m||O.includes(U)||E.has(U))}).slice(0,30),[g,m,O,E]),V=async I=>{const U=I.toString();if(!x[U]){b(L=>({...L,[U]:!0}));try{await e.follow_user(I),w(L=>L.filter(G=>G.user_principal.toString()!==U)),s&&s()}catch(L){console.error("follow_user failed",L)}finally{b(L=>({...L,[U]:!1}))}}};return h.jsxs("div",{className:"flex flex-col h-[calc(100svh-220px)] md:h-[calc(100vh-220px)] md:w-[360px] md:max-w-[360px] md:flex-none md:pr-4",children:[h.jsxs("div",{className:"p-4 border-b font-semibold flex items-center justify-between bg-white sticky top-0 z-10",children:[h.jsx("span",{children:"Messages"}),h.jsx("button",{onClick:s,className:"text-sm text-blue-600",children:"Refresh"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.length>0?r.map(I=>{const U=I.toString(),L=o[U];return h.jsxs("button",{onClick:()=>i(I),className:`w-full flex items-center gap-3 p-3 hover:bg-gray-50 ${n&&n.toString()===U?"bg-blue-50":""}`,"aria-label":`Open chat with ${(L==null?void 0:L.name)||U.slice(0,8)}`,children:[h.jsx("img",{className:"w-10 h-10 rounded-full border object-cover shrink-0",src:(L==null?void 0:L.profile_image)||"/no-profile.jpg",alt:""}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("div",{className:"font-medium truncate",children:(L==null?void 0:L.name)||U.slice(0,8)+"..."}),h.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["@",U.slice(0,12)]})]})]},U)}):h.jsx("div",{className:"p-4 text-sm text-gray-500",children:"No conversations yet."}),h.jsxs("div",{className:"p-4 pt-2",children:[h.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-500 mb-2",children:"Start a new chat"}),S.map(I=>{const U=l[I],L=P.find(G=>G.toString()===I);return h.jsxs("div",{className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[h.jsx("img",{className:"w-9 h-9 rounded-full border object-cover shrink-0",src:(U==null?void 0:U.profile_image)||"/no-profile.jpg",alt:""}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"text-sm font-medium truncate",children:(U==null?void 0:U.name)||I.slice(0,8)+"..."}),h.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:["@",I.slice(0,12)]})]}),h.jsx("button",{className:"text-xs px-3 py-1 rounded-full border hover:bg-gray-100 ml-2 shrink-0",onClick:()=>i(L),title:"Start chat",children:"Message"})]},I)})]}),h.jsx("div",{className:"px-4 pb-6",children:(()=>(g||[]).filter(L=>{const G=L.user_principal.toString();return G!==m&&!O.includes(G)}).length>0&&N.length===0?h.jsx("div",{className:"text-sm text-gray-500",children:"Looks like youre connected with everyone."}):N.length===0?null:h.jsx(h.Fragment,{children:N.map(L=>{const G=L.user_principal.toString(),z=!!x[G];return h.jsxs("div",{className:"w-full flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50",children:[h.jsx("img",{className:"w-9 h-9 rounded-full border object-cover shrink-0",src:L.profile_image||"/no-profile.jpg",alt:""}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("div",{className:"text-sm font-medium truncate",children:L.name||G.slice(0,8)+"..."}),h.jsxs("div",{className:"text-[11px] text-gray-500 truncate",children:["@",G.slice(0,12)]})]}),h.jsx("button",{onClick:()=>V(L.user_principal),disabled:z,className:`text-xs px-3 py-1 rounded-full border ml-2 shrink-0 ${z?"opacity-60 cursor-not-allowed":"hover:bg-gray-100"}`,title:"Follow to enable messaging",children:z?"Following...":"Follow to message"})]},G)})}))()})]})]})}const P6=new Intl.DateTimeFormat([],{hour:"2-digit",minute:"2-digit"}),C6=new Intl.DateTimeFormat([],{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"});function I6({msg:e,meStr:t}){var a,l;const n=(((l=(a=e==null?void 0:e.from)==null?void 0:a.toString)==null?void 0:l.call(a))||"")===(t||""),i=ae.useMemo(()=>{try{const d=typeof(e==null?void 0:e.created_at)=="bigint"?e.created_at:BigInt(Number((e==null?void 0:e.created_at)??0)),g=Number(d/1000000n);return Number.isFinite(g)&&g>0?g:Date.now()}catch{return Date.now()}},[e==null?void 0:e.created_at]),s=P6.format(new Date(i)),o=C6.format(new Date(i));return h.jsx("div",{className:`flex ${n?"justify-end":"justify-start"}`,children:h.jsxs("div",{dir:"auto",className:`max-w-[80%] md:max-w-[70%] rounded-2xl px-3 py-2 text-sm shadow break-words whitespace-pre-wrap ${n?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,title:o,children:[h.jsx("div",{children:(e==null?void 0:e.content)??""}),h.jsxs("div",{className:`mt-1 flex items-center gap-2 text-[10px] ${n?"text-blue-100":"text-gray-500"}`,children:[h.jsx("span",{children:s}),n&&h.jsx("span",{className:`inline-flex items-center gap-0.5 ${e!=null&&e.seen?"text-blue-300":""}`,"aria-label":e!=null&&e.seen?"Seen":"Sent",title:e!=null&&e.seen?"Seen":"Sent",children:h.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[h.jsx("path",{d:"M1.5 13.5l4 4 7-7",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 15l3 3 7-7",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]})})}function U6({actor:e,user:t,peer:r,onBack:n,isMobileChat:i}){var G,z,ie,se,j,$;const[s,o]=ae.useState([]),[a,l]=ae.useState(""),[d,g]=ae.useState(null),w=ae.useRef(null),x=ae.useRef(null),b=((z=(G=t==null?void 0:t.user_principal)==null?void 0:G.toString)==null?void 0:z.call(G))||"",m=((ie=r==null?void 0:r.toString)==null?void 0:ie.call(r))||"",O=H=>Array.isArray(H)?H:(H==null?void 0:H.Ok)??H??[],P=H=>typeof H=="bigint"?H:BigInt(Number(H||0)),S=async()=>{if(r)try{const H=await e.get_conversation(r),Q=O(H)||[],te=Array.isArray(Q)?Q:[];o(te);const Z=te.filter(ne=>{var le,oe;return((oe=(le=ne==null?void 0:ne.to)==null?void 0:le.toString)==null?void 0:oe.call(le))===b});if(Z.length>0){const ne=Z[Z.length-1];await e.mark_seen(r,P(ne==null?void 0:ne.id))}}catch(H){console.error("load conversation error",H)}},E=async()=>{if(!r)return g(null);try{const H=await e.get_user(r);g(H&&H[0]?H[0]:null)}catch{g(null)}};ae.useEffect(()=>{E()},[m]),ae.useEffect(()=>(S(),w.current&&clearInterval(w.current),w.current=setInterval(S,3e3),()=>w.current&&clearInterval(w.current)),[m]),ae.useEffect(()=>{var H;(H=x.current)==null||H.scrollIntoView({behavior:"smooth"})},[s]);const N=async H=>{if(H.preventDefault(),!(!a.trim()||!r))try{const Q=await e.send_message(r,a.trim());if(Q!=null&&Q.Err){alert(Q.Err);return}l(""),await S()}catch(Q){console.error("send error",Q),alert("Failed to send message. Check follower relationship and try again.")}},V="h-[calc(100svh-220px)] md:h-[calc(100vh-220px)]";if(!r)return h.jsx("div",{className:`${V} flex items-center justify-center text-gray-500`,children:"Select a conversation"});const k=Array.isArray(s)?s:[],I=(d==null?void 0:d.name)||(m?m.slice(0,8)+"...":"User"),U="@"+((($=(j=(se=d==null?void 0:d.user_principal)==null?void 0:se.toString)==null?void 0:j.call(se))==null?void 0:$.slice(0,12))||m.slice(0,12)),L=(d==null?void 0:d.profile_image)||"/no-profile.jpg";return h.jsxs("div",{className:`flex flex-col ${V}`,children:[h.jsx("div",{className:"p-3 sm:p-4 border-b bg-white sticky top-0 z-10",children:h.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i&&h.jsx("button",{onClick:n,className:"mr-1 inline-flex items-center justify-center rounded-lg border px-2 py-1 text-xs hover:bg-gray-50 md:hidden","aria-label":"Back to conversations",children:" Back"}),h.jsx("img",{src:L,alt:"",className:"w-8 h-8 rounded-full border shrink-0"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("div",{className:"text-sm font-medium truncate",children:I}),h.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:U})]})]}),h.jsx("div",{className:"shrink-0"})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-2",children:[k.map(H=>h.jsx(I6,{msg:H,meStr:b},String(H.id))),h.jsx("div",{ref:x})]}),h.jsxs("form",{onSubmit:N,className:"p-2 sm:p-3 border-t flex gap-2 bg-white sticky bottom-0",children:[h.jsx("input",{className:"flex-1 border rounded-xl px-3 sm:px-4 py-2",value:a,onChange:H=>l(H.target.value),placeholder:"Type a message...","aria-label":"Type a message"}),h.jsx("button",{className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-xl",children:"Send"})]})]})}function M6({actor:e,user:t}){const[r,n]=ae.useState([]),[i,s]=ae.useState(null),[o,a]=ae.useState(!1),[l,d]=ae.useState(t),g=ae.useRef(null),w=async()=>{try{const S=await e.get_inbox();n(Array.isArray(S)?S:[])}catch(S){console.error("get_inbox failed",S)}},x=async()=>{try{const S=t==null?void 0:t.user_principal;if(!S)return;const E=await e.get_user(S),N=E&&E[0]?{...E[0],user_principal:S}:l;d(N||l)}catch(S){console.error("get_user(self) failed",S)}},b=async()=>{await Promise.all([w(),x()])};ae.useEffect(()=>{typeof window<"u"&&window.innerWidth<576&&a(!1)},[]),ae.useEffect(()=>(b(),g.current&&clearInterval(g.current),g.current=setInterval(w,5e3),()=>g.current&&clearInterval(g.current)),[]);const m=S=>{s(S),typeof window<"u"&&window.innerWidth<768&&a(!0)},O=()=>a(!1),P=ae.useMemo(()=>typeof window>"u"?!0:window.matchMedia("(min-width: 768px)").matches,[]);return h.jsxs("div",{className:"max-w-6xl mx-auto px-4 md:px-6",children:[h.jsxs("div",{className:"pt-6 pb-4",children:[h.jsx("h1",{className:"text-2xl font-semibold",children:"Messages"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Chat with people you follow or who follow you"})]}),h.jsx("div",{className:"rounded-xl border bg-white overflow-hidden",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[360px,1fr]",children:[h.jsx("div",{className:o&&!P?"hidden md:block":"block",children:h.jsx(F6,{actor:e,user:l,peers:r,activePeer:i,onSelect:m,onRefresh:b})}),h.jsx("div",{className:!o&&!P?"hidden md:block":"block md:border-l md:border-gray-200",children:h.jsx(U6,{actor:e,user:l,peer:i,onBack:O,isMobileChat:o&&!P})})]})})]})}const $6=({actor:e,user:t,principal:r,onLogout:n,onUserUpdate:i})=>{const[s,o]=ae.useState("feed"),[a,l]=ae.useState([]),[d,g]=ae.useState(0),[w,x]=ae.useState(!1),[b,m]=ae.useState(null);ae.useEffect(()=>{O();const V=setInterval(O,3e4);return()=>clearInterval(V)},[e]);const O=async()=>{try{const V=await e.get_notifications();l(V),g(V.filter(k=>!k.read).length)}catch(V){console.error("Error loading notifications:",V)}},P=V=>{o(V),x(!1),m(null)},S=V=>{m(V),o("userProfile"),x(!1)},E=[{id:"feed",label:"Home",icon:n6},{id:"createPost",label:"Create Post",icon:u6},{id:"editProfile",label:"Edit Profile",icon:g6},{id:"explore",label:"Explore Users",icon:H1},{id:"messages",label:"Messages",icon:a6},{id:"notifications",label:"Notifications",icon:JE,badge:d},{id:"following",label:"Followers/Following",icon:Ts}],N=()=>{switch(s){case"feed":return h.jsx(mp,{actor:e,user:t,onUserProfileView:S});case"createPost":return h.jsx(_6,{actor:e,onPostCreated:()=>P("feed")});case"editProfile":return h.jsx(b6,{actor:e,user:t,onUserUpdate:i});case"explore":return h.jsx(E6,{actor:e,currentUser:t,onUserProfileView:S});case"messages":return h.jsx(M6,{actor:e,user:t});case"notifications":return h.jsx(R6,{actor:e,notifications:a,onNotificationUpdate:O,onUserProfileView:S});case"following":return h.jsx(j6,{actor:e,user:t,onUserProfileView:S});case"userProfile":return h.jsx(O6,{actor:e,userId:b,currentUser:t,onUserProfileView:S});default:return h.jsx(mp,{actor:e,user:t,onUserProfileView:S})}};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsxs("div",{className:"lg:hidden bg-white shadow-sm border-b px-4 py-3 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("button",{onClick:()=>x(!w),className:"p-2 rounded-lg hover:bg-gray-100",children:w?h.jsx(Lf,{className:"h-6 w-6"}):h.jsx(o6,{className:"h-6 w-6"})}),h.jsx("h1",{className:"ml-3 text-xl font-bold text-gray-900",children:"DeSocial"})]}),h.jsx("div",{className:"flex items-center space-x-2",children:h.jsx("img",{src:t.profile_image||"/no-profile.jpg",alt:t.name,className:"h-8 w-8 rounded-full object-cover"})})]}),h.jsxs("div",{className:"flex h-screen overflow-hidden",children:[h.jsxs("div",{className:`${w?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg lg:shadow-none border-r transition-transform duration-300 ease-in-out overflow-y-hidden flex flex-col h-screen`,children:[h.jsx("div",{className:"hidden lg:block p-6 border-b",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-2 rounded-xl",children:h.jsx(Ts,{className:"h-6 w-6 text-white"})}),h.jsx("h1",{className:"ml-3 text-xl font-bold text-gray-900",children:"DeSocial"})]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center cursor-pointer hover:bg-gray-50 rounded-lg p-2 -m-2 transition-colors",onClick:()=>S(t.user_principal),children:[h.jsx("img",{src:t.profile_image||"/no-profile.jpg",alt:t.name,className:"h-12 w-12 rounded-full object-cover border-2 border-gray-200"}),h.jsxs("div",{className:"ml-3",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:["@",t.user_principal.toString().slice(-8)]})]})]}),h.jsxs("div",{className:"mt-4 flex space-x-4 text-sm text-gray-500",children:[h.jsxs("span",{children:[t.following.length," Following"]}),h.jsxs("span",{children:[t.followers.length," Followers"]})]})]}),h.jsx("nav",{className:"px-3",children:E.map(V=>{const k=V.icon,I=s===V.id;return h.jsxs("button",{onClick:()=>P(V.id),className:`w-full flex items-center px-3 py-3 rounded-xl mb-1 transition-all duration-200 ${I?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[h.jsx(k,{className:"h-5 w-5 mr-3"}),h.jsx("span",{className:"flex-1 text-left",children:V.label}),V.badge>0&&h.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:V.badge})]},V.id)})}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t bg-white",children:h.jsxs("button",{onClick:n,className:"w-full flex items-center px-3 py-3 text-red-600 hover:bg-red-50 rounded-xl transition-colors",children:[h.jsx(s6,{className:"h-5 w-5 mr-3"}),"Logout"]})})]}),h.jsx("div",{className:"flex-1 lg:ml-0 overflow-y-auto",children:h.jsx("div",{className:"max-w-4xl mx-auto",children:N()})})]}),w&&h.jsx("div",{className:"lg:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>x(!1)})]})};const gp="https://identity.ic0.app/#authorize",z6=()=>{const[e,t]=ae.useState(null),[r,n]=ae.useState(null),[i,s]=ae.useState(!1),[o,a]=ae.useState(null),[l,d]=ae.useState(null),[g,w]=ae.useState(null),[x,b]=ae.useState(!0);ae.useEffect(()=>{m()},[]);const m=async()=>{try{const N=await DE.create({identityProvider:gp});t(N),await N.isAuthenticated()?await O(N):b(!1)}catch(N){console.error("Error initializing auth:",N),b(!1)}},O=async N=>{const V=N.getIdentity(),k=V.getPrincipal();n(V),s(!0),a(k);const I=z1($1,{agentOptions:{identity:V}});d(I);try{const U=await I.get_current_user(),L=Array.isArray(U)?U[0]:U;L&&L.user_principal?w(L):w(null)}catch(U){console.error("Error fetching user:",U)}b(!1)},P=async()=>{if(e)try{b(!0),await e.login({identityProvider:gp,onSuccess:()=>{O(e)},onError:N=>{console.error("Login error:",N),b(!1)},redirectUri:window.location.origin,maxTimeToLive:BigInt(7*24*60*60*1e9)})}catch(N){console.error("Login error:",N),b(!1)}},S=async()=>{e&&(await e.logout(),s(!1),n(null),a(null),d(null),w(null))},E=async()=>{try{const N=await l.get_current_user(),V=Array.isArray(N)?N[0]:N;V&&V.user_principal?w(V):w(null)}catch(N){console.error(" Error after profile creation in get_current_user():",N)}};return x?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):i?g?h.jsx($6,{actor:l,user:g,principal:o,onLogout:S,onUserUpdate:w}):h.jsx(v6,{actor:l,principal:o,onProfileCreated:E}):h.jsx(x6,{onLogin:P})};Au.createRoot(document.getElementById("root")).render(h.jsx(xw.StrictMode,{children:h.jsx(z6,{})}));
